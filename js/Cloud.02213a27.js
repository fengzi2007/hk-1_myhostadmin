(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cloud"],{"0481":function(e,t,a){"use strict";var o=a("23e7"),s=a("a2bf"),i=a("7b0b"),r=a("50c4"),n=a("a691"),c=a("65f0");o({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=i(this),a=r(t.length),o=c(t,0);return o.length=s(o,t,t,a,0,void 0===e?1:n(e)),o}})},"0c06":function(e,t,a){"use strict";var o=a("630f"),s=a.n(o);s.a},1096:function(e,t,a){"use strict";var o=a("72a4"),s=a.n(o);s.a},"17cb":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKcAAAA7CAYAAAAesprUAAAACXBIWXMAAC4jAAAuIwF4pT92AAAHmElEQVR4nO2d0W3jOBCGuYd7d64CeyuIU0F8FcT3LBDxVRBvAcI6UAGbDmJD8HOcCi6p4JwKLq7g4gpymOBXTqtoSEoiKSrgBxjYJJZESb9mhjMj7pfX11cRiYTIL/GuREIlijMSLFGckWCJ4owESxRnJFiiOCPBEsUZCZYozkiw/KoaWJqmDwEM/BmfXZZl+wDGE/GEskKUpmlo5aNHIcQiy7LnAMYScYxOnGSpTgO7CUchxCxa0WYkUk7pugkhTrAh/VxcwxchxMM2z4O6pjpxroQQ372OyAznAk2kpBs52+b5qsM+FkKIScPN6Jz22zzv7B0SKenYNP65EGJksAld1x1tozo+9ruo+dPzNs/X3Ub9P8qYUwhBB1oanphPaDw3sASuoHMfJ1LuOlgUuoHnbTZMpHzCGNbbPH9psX0bw0LX9ZI+iZTXigdzwuz7EWO2gnK2jthuaetgljlP09SJOGHxxvixr/OncOqHEOLfRMqbRMoTg23eSKRcW/B43xMpH5oc1zbaVFKWZXSi130NUMPc0X7LLusSbqxPrshlJlJqz5eEDOtng3OblrApRnnOLMvIvP8hhDj0NVCGqe0dItasuuLWcadFyOXeQXzc2KcQsgpyvRsYnHv8rOIikbIX76GLOd/JsowC5V2apnOIwmW8VzApuVdf1AmRrOeyTezngCtytds8r5uQcCI64rxq41e47qUiFFhRqOD7/I3FWVCI1NmISvjOFsB9cxOYpUULukFhocoED73ugaSH5WWb51Uxcu58vs1ztqAC0ZEAaUy3NV8ZIYTy6uIbi9MWsMAPWZaFYI0KVOJbkku1ZD3WKrEgtFhpZvpkQSk3uSttU8eT6lhlKA2kCA28i7OX2nqapuSS7kicaZr2NhssA6upmkiMmNyedUhM2zyfIc4/Kva/Ls2muevY1MtxMa31+F6Hd3FCmIXrOA1IoCYu2+vEAFaRRPrEfGVUEpOVjAKS73XH8x37+xVnRZgFvQsU1sckLTVGDtQbKAAsFBa0SHVxhYI26bYbzOarH694izkZYRYUAp31FIM2qYKtfMdeJFA8FHfMVxYK931K2zYpK9osQXbBi+XUCLOgFwtaSqOYMjZJhtsGLp7LSS5gYTnrekupoACKCY1wLk5DYRac9lAuXLToHeirpMnFxWMIj03QY7L3D0qSyyEI1ak4GwqT2KAa5RNOaAdF2fZckbpxBlJCXJVuBnFyk6f3saNmT0J9hkVd9FlD53AmzpbC9DrZqDR4VFnhZnOusq+SJpeznCAHq5o8VRnDot6iwWTXR8jC4UScQxAm4AR2oEkBbjbnKs97co1cn+Wb5UPsOTGomddxgfq9UZOJa6yLcyjChFvmrOYN8+8qfVhPLmX0niSnh6qUxNe5+TrGEGnYLXNNGJDFFAphHcupIljPDfPdPtrpuON9SMHRDH+b5yTaM5xD064yik/3KGl6x5o4hyRMpi2uoK5+rrKQvq0nZ8nYbn1y9dTFtM3zCYT6De1yJowrZVJvWBHnwCym0LSWfXDjKOlx1nPu+cZ1yhJAqPQAUqfSF7h+7twKTvsIYTqLc2jChBu+YP68U3QdcbHnyFfeEw8BZ/FbrTEA10/346vGml75tp6dxDlAiynaumjMgrkZ8NLTjWNn0KZtcYrt6c1J2v+fbY7vgtbiHKIwNW1xG4PXcTnxOreeED9nvU3jRy2oq3P78zr5a9X4MVCLKTQC0sZUZJ0SKR8Z17pwHJfdKMqsU0r7VH73zLzKYcKaCX28VsUaW86hChOWhxvHfYNFDLiOHWftdNgvZ/EPSMyfVz6XHUKNIN5OaCTOAVtMoWmLUyXafwJuj8sXWrecWBxBdc2XiqpRMKXINhiLc8jC1LTFPbaYTKi6g6ycMyW+4apVL/jdo5WOG3/bh4VLuntdddBInAO3mEKzVlDjG6ixnq3PmyZs6BAiwf2tecHtUDoWJ5oxVv9oMgbVg+x1oS/thOgTCFPo0keJlOwfUaOug1vy5a2dTmONaXmZclx30nA1vyNe933BGKlRY8PEpZc4P+179xDmmuk5OBpYzrqJmYqlah0q3eKx06ELU9MWJ9outIU4lYtjV5qZbZdlJY9Y/a56U1eKSRP9fgaLvKs+OCjnzjWN1yavRY8aXk/lhE23kNfeoLRV4EKYNmaNTh4Wg3Y6F80ST4wwixLrN8W2Y7yP/lci5Wv5Q7/D3zhhHppMGm1hspDXwkCgrixmCMt+q1DdMNtJeVqScKpyg1Qzb2BMTPkphPCJ6UJeKoE6c+Ww3G2aZr2ga6ezVFGh/X81XcQWiXdbr/GyltoHxqkkRqA+YswQVnhToRpfm4UIDrjOVOP+Da1ujVY5hpDPOjzYRxNL7ZpG5UsSYpqmAlbBy+QnyzJ6Xfi6w4JeS13g3QXMlM+6HqNr40bN/vaYBBVLZM+Qv+TiyiekinbF+ksK6Hu/WximUvit/r91Si9hUVlvMCmtxyzLvL8FOXQwWSsepn0gSzt+oJU4+yJN0+oC/FGcn5hBibMMcrAi/pcvn5fBijPy+Yn/92UkWKI4I8ESxRkJlijOSLBEcUaCJYozEixRnJEwEUL8B0C5SXTb+K3yAAAAAElFTkSuQmCC"},"2f95":function(e,t,a){e.exports=a.p+"img/half.e4d9c6c6.svg"},"3f40":function(e,t,a){e.exports=a.p+"img/download.57a704a8.svg"},4069:function(e,t,a){var o=a("44d2");o("flat")},"454b":function(e,t,a){"use strict";var o=a("d808"),s=a.n(o);s.a},"4c68":function(e,t,a){"use strict";var o=a("c24e"),s=a.n(o);s.a},"4f99":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAYAAAAiYZ4HAAAAAXNSR0IArs4c6QAAAJpJREFUOE/lklENQjEMRc91gAUUgIWnABwASggOcIAFUAASngQcAAou6bKRBkKyhE/21XX33K5NRTq258AWWNb0EdhJGptMLajiMzDJJsAdGBqUgXBbACdgXaE9sAIukobIZcBVNJV0jdh2VLsVoVS0H0B7SF8tRr8Db41+vcp2jGzWCYwBtGa7mH8EHtF07M2ha0Swea1GJ8ATUYJOEzqwaLIAAAAASUVORK5CYII="},"4fad":function(e,t,a){var o=a("23e7"),s=a("6f53").entries;o({target:"Object",stat:!0},{entries:function(e){return s(e)}})},"5db7":function(e,t,a){"use strict";var o=a("23e7"),s=a("a2bf"),i=a("7b0b"),r=a("50c4"),n=a("1c0b"),c=a("65f0");o({target:"Array",proto:!0},{flatMap:function(e){var t,a=i(this),o=r(a.length);return n(e),t=c(a,0),t.length=s(t,a,a,o,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},6252:function(e,t,a){},"630f":function(e,t,a){},"64b8":function(e,t,a){},"68ed":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"blacklist"},[a("el-card",[a("div",{staticClass:"crumbs-wrapper"},[a("crumbs")],1),a("metalTable",{ref:"tableRef",attrs:{tableLoading:e.tableLoading,tableData:e.tableData,total:e.total,orderby:e.orderby,sorting:e.sorting,page:e.page,pageSize:e.pageSize,search:e.search},on:{getTableData:e.getTableData,"update:orderby":function(t){e.orderby=t},"update:sorting":function(t){e.sorting=t},"update:page":function(t){e.page=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"update:search":function(t){e.search=t}},scopedSlots:e._u([{key:"table",fn:function(){return[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70"}}),a("el-table-column",{attrs:{prop:"status",label:e.$t("common.templateStatus"),width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-tooltip",{attrs:{content:0===o.status?e.$t("common.creating"):e.$t("common.create1")}},[a("status",{attrs:{status:0===o.status?"loading":"success"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"name",label:e.$t("common.templateName"),"min-width":"160","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"username",label:e.$t("cloud.customer"),"min-width":"160","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"size",label:e.$t("common.diskCapacity"),width:"100",formatter:function(e){return e.size+"GB"}}}),a("el-table-column",{attrs:{prop:"store_name",label:e.$t("common.storageName"),"min-width":"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"hostname",label:e.$t("common.sourceInstance"),"min-width":"180","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("router-link",{attrs:{to:{name:"CloudsHome",query:{id:o.hostid}}}},[a("el-link",{staticClass:"text-ellipsis",attrs:{type:"primary"}},[e._v(e._s(o.hostname))])],1)]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:e.$t("admin.createTime"),width:"160"}}),a("el-table-column",{attrs:{label:e.$t("common.manage"),width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("div",{staticClass:"icon-wrapper"},[e.isCustomer?e._e():a("router-link",{attrs:{to:{name:"addCloud",query:{template:o.id}}}},[a("cl-button",{attrs:{type:"create"}})],1),a("cl-button",{staticClass:"ml-20",attrs:{type:"delete"},on:{click:function(t){return e.deleteRow(o)}}})],1)]}}])})]},proxy:!0}])})],1)],1)},s=[],i=(a("c740"),a("dca8"),a("ac1f"),a("841c"),a("96cf"),a("1da1")),r=a("d75a"),n=a("8491"),c=a("ade3"),l={render:function(e){var t,o="";switch(this.status){case"inexistence":o="success";break;case"download":o="loading";break;default:o=this.status;break}var s="half"===this.status||"update"===this.status;return e(s?"img":"i",{class:(t={},Object(c["a"])(t,"el-icon-"+o,!0),Object(c["a"])(t,"cloud-text-info","inexistence"===this.status),Object(c["a"])(t,"cloud-text-success","success"===this.status),Object(c["a"])(t,"cloud-text-danger","error"===this.status),t),style:{cursor:"pointer",height:"13px",width:"13px"},attrs:{src:s?a("aaca")("./"+this.status+".svg"):""}})},props:{status:{}}},d={metaInfo:function(){return{title:this.$t("common.templateList")}},mixins:[r["a"]],components:{status:l},data:function(){return{tableData:[],total:0,tableLoading:!1,isCustomer:!0}},computed:{},watch:{},mounted:function(){var e=this.$searchAlive.urlGetData();e.search&&(this.search=e.search,this.$refs.tableRef.metalSearch=e.search,this.$refs.tableRef.getTableData())},methods:{getTableData:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var o,s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=!(e.length>0&&void 0!==e[0])||e[0],t.$searchAlive.urlUpdate({search:t.search},location.href,t.$route.query),a.prev=2,t.tableLoading=o,s={orderby:t.orderby,sort:t.sorting,per_page:t.pageSize,search:t.search,page:t.page},a.next=7,n["a"].modelListReq(s);case 7:i=a.sent,t.tableData=Object.freeze(i.data),t.total=i.meta.total,r=t.tableData.findIndex((function(e){return 0===e.status})),-1!==r&&setTimeout((function(){t.getTableData(!1)}),5e3),a.next=16;break;case 14:a.prev=14,a.t0=a["catch"](2);case 16:return a.prev=16,t.tableLoading=!1,a.finish(16);case 19:case"end":return a.stop()}}),a,null,[[2,14,16,19]])})))()},deleteRow:function(e){var t=this;this.$swal.fire({title:this.$t("common.confirmDelete"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(o){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!o.isConfirmed){a.next=5;break}return a.next=3,n["a"].delModelReq(e.id);case 3:t.$message.success(t.$t("common.deleteTemplateSuccess")),t.getTableData();case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}}},u=d,m=(a("7916"),a("2877")),p=Object(m["a"])(u,o,s,!1,null,"7649d8f3",null);t["default"]=p.exports},"6e30":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAANZJREFUOE/tVNEJwjAUvJMi9MsRrBNYJ1B/xYojZARH6CgZQVD8tU6gTmDdwB8tSOmTFBEtEYOgIJjPu8vx7nEJYTnngQpzD2sb5+Xo1Bd6U+VoExssG6qejfPnOrHhPEVqQqLxzNAFF+DA40hpCEISbZdLVY0ItiSSMpqJITUs3zFigb6J+0NGZmQhYhDdMrJgRUFcXcHLaH8jfG9HItAkzHsLrkVNRZCQUPfFfTmRa8s/ZDRWgRTYuU7xEK2Glj/V6e0/yiKlBGWTm06Ggj2B2J9pbfQXIVawWnbIV20AAAAASUVORK5CYII="},"6f53":function(e,t,a){var o=a("83ab"),s=a("df75"),i=a("fc6a"),r=a("d1e7").f,n=function(e){return function(t){var a,n=i(t),c=s(n),l=c.length,d=0,u=[];while(l>d)a=c[d++],o&&!r.call(n,a)||u.push(e?[a,n[a]]:n[a]);return u}};e.exports={entries:n(!0),values:n(!1)}},"72a4":function(e,t,a){},"73d9":function(e,t,a){var o=a("44d2");o("flatMap")},7916:function(e,t,a){"use strict";var o=a("a7bd"),s=a.n(o);s.a},"7aba":function(e,t,a){"use strict";var o=a("cb6a"),s=a.n(o);s.a},"7b4e":function(e,t,a){"use strict";var o=a("6252"),s=a.n(o);s.a},"83a9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAAUCAMAAAAEAbViAAAA6lBMVEVHcExkZGRhYWFhYWFaWlovLy9lZWVjY2Nvb29XV1cEBAQ7OztQUFBBQUFlZWVeXl47OztiYmJPT09oaGg9PT1kZGRISEhbW1tiYmJGRkZsbGwyMjKioqKVlZVFRUU5OTlgYGBXV1fW1tZUVFQdHR0CAgIgICDHx8dISEhTU1Nra2tkZGRhYWFZWVlmZmZMTEzR0dEGBgZtbW02NjZEREQqKioCAgJERERERER+fn4CAgICAgICAgJRUVFKSko7OztERERcXFxra2tXV1doaGhkZGRhYWH6+vqLi4u5ubl0dHTm5uZ5eXloO3nwgnbZAAAAPXRSTlMAB7LzIBZBD/4D/HqQ4mcvIKJC+DBabhd/r5bH/v7Y4k7z9qo7Tv77f4G5cMbh5MD8bICmWOCg+PDw1eq5znho+AAAAf5JREFUOMutk/t3mjAUxy8IJMEHFPCtrdbntGp1bXXrQoAAvvb//z1LcDtH3XrWnu3+kHxzkw+59+YC8E9W/L5333vW1oB4yHEM5DmGWAe4hd/L5itAinqeTqt3hRIAadLQ/xALiCOSsUD6n+GDLEVwVyif+Te71t/Z+hT9Yqdnftrad4kUCCEFoUwSMQuNfmqkexbxgFgEPMs6YwMe+pqYG/hgWBhnIZUwrq4wxspJ/6GmZPkyIKAzFgm2Ebmi+hN8I3cmeAKrKIoMInUU/c4uTdMcAFRiwTZiiQrAVUSUblyGVTyPxIeQO4/jS655GO0e9u3RC8B8nWiNNGdkOSdJB6Ac5xSoJaqbI0KrSXLJDpPdYRTvHr9Bg7JUTdPSya8m4i41FUMtVdXUELqUppdslfms2W4fXq2WSUNhs1OFO2GOoDQUQdRCtRTekNxMC8PrbL3FZoePw/Z6yXnP6vKHjFW63OnwmVCfeA/xmcN7GueXpN4ctffb4yN77euUauBQWsg2CrTQo2PJ0jos6IJ2NEov2VcWPR+32+PetDXftwHGvv8k382jt0W5hrFgKz7dKLZ/1fdfTXO4lTYc6EEgz9aDtSfCJreBvyBCjIM6VAMx2EFwla4++HIv7bkvmkOyqMiKuuxdxioygDwT/8qCPYHN2JuNTt7yE/jv9gNC9UJdl/4YrQAAAABJRU5ErkJggg=="},9143:function(e,t,a){"use strict";var o=a("64b8"),s=a.n(o);s.a},"9c52":function(e,t,a){"use strict";var o=a("eb13"),s=a.n(o);s.a},a2bf:function(e,t,a){"use strict";var o=a("e8b5"),s=a("50c4"),i=a("0366"),r=function(e,t,a,n,c,l,d,u){var m,p=c,f=0,h=!!d&&i(d,u,3);while(f<n){if(f in a){if(m=h?h(a[f],f,t):a[f],l>0&&o(m))p=r(e,t,m,s(m.length),p,l-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=m}p++}f++}return p};e.exports=r},a7bd:function(e,t,a){},a9c0:function(e,t,a){},aaca:function(e,t,a){var o={"./downArrows.svg":"251b","./download.svg":"3f40","./half.svg":"2f95","./upArrows.svg":"a51a","./update.svg":"f57e"};function s(e){var t=i(e);return a(t)}function i(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}s.keys=function(){return Object.keys(o)},s.resolve=i,e.exports=s,s.id="aaca"},c24e:function(e,t,a){},c7c6:function(e,t,a){"use strict";var o=a("a9c0"),s=a.n(o);s.a},cb6a:function(e,t,a){},cef8:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAAUBAMAAADB8VhjAAAAJ1BMVEVHcEwzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzNk0fB6AAAADHRSTlMATGQy3RGcd7vvzIhqDgzWAAABFklEQVQoz2NgIAyCxbMmwtisqFKsRtssz5w5c5BBSKJQ3Dw8XKwBRXrOmTM2YGmpjDaz9uqN5QtQpIFSMmBpsYwO8baS7UoO6NIQ3QyhwaHGwYGsBtilOQQYGlFkFjMwL0AYzqLA4IQincbAncBgaGgcKCgoKAqWLmQQN1dTYC0zYBdjYJAMiBQAuVwHonuTklMFQ7tmkjtHujPLogAGLgUpBiTptrRJkcauKgwlkkptLAVCyuwN7WBphN1s2xNUGFQ005JYFMqSWSdORdYNlGZ0MdA0aLM0MAByGBhaGtCkGVYwqLQsZp+yFCwtIwCKjgxJsDQwLgIYFjGoAOlQSMQww2JMGxpj1gsYVPDErLYBgzkD3QAAwwZveDWiMhYAAAAASUVORK5CYII="},d380:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"homepage"},[s("div",{staticClass:"content-box"},[s("div",{staticClass:"crumbs-wrapper"},[s("crumbs",{attrs:{id:t.id,name:t.cloudDetailInfo.hostname}})],1),s("div",{staticClass:"container"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:t.spanNum}},[s("div",{staticClass:"container-item"},[s("div",{staticClass:"top-up"},[s("div",{staticClass:"top-up-first"},[s("div",{staticStyle:{position:"relative","margin-right":"29px",overflow:"hidden","border-radius":"8px","min-width":"64px",height:"64px"}},[s("el-tooltip",{staticClass:"item",attrs:{effect:"light",placement:"top-end",content:t.mainbuttonAlt}},[s("div",{staticClass:"button-wrapper",on:{click:t.handleClickMainbutton}},[t.loadingStatus||"init"===t.status||"reinstall"===t.status||"migrate"===t.status?s("i",{staticClass:"el-icon-loading",staticStyle:{"font-size":"25px"}}):"rescue"===t.status?s("span",{staticClass:"rescue"}):"on"===t.status?s("span",{staticClass:"sprite start"}):"off"===t.status?s("span",{staticClass:"sprite close"}):"waitOn"===t.status?s("span",{staticClass:"sprite waitOn"}):"waitOff"===t.status?s("span",{staticClass:"sprite waitOff"}):"suspend"===t.status?s("span",{staticClass:"sprite pause"}):"wait_reboot"===t.status||"wait"===t.status?s("span",{staticClass:"sprite waiting"}):"unknown"===t.status?s("span",{staticClass:"sprite unknown"}):"snap_restore"===t.status||"backup_restore"===t.status?s("span",{staticClass:"sprite restore"}):"paused"===t.status?s("span",{staticClass:"paused"}):"hot_migrate"===t.status?s("span",{staticClass:"hot-migrate"},[s("i",{staticClass:"iconfont icon-shujuqianyi"})]):"cold_migrate"===t.status?s("span",{staticClass:"hot-migrate cold-migrate"},[s("i",{staticClass:"iconfont icon-shujuqianyi"})]):t._e()])]),t.isCursomerVersion?t._e():[0===t.cloudDetailInfo.lock?s("div",{staticClass:"lock",on:{click:function(e){t.handleClickDialogShow(t.$t("common.locking"),"lock",!1)}}},[s("img",{attrs:{src:a("fa85"),alt:""}})]):s("el-tooltip",{attrs:{content:t.$t("common.theInstanceIsLocked"),placement:"top"}},[s("div",{staticClass:"lock",on:{click:function(e){t.handleClickDialogShow(t.$t("common.unlock"),"unlock",!1)}}},[s("img",{attrs:{src:a("4f99"),alt:""}})])])]],2),s("div",{staticClass:"computer-ip"},[s("div",{staticClass:"ip-info"},[s("span",{staticClass:"ip-info-text"},[s("el-tooltip",{attrs:{placement:"top"}},[s("div",{staticStyle:{cursor:"pointer"},attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(t.$t("common.copy"))+" ")]),"adsl"===t.cloudDetailInfo.type?s("span",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.cloudInfo.ip,expression:"cloudInfo.ip"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticStyle:{"font-size":"22px","font-weight":"bold"}},[t._v(" "+t._s(t.cloudInfo.ip)+" ")]):t.cloudDetailInfo.transparent?s("span",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.cloudDetailInfo.hostname,expression:"cloudDetailInfo.hostname"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticStyle:{"font-size":"22px","font-weight":"bold"}},[t._v(" "+t._s(t.cloudDetailInfo.hostname)+" ")]):s("span",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.cloudInfo.ip?t.cloudInfo.ip:t.netTableData.length>0?t.netTableData[0].ipaddress[0].ipaddress:"",expression:"cloudInfo.ip?cloudInfo.ip:(netTableData.length>0?netTableData[0].ipaddress[0].ipaddress:'')"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticStyle:{"font-size":"22px","font-weight":"bold"}},[t._v(" "+t._s(t.cloudInfo.ip?t.cloudInfo.ip:t.netTableData.length>0?t.netTableData[0].ipaddress[0].ipaddress:"")+" ")])]),t.isCursomerVersion?t._e():s("img",{staticClass:"del-btn",attrs:{src:a("6e30"),alt:""},on:{click:t.delCloud}})],1)]),"vpc"===t.cloudDetailInfo.network_type&&t.cloudInfo.ip?s("span",{staticStyle:{"line-height":"1",color:"#fff"}},[t._v(" "+t._s(t.netTableData.length>0&&t.netTableData[0].ipaddress[0].ipaddress)+"("+t._s(t.$t("cloud.private"))+") ")]):t._e(),s("div",{staticClass:"cloud-bz",on:{click:function(e){t.handleClickDialogShow(t.$t("common.modifyRemarks1"),"remark")}}},[t.cloudDetailInfo.remark?s("span",{staticClass:"editpass-mes"},[t._v(t._s(t.cloudDetailInfo.remark))]):s("span",{staticClass:"editpass-mes"},[t._v(t._s(t.$t("common.remarkInformation")))]),s("span",{staticClass:"icon-editpass"})])]),s("div",{staticClass:"right-box"},[s("div",{staticClass:"computer-info",style:12===t.spanNum?"margin-left: 25px;":""},[s("div",{staticClass:"computer-info-item"},[s("div",{staticClass:"item-text"},[t._v("CPU "),s("span",{staticClass:"ml-5"},[t._v(t._s(t.cloudInfo.cpu)+t._s(t.$t("common.nuclear")))])])]),s("div",{staticClass:"computer-info-item ml-20"},[s("div",{staticClass:"item-text"},[t._v(t._s(t.$t("common.ram"))+" "),s("span",{staticClass:"ml-5"},[t._v(t._s(t.cloudInfo.memory)+"G")])])]),t.isAgent||!t.isCursomerVersion?s("div",{staticClass:"editIcon-wrapper",on:{click:t.handleUpdateComputer}},[s("span",{staticClass:"icon-editpass",staticStyle:{color:"#3673ff !important"}})]):t._e()]),t.isAgent||!t.isCursomerVersion?s("div",{staticClass:"vncButton"},[s("el-button",{staticClass:"elButton",attrs:{type:"primary"},on:{click:function(e){t.handleClickDialogShow(t.$t("common.clone"),"clone")}}},[t._v(t._s(t.$t("common.clone"))+" ")]),s("el-button",{staticClass:"elButton",attrs:{type:"primary"},on:{click:function(e){t.handleClickDialogShow(t.$t("common.createATemplate"),"createModel")}}},[t._v(t._s(t.$t("common.createATemplate"))+" ")])],1):t._e()])]),s("div",{staticClass:"top-up-second"},[s("div",{staticClass:"wiondw-iconWrapper"},[s("div",{staticStyle:{display:"flex","align-items":"center"}},[s("img",{staticClass:"img",attrs:{src:t.$globalUrl+"/common/system/"+t.cloudInfo.svg+".svg",alt:""}})]),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.cloudInfo.operate_system,placement:"top"}},[s("div",{staticClass:"window-text text-ellipsis"},[t._v(t._s(t.cloudInfo.operate_system))])])],1),s("div",{staticClass:"computeOperation-button"},["paused"!==t.status?[s("el-button",{staticClass:"elButton",attrs:{size:"small",type:"primary"},on:{click:t.clickUpReInstallButton}},[s("i",{staticClass:"el-icon-refresh"},[t._v(t._s(t.$t("common.reload"))+" ")])]),s("el-button",{staticClass:"elButton",attrs:{size:"small",type:"primary"},nativeOn:{click:function(e){return t.handleClickVnc(e)}}},[t._v(" "+t._s(t.$t("common.Console"))+" ")]),0===this.rescue?s("el-button",{staticClass:"elButton",attrs:{size:"small"},nativeOn:{click:function(e){t.handleClickDialogShow(t.$t("common.rescueSystem"),"rescue")}}},[t._v(" "+t._s(t.$t("common.rescueSystem"))+" ")]):s("el-button",{staticClass:"elButton",attrs:{size:"small"},nativeOn:{click:function(e){return t.handleClickSystem("offRescue")}}},[t._v(" "+t._s(t.$t("common.exitRescueSystem"))+" ")])]:t._e(),"paused"===t.status?s("el-button",{staticClass:"elButton",attrs:{size:"small"},on:{click:function(e){return t.handleClickSystem("paused")}}},[t._v(t._s(t.$t("common.release"))+" ")]):t._e(),"suspend"===t.status||!t.isAgent&&t.isCursomerVersion?t._e():s("el-button",{staticClass:"elButton",attrs:{size:"small"},on:{click:function(e){return t.handleClickSystem("pause")}}},[t._v(" "+t._s(t.$t("common.suspend"))+" ")]),"suspend"!==t.status||!t.isAgent&&t.isCursomerVersion?t._e():s("el-button",{staticClass:"elButton",attrs:{size:"small"},on:{click:function(e){return t.handleClickSystem("unSuspend")}}},[t._v(" "+t._s(t.$t("common.cancel1"))+" ")]),s("el-dropdown",[s("el-button",{staticClass:"elButton",attrs:{size:"small",type:"primary"}},[t._v(" "+t._s("off"===t.status||"unknown"===t.status?t.$t("common.startingUp"):t.$t("common.powerOff"))+" "),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},["off"===t.status||"unknown"===t.status?s("el-dropdown-item",{nativeOn:{click:function(e){return t.handleClickSystem("open")}}},[t._v(" "+t._s(t.$t("common.startingUp"))+" ")]):"paused"!==t.status?[s("el-dropdown-item",{nativeOn:{click:function(e){return t.handleClickSystem("close")}}},[t._v(" "+t._s(t.$t("common.powerOff"))+" ")]),s("el-dropdown-item",{nativeOn:{click:function(e){return t.handleClickSystem("hardoff")}}},[t._v(" "+t._s(t.$t("common.turnedOff"))+" ")])]:t._e(),s("el-dropdown-item",{nativeOn:{click:function(e){return t.handleClickSystem("restart")}}},[t._v(" "+t._s(t.$t("common.restart"))+" ")]),s("el-dropdown-item",{nativeOn:{click:function(e){return t.handleClickSystem("hardRestart")}}},[t._v(" "+t._s(t.$t("common.powerReset"))+" ")])],2)],1)],2)])]),s("div",{staticClass:"computerInfo-moudle"},[s("computerInfo-moudle",{ref:"computerInfoMoudle",attrs:{isCursomerVersion:t.isCursomerVersion,status:t.status,fastPhotoData:t.fastPhotoData,id:t.id,cloudDetailInfo:t.cloudDetailInfo,ipv6_enable:t.ipv6_enable,migShow:t.migShow,diskStoreSelectOptions:t.diskStoreSelectOptions},on:{"update:fastPhotoData":function(e){t.fastPhotoData=e},"update:fast-photo-data":function(e){t.fastPhotoData=e},"update:cloudDetailInfo":function(e){t.cloudDetailInfo=e},"update:cloud-detail-info":function(e){t.cloudDetailInfo=e},migrationNode:t.handleClickSystem,refreshCloudInfo:t.refreshCloudInfo,changeMigShow:t.changeMigShow,refreshCloudStatus:t.refreshCloudStatus}})],1),"hyperv"!==t.cloudDetailInfo.type?s("div",{staticClass:"computerInfo-moudle"},[s("computerInfo-logData",{ref:"ComputerInfoLogData",attrs:{id:t.id,cloudDetailInfo:t.cloudDetailInfo},on:{refreshCloudInfo:t.refreshCloudInfo,refreshCloudStatus:t.refreshCloudStatus}})],1):t._e()])]),s("el-col",{attrs:{span:t.spanNum}},[s("div",{staticClass:"container-item"},["hyperv"!==t.cloudDetailInfo.type?s("div",{staticClass:"info-wrapper-item"},[s("div",{staticClass:"info-header flow",staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","margin-right":"15px"}},[s("div",{staticClass:"info-header-text"},[t._v(t._s(t.$t("common.trafficBillingStatistics"))+" ")]),s("div",{staticStyle:{display:"flex"}},[1==t.cloudDetailInfo.over_flow_limit_bw?s("div",{staticClass:"flow-title",on:{click:t.ResetBw}},[t._v(" "+t._s(t.$t("common.RecoveryBw"))+" ")]):t._e(),t.isCursomerVersion?t._e():s("div",{staticClass:"flow-title",on:{click:t.ResetNet}},[t._v(" "+t._s(t.$t("common.resetTraffic"))+" ")]),t.cloudDetailInfo.internet?t._e():s("div",{staticClass:"flow-title",on:{click:t.RestoreNet}},[t._v(" "+t._s(t.$t("common.RestoreTheNetwork"))+" ")]),!t.isAgent&&t.isCursomerVersion||"hyperv"===t.cloudDetailInfo.type?t._e():s("div",{staticClass:"flow-title",on:{click:function(e){return t.clearFlow("limit")}}},[t._v(" "+t._s(t.$t("common.billingSettings"))+" ")])])]),s("div",{staticClass:"table-wrapper"},[s("el-table",{attrs:{data:t.flowStatistics,"row-style":t.rowStyle,"cell-class-name":t.callPolice}},[s("el-table-column",{attrs:{prop:"type",label:t.$t("common.typesOf")},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("div",[t._v(" "+t._s(a.type)+" ")])]}}],null,!1,1150045451)}),s("el-table-column",{attrs:{prop:"accept",label:t.$t("common.inflow")}}),s("el-table-column",{attrs:{prop:"send",label:t.$t("common.outflow1")}}),s("el-table-column",{attrs:{prop:"total",label:t.$t("common.total")}}),s("el-table-column",{attrs:{prop:"percent",label:t.$t("common.percentage")},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(a.percent))]}}],null,!1,616222244)})],1)],1)]):t._e(),t.cloudDetailInfo.transparent?t._e():s("div",{staticClass:"computerInfo-moudle",staticStyle:{"margin-bottom":"20px"}},[s("computerInfo-moudle-ip",{ref:"ComputerInfoMoudleIp",attrs:{isCursomerVersion:t.isCursomerVersion,status:t.status,netTableData:t.netTableData,fastPhotoData:t.fastPhotoData,id:t.id,cloudDetailInfo:t.cloudDetailInfo,ipv6_enable:t.ipv6_enable,migShow:t.migShow,diskStoreSelectOptions:t.diskStoreSelectOptions},on:{"update:fastPhotoData":function(e){t.fastPhotoData=e},"update:fast-photo-data":function(e){t.fastPhotoData=e},"update:cloudDetailInfo":function(e){t.cloudDetailInfo=e},"update:cloud-detail-info":function(e){t.cloudDetailInfo=e},migrationNode:t.handleClickSystem,refreshCloudInfo:t.refreshCloudInfo,changeMigShow:t.changeMigShow,refreshNetwork:t.refreshNetwork,refreshCloudStatus:t.refreshCloudStatus}})],1),s("div",{staticClass:"info-wrapper-item"},[s("div",[t.isBtnShow("add")?s("div",{staticClass:"addButton-Wrapper",on:{click:t.addNetWork}},[s("i",{staticClass:"el-icon-plus"})]):t._e()]),s("div",{staticClass:"info-header"},[s("div",{staticClass:"info-header-text"},[t._v(" "+t._s(t.$t("common.NetworkManagement"))+" ")])]),s("div",{staticClass:"table-wrapper"},[s("el-table",{attrs:{data:t.netTableData,"row-style":t.rowStyle}},[s("el-table-column",{attrs:{prop:"ipaddress",label:"IP/MAC"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row,o=(e.column,e.$index);return[s("div",["object"===typeof a.ipaddress?s("div",[a.ipaddress.length>1?s("div",{on:{click:function(e){t.isIpRowShow=!0,t.ipRow=a}}},[s("span",0===o?["normal"===t.cloudDetailInfo.network_type?s("span",[t._v(" "+t._s(t.cloudDetailInfo.mainip)+" ")]):"vpc"===t.cloudDetailInfo.network_type?s("span",[t._v(" "+t._s(a.ipaddress[0].ipaddress)+" ")]):t._e()]:[t._v(t._s(a.ipaddress[0].ipaddress?a.ipaddress[0].ipaddress:t.cloudDetailInfo.mainip))]),s("a",{attrs:{href:"javascript:;"}},[t.caclIpNum(a.ipaddress)>0?s("span",[t._v("("+t._s(t.caclIpNum(a.ipaddress))+")")]):t._e()])]):s("div",[s("span",0===o?["normal"===t.cloudDetailInfo.network_type?s("span",[t._v(" "+t._s(t.cloudDetailInfo.mainip?t.cloudDetailInfo.mainip:a.ipaddress[0]&&a.ipaddress[0].ipaddress)+" ")]):"vpc"===t.cloudDetailInfo.network_type?s("span",[t._v(" "+t._s(a.ipaddress[0].ipaddress)+" ")]):t._e()]:[t._v(" "+t._s(a.ipaddress[0].ipaddress?a.ipaddress[0].ipaddress:"")+" ")])])]):s("div",[t._v(" "+t._s(a.ipaddress)+" ")]),s("div",[t._v(" "+t._s(a.mac)+" "),a.bridge!==t.$t("common.Extranet")||t.isCursomerVersion?t._e():s("el-tooltip",{attrs:{content:1===a.bind_mac?t.$t("common.access1"):t.$t("common.access2")}},[1===a.bind_mac?s("i",{staticClass:"el-icon-lock",staticStyle:{color:"#F56C6C"}}):s("i",{staticClass:"iconfont icon-unlock_1",staticStyle:{color:"#333"}})])],1)])]}}])}),t.cloudDetailInfo.transparent?t._e():s("el-table-column",{attrs:{prop:"network_name",label:t.$t("common.net")+t.$t("common.name")},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("div",[a.type===t.$t("admin.vpcNetwork")?s("div",[s("div",[t._v(" "+t._s(t.cloudInfo.vpc_name)+" ")]),"vpc"===t.cloudInfo.network_type&&t.cloudInfo.vpc_mac?s("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[s("div",[t._v(t._s(t.$t("common.vpcSMacAddress"))+" ")]),s("span",{staticClass:"ml-5",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.cloudInfo.vpc_mac))])]):t._e()],1):s("div",[t._v(" "+t._s(a.network_name)+" ")])])]}}],null,!1,1136513341)}),"hyperv"===t.cloudDetailInfo.type?s("el-table-column",{attrs:{prop:"bindwith",label:"hyperv"===t.cloudDetailInfo.type?t.$t("common.bandwidthout"):t.$t("common.bandwidthInOut"),"show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("div",["hyperv"===t.cloudDetailInfo.type?s("span",[t._v(t._s(a.out_bw)+" Mbps")]):t._e()])]}}],null,!1,2227122577)}):t._e(),s("el-table-column",{attrs:{prop:"bridge",label:t.$t("common.networkType")+"/vlan"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row,o=e.$index;return[s("div",[t.cloudDetailInfo.transparent?s("span",[t._v(" "+t._s(t.$t("cloud.transparentNetwork"))+" ")]):a.type===t.$t("admin.vpcNetwork")?s("span",[t._v(t._s("vpc"===t.cloudDetailInfo.network_type?t.$t("admin.vpcNetwork"):t.$t("common.classicNetwork")))]):s("span",[t._v(t._s(a.type))]),0===o?s("span",[t._v("/"+t._s(t.cloudDetailInfo.vlan||0))]):t._e(),a.vlan&&0!==o?s("span",[t._v("/"+t._s(a.vlan))]):t._e()])]}}])}),s("el-table-column",{attrs:{prop:"niccard_name",label:t.$t("admin.drive")}}),s("el-table-column",{attrs:{label:t.$t("common.manage"),width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("div",{staticClass:"icon-wrapper"},["hyperv"!==t.cloudDetailInfo.type?[a.type===t.$t("admin.vpcNetwork")||"host"===t.cloudDetailInfo.type?s("div",{staticClass:"addButton-Wrapper1",on:{click:function(e){return t.reviseNetwork(a)}}},[s("i",{staticClass:"el-icon-edit-outline box-icon"})]):t._e(),t.isBtnShow("edit")&&a.type===t.$t("admin.vpcNetwork")?s("div",{staticClass:"addButton-Wrapper1",on:{click:function(e){t.handleClickDialogShow(t.$t("common.switchVpcNetwork"),"updateVpc")}}},[s("i",{staticClass:"icon-edit"})]):t._e(),t.isBtnShow("toggle")&&a.type===t.$t("admin.vpcNetwork")&&0===t.cloudDetailInfo.support_nat?s("div",{staticClass:"addButton-Wrapper1",on:{click:function(e){t.isChangeNetworkShow=!0}}},[s("i",{staticClass:"el-icon-refresh"})]):t._e(),t.isBtnShow("del")&&a.type!==t.$t("admin.vpcNetwork")?s("div",{staticClass:"addButton-Wrapper1",on:{click:function(e){return t.deleteNetwork(a)}}},[s("i",{staticClass:"el-icon-delete"})]):t._e()]:[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.reviseNetwork(a)}}},[t._v(" "+t._s(t.$t("admin.modify"))+" ")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.addtabsInfo(a)}}},[t._v(" "+t._s(t.$t("common.add")+t.$t("common.ipAddress"))+" ")]),s("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.deleteBatchIp(a,!0)}}},[t._v(" "+t._s(t.$t("common.delete"))+" ")])]],2)]}}])})],1)],1)]),s("div",{staticClass:"info-wrapper-item"},[t.isAgent&&t.residue("disk_num")||!t.isCursomerVersion?s("div",{staticClass:"addButton-Wrapper",on:{click:t.addDisk}},[s("i",{staticClass:"el-icon-plus"})]):t._e(),s("div",{staticClass:"info-header"},[s("div",{staticClass:"info-header-text"},[t._v(t._s(t.$t("admin.diskInformation"))+" ")])]),s("div",{staticClass:"table-wrapper"},[s("el-table",{attrs:{data:t.diskTableData,"row-style":t.rowStyle}},[s("el-table-column",{attrs:{prop:"name",label:t.$t("admin.diskName1"),"show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("el-tooltip",{attrs:{disabled:!a.real_dir,content:a.real_dir,placement:"bottom"}},[s("span",[t._v(t._s(a.name))])]),"system"===a.type&&1===t.cloudDetailInfo.link_clone?s("el-tooltip",{attrs:{content:t.$t("admin.linkToTheMaster")+t.cloudDetailInfo.link_file,placement:"right"}},[s("i",{staticClass:"el-icon-paperclip ",staticStyle:{color:"#46bf8b"}})]):t._e(),a.remarks?s("div",{staticStyle:{color:"#ccc","font-size":"12px","line-height":"1"}},[t._v(" "+t._s(a.remarks))]):t._e()]}}])}),s("el-table-column",{attrs:{prop:"typeAndSize",label:t.$t("admin.typeSize")},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-tooltip",{attrs:{content:t.storeFormatter(e.row),placement:"right"}},[s("div",[t._v(t._s(e.row.typeAndSize))])])]}}])}),t.isCursomerVersion||"hyperv"===t.cloudDetailInfo.type?t._e():s("el-table-column",{attrs:{prop:"real_size"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.calcRealSize(e.row.real_size))+" ")]}}],null,!1,521744782)},[s("template",{slot:"header"},[s("span",[t._v(t._s(t.$t("admin.realOccupy")))]),s("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:t.$t("disk.tip5")}},[s("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1)],2),s("el-table-column",{attrs:{prop:"status",label:t.$t("admin.mount1")},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",[2===e.row.status?s("el-tooltip",{attrs:{content:t.$t("admin.mount2"),placement:"right"}},[s("i",{staticClass:"el-icon-loading",staticStyle:{color:"#C0C4CC"}})]):t._e(),t.showOpertionButton("uninstall",e.row)?s("el-tooltip",{attrs:{content:t.$t("admin.mount3"),placement:"right"}},[s("span",{staticClass:"icon el-icon-success",staticStyle:{color:"#46bf8b"}})]):t._e(),t.showOpertionButton("mount",e.row)?s("el-tooltip",{attrs:{content:t.$t("admin.uninstalled"),placement:"right"}},[s("span",{staticClass:"icon el-icon-error"})]):t._e()],1)]}}])}),s("el-table-column",{attrs:{prop:"create_time",label:t.$t("common.createdTime"),"min-width":100}}),t.isAgent||!t.isCursomerVersion?s("el-table-column",{attrs:{label:t.$t("common.manage"),prop:"status",width:"zh-cn"===t.$i18n.locale?"":"260px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("div",{staticClass:"icon-wrapper"},[s("cl-button",{attrs:{type:"update",size:"mini"},on:{click:function(e){return t.editDisk(a)}}}),"system"!==a.type?s("cl-button",{attrs:{type:"delete",size:"mini"},on:{click:function(e){return t.deleteDisk(a)}}}):t._e(),"system"!==a.type?s("el-button",{attrs:{type:a.status?"danger":"primary",size:"mini"},on:{click:function(e){return t.changeDisk(a)}}},[t._v(" "+t._s(a.status?t.$t("common.uninstall"):t.$t("admin.mount1"))+" ")]):t._e(),"hyperv"!==t.cloudDetailInfo.type?s("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(e){t.handleClickDialogShow(t.$t("common.migrate"),"migrate",!1,a)}}},[t._v(" "+t._s(t.$t("common.migrate"))+" ")]):t._e()],1)]}}],null,!1,3880138720)}):t._e()],1)],1)]),"hyperv"===t.cloudDetailInfo.type?s("div",{staticClass:"computerInfo-moudle"},[s("computerInfo-logData",{ref:"ComputerInfoLogData",attrs:{id:t.id,cloudDetailInfo:t.cloudDetailInfo},on:{refreshCloudInfo:t.refreshCloudInfo,refreshCloudStatus:t.refreshCloudStatus}})],1):t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:"hyperv"!==t.cloudDetailInfo.type,expression:"cloudDetailInfo.type !== 'hyperv'"}],staticClass:"info-wrapper-item"},[s("div",{staticClass:"link"}),s("div",{staticClass:"echartsOne-wrapper-card"},[s("el-tabs",{model:{value:t.activeEchartsName,callback:function(e){t.activeEchartsName=e},expression:"activeEchartsName"}},[s("el-tab-pane",{attrs:{label:t.$t("common.cpuUsage"),name:"cloudCpu"}}),s("el-tab-pane",{attrs:{label:t.$t("common.hardDiskIo"),name:"cloudDisk"}}),s("el-tab-pane",{attrs:{name:"cloudStorage"}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("common.memory"))+" "),s("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[s("div",[t._v(t._s(t.$t("common.err4"))+" ")]),s("i",{staticClass:"el-icon-question",staticStyle:{color:"#cccccc"},attrs:{slot:"reference"},slot:"reference"})])],1)]),s("el-tab-pane",{attrs:{label:t.$t("common.networkCard"),name:"cloudNetwork"}}),s("el-tab-pane",{attrs:{label:t.$t("common.dosage"),name:"serveNetwork"}}),s("el-tab-pane",{attrs:{label:t.$t("common.packetForwardingRate"),name:"cloudPPS"}})],1)],1),s("div",{staticClass:"flowEchartWrapper",staticStyle:{padding:"10px 40px 20px"}},[s("flowEcharts",{ref:"flowEcharts",attrs:{nodeId:t.node_id,kvm:t.cloudInfo.kvm,type:t.activeEchartsName,diskInfo:t.cloudDetailInfo.disk,networkInfo:t.netTableData,toDayDate:t.cloudDetailInfo.create_time}})],1)])])])],1)],1)]),s("el-dialog",{attrs:{title:t.$t("common.networkSwitching"),visible:t.isChangeNetworkShow,width:"604px"},on:{"update:visible":function(e){t.isChangeNetworkShow=e},closed:t.closeDialog,open:t.openVpcDialog}},[s("el-row",{attrs:{gutter:15}},["vpc"===t.cloudInfo.network_type?s("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.formDataRule}},[s("el-form-item",{attrs:{label:t.$t("common.switchNetworkMode"),"label-width":"160px"}},[s("el-select",{attrs:{value:0,disabled:""}},[s("el-option",{attrs:{label:t.$t("common.classicNetwork"),value:0}})],1)],1),s("el-form-item",{attrs:{"label-width":"50px",prop:"isAgree"}},[s("el-checkbox",{model:{value:t.isAgree,callback:function(e){t.isAgree=e},expression:"isAgree"}},[s("span",{staticClass:"msg1",staticStyle:{color:"#f94a56"}},[t._v(" "+t._s(t.$t("common.msg1"))+" ")])])],1)],1):s("el-form",{ref:"formData",staticClass:"dialog-form",attrs:{model:t.formData,rules:t.formDataRule,size:"medium","label-width":"160px","label-position":t.$globalConfig.labelPosition}},[s("el-form-item",{attrs:{label:t.$t("common.switchNetworkMode")}},[s("el-select",{attrs:{value:0,disabled:""}},[s("el-option",{attrs:{label:t.$t("admin.vpcNetwork"),value:0}})],1)],1),s("el-form-item",{attrs:{label:t.$t("admin.vpcNetwork"),prop:"vpc"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:t.$t("common.selectNetwork")},on:{change:function(e){return t.$refs.formData.clearValidate("vpc_ips")}},model:{value:t.formData.vpc,callback:function(e){t.$set(t.formData,"vpc",e)},expression:"formData.vpc"}},[!t.isAgent||t.cloudDetailInfo.resource_package&&-1!==t.cloudDetailInfo.resource_package.vpc_num?s("el-option",{attrs:{label:t.$t("cloud.createANewNetwork"),value:0}}):t._e(),t._l(t.vpcNetwork,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],2)],1),0===t.formData.vpc?s("el-form-item",{attrs:{label:t.$t("cloud.internalIpSegment"),prop:"vpc_ips"}},[s("el-select",{staticStyle:{width:"70px"},on:{change:t.changeVpcIp},model:{value:t.vpc_ips.vpc1.value,callback:function(e){t.$set(t.vpc_ips.vpc1,"value",e)},expression:"vpc_ips.vpc1.value"}},t._l(t.vpc_ips.vpc1.select,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1),s("span",{staticClass:"mr-5 ml-5"},[t._v("·")]),s("el-tooltip",{attrs:{content:t.vpc_ips.vpc1.tips,placement:"top"}},[s("el-input-number",{staticClass:"vpc_ips",attrs:{disabled:192===t.vpc_ips.vpc1.value,step:1,controls:!1,min:t.vpc_ips.min,max:t.vpc_ips.max},model:{value:t.vpc_ips.vpc2,callback:function(e){t.$set(t.vpc_ips,"vpc2",e)},expression:"vpc_ips.vpc2"}})],1),s("span",{staticClass:"mr-5 ml-5"},[t._v("·")]),s("el-tooltip",{attrs:{content:t.vpc_ips.vpc3Tips,placement:"top",disabled:!t.vpc_ips.vpc3Tips}},[s("el-input-number",{staticClass:"vpc_ips",attrs:{disabled:16===t.vpc_ips.vpc6.value,step:1,controls:!1,min:0,max:255},on:{blur:t.changeVpc3},model:{value:t.vpc_ips.vpc3,callback:function(e){t.$set(t.vpc_ips,"vpc3",e)},expression:"vpc_ips.vpc3"}})],1),s("span",{staticClass:"mr-5 ml-5"},[t._v("·")]),s("el-tooltip",{attrs:{content:t.vpc_ips.vpc4Tips,placement:"top",disabled:!t.vpc_ips.vpc4Tips}},[s("el-input-number",{staticClass:"vpc_ips",attrs:{disabled:t.vpc_ips.vpc6.value<25,step:1,controls:!1,min:0,max:255},on:{blur:t.changeVpc4},model:{value:t.vpc_ips.vpc4,callback:function(e){t.$set(t.vpc_ips,"vpc4",e)},expression:"vpc_ips.vpc4"}})],1),s("span",{staticClass:"mr-5 ml-5"},[t._v("/")]),s("el-select",{staticStyle:{width:"70px"},on:{change:t.changeVpcMask},model:{value:t.vpc_ips.vpc6.value,callback:function(e){t.$set(t.vpc_ips.vpc6,"value",e)},expression:"vpc_ips.vpc6.value"}},t._l(t.vpc_ips.vpc6.select,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1):s("el-form-item",{attrs:{label:t.$t("cloud.internalIpSegment"),prop:""}},[s("div",[t._v(t._s(t.vpcName))])]),s("el-form-item",{attrs:{"label-width":"50px",prop:"isAgree"}},[s("el-checkbox",{model:{value:t.isAgree,callback:function(e){t.isAgree=e},expression:"isAgree"}},[s("span",{staticClass:"msg1",staticStyle:{color:"#f94a56"}},[t._v(" "+t._s(t.$t("common.msg1"))+" ")])])],1)],1)],1),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.isChangeNetworkShow=!1}}},[t._v(t._s(t.$t("common.cancel")))]),s("el-button",{attrs:{type:"primary"},on:{click:t.changeNetWork}},[t._v(t._s(t.$t("common.sure")))])],1)],1),s("el-dialog",{attrs:{title:"vpc"===t.cloudInfo.network_type?t.$t("common.modifyVpcNetwork"):t.$t("common.modifyClassicNetwork"),visible:t.networkTableEdit,width:"500px"},on:{"update:visible":function(e){t.networkTableEdit=e},closed:t.resetFloatGroupForm}},[s("el-row",{attrs:{gutter:15}},[s("el-form",{ref:"networkForm",attrs:{model:t.networkForm,rules:t.ipRule,size:"medium","label-width":"140px","label-position":t.$globalConfig.labelPosition}},["adsl"!==t.cloudDetailInfo.type?s("el-form-item",{attrs:{label:t.$t("common.primaryIp"),"label-width":t.formLabelWidth,prop:"mainip"}},[s("el-select",{staticStyle:{width:"85%"},attrs:{placeholder:t.$t("common.pleaseSelectIp")},model:{value:t.networkForm.mainip,callback:function(e){t.$set(t.networkForm,"mainip",e)},expression:"networkForm.mainip"}},[t._l(t.mainIpSelectOptions,(function(e){return s("el-option",{key:e.id,attrs:{label:e.ipaddress,value:e.id,disabled:e.disabled}})})),t._l(t.cloudDetailInfo.ipv6,(function(e){return s("el-option",{key:e.id,attrs:{label:e.ipv6,value:e.id,disabled:e.disabled}})}))],2)],1):t._e(),[s("div",["hyperv"===t.cloudDetailInfo.type||1===t.cloudDetailInfo.transparent?[!t.isAgent&&t.isCursomerVersion||"hyperv"==t.cloudDetailInfo.type?t._e():s("el-form-item",{attrs:{label:t.$t("common.bandwidth"),prop:"in_bw","label-width":"110px",disabled:!0}},[s("div",{staticStyle:{display:"flex"}},[s("span",{staticStyle:{"margin-right":"17px"}},[t._v(t._s(t.$t("common.enter")))]),s("el-input",{staticStyle:{width:"220px"},attrs:{props:"in_bw",type:"text",autocomplete:"off"},model:{value:t.networkForm.in_bw,callback:function(e){t.$set(t.networkForm,"in_bw",e)},expression:"networkForm.in_bw"}}),s("div",{staticStyle:{display:"flex",flex:"1","justify-content":"flex-start","margin-left":"25px"}},[t._v(" Mbps")])],1)]),t.isAgent||!t.isCursomerVersion?s("el-form-item",{attrs:{prop:"out_bw","label-width":"110px",disabled:!0,label:"hyperv"===t.cloudDetailInfo.type?t.$t("common.bandwidth"):""}},[s("div",{staticStyle:{display:"flex"}},[s("span",{staticStyle:{"margin-right":"17px"}},[t._v(t._s(t.$t("common.out"))+" ")]),s("el-input",{staticStyle:{width:"220px"},attrs:{type:"text",autocomplete:"off"},model:{value:t.networkForm.out_bw,callback:function(e){t.$set(t.networkForm,"out_bw",e)},expression:"networkForm.out_bw"}}),s("div",{staticStyle:{display:"flex",flex:"1","justify-content":"flex-start","margin-left":"25px"}},[t._v(" Mbps")])],1)]):t._e()]:t._e(),!t.isAgent&&t.isCursomerVersion||"hyperv"==t.cloudDetailInfo.type?t._e():s("el-form-item",{attrs:{label:t.$t("common.macAddress"),prop:"mac","label-width":"140px"}},[s("div",{staticClass:"random-password"},[s("el-input",{staticStyle:{width:"220px"},attrs:{type:"text"},model:{value:t.networkForm.mac,callback:function(e){t.$set(t.networkForm,"mac",e)},expression:"networkForm.mac"}}),s("div",{staticClass:"icon",on:{click:function(e){return t.randomMac("networkForm")}}},[s("span",{staticClass:" icon-random"})])],1)]),!t.isAgent&&t.isCursomerVersion||"hyperv"==t.cloudDetailInfo.type?t._e():s("el-form-item",{attrs:{label:t.$t("common.NetworkCardModel"),prop:"niccard","label-width":"140px"}},[s("div",{staticClass:"random-password"},[s("el-select",{staticStyle:{width:"220px"},on:{change:t.changeNiccard},model:{value:t.networkForm.niccard,callback:function(e){t.$set(t.networkForm,"niccard",e)},expression:"networkForm.niccard"}},t._l(t.driveSelectOptions,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.type}})})),1)],1)]),!t.isAgent&&t.isCursomerVersion||"hyperv"==t.cloudDetailInfo.type||"adsl"===t.cloudDetailInfo.type?t._e():s("el-form-item",{attrs:{label:t.$t("common.IPmacBinding"),prop:"bind_mac","label-width":"140px"}},[s("template",{slot:"label"},[s("span",[t._v(t._s(t.$t("common.IPmacBinding")))]),s("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:t.$t("common.msg2")}},[s("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),s("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.networkForm.bind_mac,callback:function(e){t.$set(t.networkForm,"bind_mac",e)},expression:"networkForm.bind_mac"}})],2)],2)],"off"!==t.status&&t.dataRow.mac!==t.networkForm.mac||t.isCardMsgShow?[s("div",{staticClass:"tag-danger"},[t.isCardMsgShow?s("span",{staticClass:"title"},[t._v(t._s(t.$t("common.shutdownState")))]):s("span",{staticClass:"title"},[t._v(t._s(t.$t("common.msg3")))]),s("ul",[s("li",[t._v(t._s(t.$t("common.makeSureCarefully"))+" ")]),s("li",[t._v(t._s(t.$t("common.beforeProceeding"))+" ")])])]),s("el-form-item",{attrs:{label:t.$t("common.forcedShutdown"),"label-width":"140px",prop:"agree"}},[s("el-checkbox",{model:{value:t.networkForm.agree,callback:function(e){t.$set(t.networkForm,"agree",e)},expression:"networkForm.agree"}},[t._v(t._s(t.$t("common.AgreeForced")))])],1)]:t._e()],2)],1),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.networkTableEdit=!1}}},[t._v(t._s(t.$t("common.cancel")))]),s("el-button",{attrs:{type:"primary"},on:{click:t.submitNetworkEdit}},[t._v(t._s(t.$t("common.sure")))])],1)],1),s("el-dialog",{attrs:{title:t.$t("common.modifyDiskInformation"),visible:t.diskTableEdit,width:"800px"},on:{"update:visible":function(e){t.diskTableEdit=e}}},[s("el-row",{attrs:{gutter:15}},[s("el-form",{ref:"diskForm",attrs:{model:t.diskForm,size:"medium",rules:t.diskFormRule,"label-width":"190px","label-position":t.$globalConfig.labelPosition}},[s("el-col",{attrs:{span:23}},[s("el-row",{attrs:{gutter:15}},[s("el-col",{attrs:{span:24}},[s("el-row",{attrs:{gutter:15}},["hyperv"!==t.cloudDetailInfo.type?s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:t.$t("image.diskDriver"),prop:"regionSelect"}},[s("el-select",{attrs:{placeholder:t.$t("common.selectDiskMode")},model:{value:t.diskForm.driver,callback:function(e){t.$set(t.diskForm,"driver",e)},expression:"diskForm.driver"}},t._l(t.diskDriverSelectOptions,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.name,disabled:e.disabled}})})),1)],1),s("el-form-item",{attrs:{label:t.$t("common.cache"),prop:"regionSelect"}},[s("el-select",{attrs:{placeholder:t.$t("common.pleaseSelectYourCache")},model:{value:t.diskForm.cache,callback:function(e){t.$set(t.diskForm,"cache",e)},expression:"diskForm.cache"}},t._l(t.diskCacheSelectOptions,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.name,disabled:e.disabled}})})),1)],1)],1):t._e(),s("el-col",{attrs:{span:12}},["hyperv"!==t.cloudDetailInfo.type?s("el-form-item",{attrs:{label:"io",prop:"regionSelect"}},[s("el-select",{attrs:{placeholder:t.$t("common.pleaseSelectYourIoType")},model:{value:t.diskForm.io,callback:function(e){t.$set(t.diskForm,"io",e)},expression:"diskForm.io"}},t._l(t.diskIoSelectOptions,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.name,disabled:e.disabled}})})),1)],1):t._e(),t.diskSizeShow&&1===t.diskForm.create_with_host?s("el-form-item",{attrs:{label:t.$t("cloud.diskSize1"),prop:"size"}},[s("el-input-number",{staticStyle:{width:"160px"},attrs:{type:"text",controls:!1,min:t.dataRow.size,placeholder:t.$t("cloud.diskSizeIs"),autocomplete:"off"},model:{value:t.diskForm.size,callback:function(e){t.$set(t.diskForm,"size",e)},expression:"diskForm.size"}})],1):t._e()],1)],1),1===t.diskForm.create_with_host?["hyperv"!==t.cloudDetailInfo.type?s("el-row",{staticStyle:{"margin-top":"50px"},attrs:{gutter:15}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"read_bytes_sec",label:t.$t("config.create.readBytesSecLabel")}},[s("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.diskForm.read_bytes_sec,callback:function(e){t.$set(t.diskForm,"read_bytes_sec",t._n(e))},expression:"diskForm.read_bytes_sec"}})],1),s("el-form-item",{attrs:{prop:"write_bytes_sec",label:t.$t("config.create.writeBytesSecLabel")}},[s("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.diskForm.write_bytes_sec,callback:function(e){t.$set(t.diskForm,"write_bytes_sec",t._n(e))},expression:"diskForm.write_bytes_sec"}})],1),s("el-form-item",{attrs:{prop:"read_iops_sec",label:t.$t("config.create.readIopsSecLabel")}},[s("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.diskForm.read_iops_sec,callback:function(e){t.$set(t.diskForm,"read_iops_sec",t._n(e))},expression:"diskForm.read_iops_sec"}})],1),s("el-form-item",{attrs:{prop:"write_iops_sec",label:t.$t("config.create.writeIopsSecLabel")}},[s("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.diskForm.write_iops_sec,callback:function(e){t.$set(t.diskForm,"write_iops_sec",t._n(e))},expression:"diskForm.write_iops_sec"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"read_bytes_sec_max",label:t.$t("config.create.readBytesSecMaxLabel")}},[s("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.diskForm.read_bytes_sec_max,callback:function(e){t.$set(t.diskForm,"read_bytes_sec_max",t._n(e))},expression:"diskForm.read_bytes_sec_max"}})],1),s("el-form-item",{attrs:{prop:"write_bytes_sec_max",label:t.$t("config.create.writeBytesSecMaxLabel")}},[s("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.diskForm.write_bytes_sec_max,callback:function(e){t.$set(t.diskForm,"write_bytes_sec_max",t._n(e))},expression:"diskForm.write_bytes_sec_max"}})],1),s("el-form-item",{attrs:{prop:"read_iops_sec_max",label:t.$t("config.create.readIopsSecMaxLabel")}},[s("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.diskForm.read_iops_sec_max,callback:function(e){t.$set(t.diskForm,"read_iops_sec_max",t._n(e))},expression:"diskForm.read_iops_sec_max"}})],1),s("el-form-item",{attrs:{prop:"write_iops_sec_max",label:t.$t("config.create.writeIopsSecMaxLabel")}},[s("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.diskForm.write_iops_sec_max,callback:function(e){t.$set(t.diskForm,"write_iops_sec_max",t._n(e))},expression:"diskForm.write_iops_sec_max"}})],1)],1)],1):s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"read_bytes_sec",label:t.$t("common.readMinIops")}},[s("el-input",{staticStyle:{width:"160px"},attrs:{type:"text",autocomplete:"off"},model:{value:t.diskForm.iops_min,callback:function(e){t.$set(t.diskForm,"iops_min",t._n(e))},expression:"diskForm.iops_min"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"read_bytes_sec",label:t.$t("common.readMaxIops")}},[s("el-input",{staticStyle:{width:"160px"},attrs:{type:"text",autocomplete:"off"},model:{value:t.diskForm.iops_max,callback:function(e){t.$set(t.diskForm,"iops_max",t._n(e))},expression:"diskForm.iops_max"}})],1)],1)],1)]:t._e(),["off"!==t.status?s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isDiskSizeChange,expression:"isDiskSizeChange"}],staticClass:"tag-danger"},[s("span",{staticClass:"title"},[t._v(t._s(t.$t("common.msg4"))+" ")]),s("ul",[s("li",[t._v(t._s(t.$t("common.makeSureCarefully"))+" ")]),s("li",[t._v(t._s(t.$t("common.beforeProceeding"))+" ")])])]),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.isDiskSizeChange,expression:"isDiskSizeChange"}],attrs:{label:t.$t("common.forcedShutdown"),prop:"agree"}},[s("el-checkbox",{model:{value:t.diskForm.agree,callback:function(e){t.$set(t.diskForm,"agree",e)},expression:"diskForm.agree"}},[t._v(t._s(t.$t("common.AgreeForced"))+" ")])],1)],1):t._e()]],2)],1)],1)],1)],1),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.diskTableEdit=!1}}},[t._v(t._s(t.$t("common.cancel")))]),s("el-button",{attrs:{type:"primary"},on:{click:t.submitDiskEdit}},[t._v(t._s(t.$t("common.sure")))])],1)],1),s("el-dialog",{attrs:{title:t.isAddNetwork?t.$t("common.addIntreamNetworkCard"):t.$t("common.IntranetNetworkCard"),visible:t.networkTableAdd,width:"600px"},on:{"update:visible":function(e){t.networkTableAdd=e},close:t.closeDialog}},[s("el-row",{attrs:{gutter:15}},[s("el-form",{ref:"addNetWorkForm",attrs:{model:t.addNetWorkForm,rules:t.addNetWorkRule,size:"medium","label-width":"140px","label-position":t.$globalConfig.labelPosition}},[s("el-col",{attrs:{span:23}},[s("el-row",{attrs:{gutter:15}},[s("el-col",{attrs:{span:24}},[s("el-row",{staticStyle:{"margin-bottom":"20px"}},[s("el-col",{attrs:{offset:2}},[t._v(" "+t._s(t.$t("common.netSetting"))+" ")])],1),s("el-form-item",{attrs:{label:t.$t("cloud.selectNetwork"),"label-width":t.formLabelWidth,prop:"network_id"}},[s("el-select",{staticStyle:{width:"70%"},attrs:{disabled:!t.isAddNetwork},on:{change:t.changeNetworkId},model:{value:t.addNetWorkForm.network_id,callback:function(e){t.$set(t.addNetWorkForm,"network_id",e)},expression:"addNetWorkForm.network_id"}},[s("el-option",{attrs:{value:-1,label:t.$t("common.createNewWeb")}}),t._l(t.netWorkList,(function(e){return s("el-option",{key:e.id,attrs:{value:e.id,label:t.$t("common.classicNetwork")+"-"+e.name}})}))],2)],1),-1===t.addNetWorkForm.network_id?s("el-form-item",{attrs:{label:t.$t("cloud.netName"),"label-width":t.formLabelWidth,prop:"name"}},[s("el-input",{staticStyle:{width:"70%"},model:{value:t.addNetWorkForm.name,callback:function(e){t.$set(t.addNetWorkForm,"name",e)},expression:"addNetWorkForm.name"}})],1):t._e(),s("el-form-item",{attrs:{label:t.$t("common.networkType"),"label-width":t.formLabelWidth}},[t._v(" "+t._s(t.$t("common.classicNetwork"))+" ")]),s("el-form-item",{attrs:{label:t.$t("common.net"),"label-width":t.formLabelWidth}},[s("el-select",{staticStyle:{width:"70%"},attrs:{disabled:-1!==t.addNetWorkForm.network_id},on:{change:t.changeNetType},model:{value:t.addNetWorkForm.network_type,callback:function(e){t.$set(t.addNetWorkForm,"network_type",e)},expression:"addNetWorkForm.network_type"}},[s("el-option",{attrs:{value:"public",label:t.$t("common.publicNet")}}),s("el-option",{attrs:{value:"private",label:t.$t("common.privateNet")}})],1)],1),s("el-form-item",{attrs:{label:t.$t("cloud.physicalInterface"),"label-width":t.formLabelWidth,prop:"private"!==t.addNetWorkForm.network_type?"net_id":""}},[s("el-select",{staticStyle:{width:"70%"},attrs:{disabled:t.isNetDisabled},on:{change:t.changeNetId},model:{value:t.addNetWorkForm.net_id,callback:function(e){t.$set(t.addNetWorkForm,"net_id",e)},expression:"addNetWorkForm.net_id"}},["private"===t.addNetWorkForm.network_type?s("el-option",{attrs:{value:0,label:t.$t("common.notHave")}}):t._e(),t._l(t.interfaceList,(function(e){return s("el-option",{key:e.id,attrs:{value:e.id,label:e.name?e.name+"("+e.net_name+")":e.net_name}})}))],2)],1),0!==t.addNetWorkForm.net_id?s("el-form-item",{attrs:{label:"VLAN","label-width":t.formLabelWidth,prop:"vlan",rules:"public"===t.addNetWorkForm.network_type||"private"===t.addNetWorkForm.network_type&&0===t.addNetWorkForm.net_id?t.addNetWorkRule.vlan:[{required:!0,message:this.$t("common.input")+"vlan",trigger:"blur"},{validator:function(a,o,s){parseInt(o)>4096&&s(new t.Error(e.$t("common.msg144"))),s()},trigger:"blur"}]}},[-1===t.addNetWorkForm.network_id?s("el-input-number",{staticStyle:{width:"70%"},attrs:{step:1,min:1},model:{value:t.addNetWorkForm.vlan,callback:function(e){t.$set(t.addNetWorkForm,"vlan",e)},expression:"addNetWorkForm.vlan"}}):s("span",[t._v(t._s(t.addNetWorkForm.vlan))])],1):t._e(),s("el-row",{staticStyle:{"margin-bottom":"20px"}},[s("el-col",{attrs:{offset:2}},[t._v(" "+t._s(t.$t("common.netWorkSetting"))+" ")])],1),"public"===t.addNetWorkForm.network_type?s("el-form-item",{attrs:{label:t.$t("common.ipAddress"),"label-width":t.formLabelWidth}},[s("el-select",{staticStyle:{width:"40%"},model:{value:t.addNetWorkForm.ip_id1,callback:function(e){t.$set(t.addNetWorkForm,"ip_id1",e)},expression:"addNetWorkForm.ip_id1"}},[1===t.$store.state.functionSwitch.fs_elastic_ip_product&&1===t.$store.state.config.edition?s("el-option",{key:-1,attrs:{label:t.$t("elastic.elastic_ip"),value:-1}}):t._e(),t._l(t.ipSelectOptions,(function(e,t){return s("el-option",{key:t,attrs:{label:e.ip_name,value:t}})}))],2),t._v(" "),s("el-select",{staticStyle:{width:"40%"},attrs:{multiple:""},on:{change:function(e){return t.changeEdit("ip")}},model:{value:t.addNetWorkForm.ip_id,callback:function(e){t.$set(t.addNetWorkForm,"ip_id",e)},expression:"addNetWorkForm.ip_id"}},t._l(t.screenOptions,(function(e){return s("el-option",{key:e.id,attrs:{label:e.ip,value:e.id}})})),1)],1):"private"===t.addNetWorkForm.network_type?s("el-form-item",{attrs:{label:t.$t("cloud.internalIpSegment"),"label-width":t.formLabelWidth,prop:"ips"}},[t.isAddNetwork&&-1===t.addNetWorkForm.network_id?s("el-row",[s("el-select",{staticStyle:{width:"70px"},on:{change:t.changeVpcIp},model:{value:t.vpc_ips.vpc1.value,callback:function(e){t.$set(t.vpc_ips.vpc1,"value",e)},expression:"vpc_ips.vpc1.value"}},t._l(t.vpc_ips.vpc1.select,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1),s("span",[t._v("·")]),s("el-tooltip",{attrs:{content:t.vpc_ips.vpc1.tips,placement:"top"}},[s("el-input-number",{staticStyle:{width:"60px"},attrs:{disabled:192===t.vpc_ips.vpc1.value,step:1,controls:!1,min:t.vpc_ips.min,max:t.vpc_ips.max},model:{value:t.vpc_ips.vpc2,callback:function(e){t.$set(t.vpc_ips,"vpc2",e)},expression:"vpc_ips.vpc2"}})],1),s("span",{staticClass:"mr-5 ml-5"},[t._v("·")]),s("el-tooltip",{attrs:{content:t.vpc_ips.vpc3Tips,placement:"top",disabled:!t.vpc_ips.vpc3Tips}},[s("el-input-number",{staticStyle:{width:"60px"},attrs:{disabled:16===t.vpc_ips.vpc6.value,step:1,controls:!1,min:0,max:255},on:{blur:t.changeVpc3},model:{value:t.vpc_ips.vpc3,callback:function(e){t.$set(t.vpc_ips,"vpc3",e)},expression:"vpc_ips.vpc3"}})],1),s("span",{staticClass:"mr-5 ml-5"},[t._v("·")]),s("el-tooltip",{attrs:{content:t.vpc_ips.vpc4Tips,placement:"top",disabled:!t.vpc_ips.vpc4Tips}},[s("el-input-number",{staticStyle:{width:"60px"},attrs:{disabled:t.vpc_ips.vpc6.value<25,step:1,controls:!1,min:0,max:255},on:{blur:t.changeVpc4},model:{value:t.vpc_ips.vpc4,callback:function(e){t.$set(t.vpc_ips,"vpc4",e)},expression:"vpc_ips.vpc4"}})],1),s("span",{staticClass:"mr-5 ml-5"},[t._v("/")]),s("el-select",{staticStyle:{width:"70px"},on:{change:t.changeVpcMask},model:{value:t.vpc_ips.vpc6.value,callback:function(e){t.$set(t.vpc_ips.vpc6,"value",e)},expression:"vpc_ips.vpc6.value"}},t._l(t.vpc_ips.vpc6.select,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1):s("el-row",[t._v(" "+t._s(t.addNetWorkForm.ips)+" ")])],1):t._e(),s("el-form-item",{attrs:{label:t.$t("common.networkDrive"),"label-width":t.formLabelWidth,prop:"niccard"}},[s("el-select",{staticStyle:{width:"70%"},attrs:{placeholder:t.$t("common.msg5"),disabled:!t.isAddNetwork},model:{value:t.addNetWorkForm.niccard,callback:function(e){t.$set(t.addNetWorkForm,"niccard",e)},expression:"addNetWorkForm.niccard"}},t._l(t.driveSelectOptions,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.type}})})),1)],1),"ovs"!==t.curBrigeType||0!==t.addNetWorkForm.ip_id.length?s("el-form-item",{attrs:{label:t.$t("common.bandwidthInOut"),"label-width":t.formLabelWidth,prop:"in_bw"}},[s("el-row",[s("el-col",{attrs:{span:8}},[s("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",autocomplete:"off"},model:{value:t.addNetWorkForm.in_bw,callback:function(e){t.$set(t.addNetWorkForm,"in_bw",e)},expression:"addNetWorkForm.in_bw"}})],1),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[t._v("/")]),s("el-col",{attrs:{span:8}},[[s("el-form-item",{attrs:{prop:"out_bw"}},[s("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",autocomplete:"off"},model:{value:t.addNetWorkForm.out_bw,callback:function(e){t.$set(t.addNetWorkForm,"out_bw",e)},expression:"addNetWorkForm.out_bw"}})],1)]],2),s("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:4}},[t._v(" Mbps ")])],1)],1):t._e(),s("el-form-item",{attrs:{label:t.$t("common.macAddress"),"label-width":t.formLabelWidth,prop:"mac"}},[s("el-row",{staticClass:"fboxRow Ycenter"},[s("el-input",{staticStyle:{width:"70%"},attrs:{type:"text",autocomplete:"off"},on:{input:function(e){return t.changeEdit("mac")}},model:{value:t.addNetWorkForm.mac,callback:function(e){t.$set(t.addNetWorkForm,"mac",e)},expression:"addNetWorkForm.mac"}}),s("span",{staticClass:"icon-random mr-10",staticStyle:{cursor:"pointer","font-size":"24px"},on:{click:function(e){return t.randomMac("addNetWorkForm")}}})],1)],1),s("el-form-item",{attrs:{label:t.$t("common.IPmacBinding"),"label-width":t.formLabelWidth,prop:"bind_mac"}},[s("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.addNetWorkForm.bind_mac,callback:function(e){t.$set(t.addNetWorkForm,"bind_mac",e)},expression:"addNetWorkForm.bind_mac"}})],1),"off"!==t.status?s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isNetMsgShow,expression:"isNetMsgShow"}],staticClass:"tag-danger"},[s("span",{staticClass:"title"},[t._v(t._s(t.isAddNetwork?t.$t("common.add"):t.$t("common.update"))+t._s(t.$t("common.msg146"))+" ")]),s("ul",[s("li",[t._v(t._s(t.$t("common.makeSureCarefully"))+" ")]),s("li",[t._v(t._s(t.$t("common.beforeProceeding"))+" ")])])]),t.isNetMsgShow?s("el-form-item",{attrs:{label:t.$t("common.forcedShutdown"),prop:"agree","label-width":"170px"}},[s("el-checkbox",{model:{value:t.addNetWorkForm.agree,callback:function(e){t.$set(t.addNetWorkForm,"agree",e)},expression:"addNetWorkForm.agree"}},[t._v(t._s(t.$t("common.AgreeForced"))+" ")])],1):t._e()],1):t._e()],1)],1)],1)],1)],1),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.cancelNetAdd}},[t._v(t._s(t.$t("common.cancel")))]),s("el-button",{attrs:{type:"primary"},on:{click:t.submitAddNetwork}},[t._v(t._s(t.$t("common.sure")))])],1)],1),s("el-dialog",{attrs:{title:t.$t("common.addDiskInformation"),visible:t.diskTableAdd,width:"500px"},on:{"update:visible":function(e){t.diskTableAdd=e},close:t.resetAddDiskForm}},[s("el-row",{attrs:{gutter:15}},[s("el-radio-group",{staticClass:"ipChange",on:{change:t.changeType},model:{value:t.diskRadio,callback:function(e){t.diskRadio=e},expression:"diskRadio"}},[s("el-radio",{attrs:{label:0}},[t._v(t._s(t.$t("disk.create_new_disk")))]),s("el-tooltip",{attrs:{content:0===t.$store.state.config.edition?t.$t("common.msg8"):t.$t("common.msg228"),placement:"top",disabled:1===t.$store.state.config.edition}},[1===t.$store.state.functionSwitch.fs_disk_product&&"hyperv"!==t.cloudDetailInfo.type?s("el-radio",{attrs:{label:1,disabled:0===t.$store.state.config.edition||2===t.$store.state.config.edition}},[t._v(" "+t._s(t.$t("disk.mount_disk"))+" ")]):t._e()],1)],1),s("el-form",{ref:"addDiskForm",attrs:{model:t.addDiskForm,rules:t.addDiskFormRules,size:"medium","label-width":"130px","label-position":t.$globalConfig.labelPosition}},[s("el-col",{attrs:{span:23}},[s("el-row",{attrs:{gutter:15}},[s("el-col",{attrs:{span:24}},[0===t.diskRadio?[s("el-form-item",{key:"store",attrs:{label:t.$t("common.storageType"),"label-width":t.formLabelWidth,prop:"store"}},[s("el-select",{staticStyle:{width:"85%"},attrs:{placeholder:t.$t("common.msg6")},model:{value:t.addDiskForm.store,callback:function(e){t.$set(t.addDiskForm,"store",e)},expression:"addDiskForm.store"}},t._l(t.diskStoreSelectOptions,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-form-item",{key:"size",attrs:{label:t.$t("cloud.diskSize1"),"label-width":t.formLabelWidth,prop:"size"}},[s("el-input",{staticStyle:{width:"85%"},attrs:{type:"text",placeholder:t.$t("cloud.diskSizeIs"),autocomplete:"off"},model:{value:t.addDiskForm.size,callback:function(e){t.$set(t.addDiskForm,"size",e)},expression:"addDiskForm.size"}})],1)]:t._e(),1===t.diskRadio?[s("el-form-item",{key:"disk_id",attrs:{label:t.$t("disk.choose_disk"),"label-width":t.formLabelWidth,prop:"disk_id"}},[s("el-select",{staticStyle:{width:"85%"},attrs:{placeholder:t.$t("disk.choose_disk")},on:{change:t.chooseDisk},model:{value:t.addDiskForm.disk_id,callback:function(e){t.$set(t.addDiskForm,"disk_id",e)},expression:"addDiskForm.disk_id"}},t._l(t.diskList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.remarks,value:e.id}})})),1)],1),s("el-form-item",{key:"store_id",attrs:{label:t.$t("common.storageType"),"label-width":t.formLabelWidth,prop:"store_id"}},[s("el-select",{staticStyle:{width:"85%"},attrs:{placeholder:t.$t("common.msg6"),disabled:t.diskDisable},model:{value:t.addDiskForm.store_id,callback:function(e){t.$set(t.addDiskForm,"store_id",e)},expression:"addDiskForm.store_id"}},t._l(t.storeList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.show_name,value:e.id}})})),1)],1)]:t._e(),"hyperv"!==t.cloudDetailInfo.type?[s("el-form-item",{attrs:{label:t.$t("image.diskDriver")}},[s("el-select",{staticStyle:{width:"85%"},attrs:{placeholder:t.$t("common.selectDiskMode")},model:{value:t.addDiskForm.driver,callback:function(e){t.$set(t.addDiskForm,"driver",e)},expression:"addDiskForm.driver"}},t._l(t.diskDriverSelectOptions,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.name,disabled:e.disabled}})})),1)],1),s("el-form-item",{attrs:{label:t.$t("common.cache")}},[s("el-select",{staticStyle:{width:"85%"},attrs:{placeholder:t.$t("common.pleaseSelectYourCache")},model:{value:t.addDiskForm.cache,callback:function(e){t.$set(t.addDiskForm,"cache",e)},expression:"addDiskForm.cache"}},t._l(t.diskCacheSelectOptions,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.name,disabled:e.disabled}})})),1)],1),s("el-form-item",{attrs:{label:"io"}},[s("el-select",{staticStyle:{width:"85%"},attrs:{placeholder:t.$t("common.pleaseSelectYourIoType")},model:{value:t.addDiskForm.io,callback:function(e){t.$set(t.addDiskForm,"io",e)},expression:"addDiskForm.io"}},t._l(t.diskIoSelectOptions,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.name,disabled:e.disabled}})})),1)],1),"virtio"!==t.addDiskForm.driver?s("el-form-item",{attrs:{label:t.$t("common.forcedShutdown"),prop:"agree"}},[s("el-checkbox",{model:{value:t.addDiskForm.agree,callback:function(e){t.$set(t.addDiskForm,"agree",e)},expression:"addDiskForm.agree"}},[t._v(t._s(t.$t("common.AgreeForced"))+" ")])],1):t._e()]:t._e()],2)],1)],1)],1)],1),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.cancelDiskAdd}},[t._v(t._s(t.$t("common.cancel")))]),s("el-button",{attrs:{type:"primary"},on:{click:t.submitAddDisk}},[t._v(t._s(t.$t("common.sure")))])],1)],1),s("el-dialog",{attrs:{visible:t.isIpRowShow,width:"500px",title:t.$t("common.ipAddress")},on:{"update:visible":function(e){t.isIpRowShow=e},close:function(e){t.activeNames=[]}}},[s("div",{staticClass:"ipList"},[s("div",{staticClass:"ip-item"},[s("p",{staticClass:"item",staticStyle:{"text-transform":"uppercase"}},[t._v(t._s(t.$t("common.ipSegment")))]),s("p",{staticClass:"item"},[t._v(t._s(t.$t("systemLog.ipAddress")))])]),t._l(t.ipRow.clacip,(function(e,a){return s("div",{key:a},[-1!==e.ip?s("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[s("el-collapse-item",{attrs:{name:e.ip_name}},[s("template",{slot:"title"},[t._v(t._s(e.ip_name)+"（"+t._s(t.$t("area.ipQuantity"))+"："+t._s(e.ip.length)+"）")]),t._l(e.ip,(function(e){return s("div",{key:e.id,staticClass:"ip-item"},[s("p",{staticClass:"item"}),s("p",{staticClass:"item"},[t._v(" "+t._s(e.ipaddress)+" ")])])}))],2)],1):t._l(e.ipv6,(function(e){return s("div",{key:e.id},[s("p",{staticClass:"item"}),s("p",{staticClass:"item"},[t._v(t._s(e.ipv6))])])}))],2)}))],2)]),s("el-dialog",{attrs:{title:t.$t("common.upgrading"),visible:t.isShowUpgradeForm,width:"500px"},on:{"update:visible":function(e){t.isShowUpgradeForm=e},close:t.resetForm}},[s("el-row",{attrs:{gutter:15}},[s("el-form",{ref:"upgradeForm",attrs:{rules:t.upgradeRules,model:t.upgradeForm,size:"medium","label-width":"120px","label-position":t.$globalConfig.labelPosition}},[s("el-form-item",{attrs:{label:"CPU",prop:"cpu"}},[s("el-input",{staticStyle:{width:"85%"},attrs:{type:"text",placeholder:t.$t("common.enterNewCpuCore"),autocomplete:"off"},model:{value:t.upgradeForm.cpu,callback:function(e){t.$set(t.upgradeForm,"cpu",e)},expression:"upgradeForm.cpu"}})],1),s("el-form-item",{attrs:{label:t.$t("common.storage"),prop:"memory"}},[s("el-input",{staticStyle:{width:"85%"},attrs:{type:"text",placeholder:t.$t("common.enterCapacity"),autocomplete:"off"},model:{value:t.upgradeForm.memory,callback:function(e){t.$set(t.upgradeForm,"memory",e)},expression:"upgradeForm.memory"}})],1),"off"===t.status||t.upgradeForm.cpu===t.cloudDetailInfo.cpu&&t.upgradeForm.memory===t.cloudDetailInfo.memory?t._e():[s("div",{staticClass:"tag-danger"},[s("span",{staticClass:"title"},[t._v(t._s(t.$t("common.msg7"))+" ")]),s("ul",[s("li",[t._v(t._s(t.$t("common.makeSureCarefully"))+" ")]),s("li",[t._v(t._s(t.$t("common.beforeProceeding"))+" ")])])]),s("el-form-item",{attrs:{label:t.$t("common.forcedShutdown"),prop:"agree"}},[s("el-checkbox",{model:{value:t.upgradeForm.agree,callback:function(e){t.$set(t.upgradeForm,"agree",e)},expression:"upgradeForm.agree"}},[t._v(t._s(t.$t("common.AgreeForced"))+" ")])],1)]],2)],1),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.isShowUpgradeForm=!1}}},[t._v(t._s(t.$t("common.cancel")))]),s("el-button",{attrs:{type:"primary"},on:{click:t.submitUpgradeForm}},[t._v(t._s(t.$t("common.sure")))])],1)],1),s("deleteDialog",{attrs:{isShowDelDialog:t.dialogDeleteShow,dataType:t.deleteRowInfo?t.deleteRowInfo.network_name:""},on:{submitDeleteRow:t.deleteIntranetNetWork,"update:isShowDelDialog":function(e){t.dialogDeleteShow=e},"update:is-show-del-dialog":function(e){t.dialogDeleteShow=e}}}),s("el-dialog",{staticClass:"reInstallEldialog",attrs:{title:t.$t("common.reinstall"),visible:t.isShowReInstall,width:"750px"},on:{"update:visible":function(e){t.isShowReInstall=e},open:t.reInstallDialog}},[s("el-row",{attrs:{gutter:15}},[s("el-form",{ref:"reInstallForm",attrs:{model:t.reInstallForm,rules:t.reInstallFormRules,size:"medium","label-width":"zh-cn"===t.$i18n.locale?"160px":"170px","label-position":t.$globalConfig.labelPosition}},[s("el-form-item",{attrs:{prop:t.template.isTemplate?"template":"os"}},[s("template",{slot:"label"},[s("span",[s("el-select",{staticStyle:{width:"110px","margin-right":"24px"},on:{change:t.changeTemplate},model:{value:t.template.isTemplate,callback:function(e){t.$set(t.template,"isTemplate",e)},expression:"template.isTemplate"}},[s("el-option",{attrs:{label:t.$t("cloud.operatingSystem"),value:!1}}),s("el-option",{attrs:{label:t.$t("cloud.stencil"),value:!0}})],1)],1)]),t.template.isTemplate?[s("el-row",{staticStyle:{width:"85%"},attrs:{type:"flex",justify:"space-between"}},[!t.isCursomerVersion||t.isAgent?s("el-select",{attrs:{filterable:""},model:{value:t.template.client,callback:function(e){t.$set(t.template,"client",e)},expression:"template.client"}},t._l(t.template.clientSelectOptions,(function(e,t){return s("el-option",{key:"client"+t,attrs:{label:e.username,value:e.id}})})),1):t._e(),s("el-select",{model:{value:t.reInstallForm.template,callback:function(e){t.$set(t.reInstallForm,"template",e)},expression:"reInstallForm.template"}},t._l(t.filterTemplate(t.template.list),(function(e){return s("el-option",{key:e.id,attrs:{label:e.name+"("+e.create_time+")",value:e.id}})})),1)],1)]:[s("el-row",{staticStyle:{width:"85%"},attrs:{type:"flex",justify:"space-between"}},[s("el-select",{on:{change:t.imageGroupSelectChange},model:{value:t.reInstallForm.gid,callback:function(e){t.$set(t.reInstallForm,"gid",e)},expression:"reInstallForm.gid"}},[t.reInstallForm.osGroupSvg?s("template",{staticStyle:{"line-height":"20px"},slot:"prefix"},[s("img",{staticStyle:{height:"20px",marginRight:"10px"},attrs:{src:t.$globalUrl+"/common/system/"+t.reInstallForm.osGroupSvg+".svg",alt:""}})]):t._e(),t._l(t.imageGroupOptions,(function(e,a){return s("el-option",{key:"imageGroup"+a,staticStyle:{padding:"0 5px !important"},attrs:{label:e.name,value:e.id}},[s("div",{staticClass:"select_box"},[s("img",{staticStyle:{height:"20px",marginRight:"5px"},attrs:{src:t.$globalUrl+"/common/system/"+e.svg+".svg",alt:""}}),t._v(" "+t._s(e.name)+" ")])])}))],2),s("el-select",{model:{value:t.reInstallForm.os,callback:function(e){t.$set(t.reInstallForm,"os",e)},expression:"reInstallForm.os"}},t._l(t.imageOptions,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)]],2),s("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{prop:0===t.reInstallForm.password_type?"randomPassWord":"ssh_key"}},[s("template",{slot:"label"},[s("span",[s("el-select",{staticStyle:{width:"110px"},on:{change:t.changePassType},model:{value:t.reInstallForm.password_type,callback:function(e){t.$set(t.reInstallForm,"password_type",e)},expression:"reInstallForm.password_type"}},[s("el-option",{attrs:{label:t.$t("common.password"),value:0}}),!t.isCursomerVersion||t.isCursomerVersion&&1===t.$store.state.config.edition?[1!==t.reInstallForm.gid&&"hyperv"!==t.cloudDetailInfo.type?s("el-option",{attrs:{label:"SSH"+t.$t("config.notificationSettings.key"),value:1}}):t._e()]:t._e()],2),s("el-popover",{attrs:{placement:"top-start",width:"250",trigger:"hover"}},[t.reInstallForm.password_type?s("div",[t._v(" "+t._s(t.$t("common.msg178"))+" ")]):s("div",[s("div",[t._v(t._s(t.$t("cloud.lowercaseLetters1")))]),s("div",[t._v(t._s(t.$t("cloud.lowercaseLetters2")))]),s("div",[t._v(t._s(t.$t("cloud.lowercaseLetters3")))]),s("div",[t._v(t._s(t.$t("cloud.lowercaseLetters4")))])]),s("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1)]),t.reInstallForm.password_type?s("div",[s("el-select",{staticStyle:{width:"482px"},model:{value:t.reInstallForm.ssh_key,callback:function(e){t.$set(t.reInstallForm,"ssh_key",e)},expression:"reInstallForm.ssh_key"}},t._l(t.sshList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1):s("div",{staticClass:"random-password"},[s("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.reInstallForm.randomPassWord,callback:function(e){t.$set(t.reInstallForm,"randomPassWord",e)},expression:"reInstallForm.randomPassWord"}}),s("div",{staticClass:"icon",on:{click:t.randomPassWord}},[s("span",{staticClass:"icon-random "})])],1)],2),!t.isCursomerVersion||t.isCursomerVersion&&t.$hasAuthority("random_port")?s("el-form-item",{directives:[{name:"authority",rawName:"v-authority:random_port",arg:"random_port"}],attrs:{label:t.$t("common.port"),prop:"port"}},[s("div",{staticClass:"fboxRow Ycenter"},[s("el-tooltip",{attrs:{content:0===t.$store.state.config.edition?t.$t("common.msg8"):t.$t("common.msg228"),disabled:t.$hasAuthority("random_port"),placement:"top"}},[s("el-input-number",{staticClass:"mr-10",staticStyle:{width:"161px"},attrs:{controls:!1,disabled:!t.$hasAuthority("random_port")},model:{value:t.reInstallForm.port,callback:function(e){t.$set(t.reInstallForm,"port",e)},expression:"reInstallForm.port"}})],1),t.$hasAuthority("random_port")?s("span",{staticClass:"icon-random mr-10",staticStyle:{cursor:"pointer","font-size":"24px"},on:{click:t.randomPortClick}}):t._e()],1)]):t._e(),t.isCursomerVersion?t._e():s("el-form-item",{attrs:{label:t.$t("cloud.systemDisk"),prop:"system_disk_size"}},[s("el-row",{attrs:{type:"flex"}},[s("el-col",{staticStyle:{width:"60px"}},[s("el-switch",{model:{value:t.system_disk,callback:function(e){t.system_disk=e},expression:"system_disk"}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.system_disk,expression:"system_disk"}],staticStyle:{"white-space":"nowrap"}},[s("el-input-number",{staticClass:"ml-10 mr-10",staticStyle:{width:"100px"},attrs:{controls:!1,"step-strictly":"",min:t.minDiskNum,max:1048576},model:{value:t.reInstallForm.system_disk_size,callback:function(e){t.$set(t.reInstallForm,"system_disk_size",e)},expression:"reInstallForm.system_disk_size"}}),s("span",[t._v("G,")])],1),s("div",{staticClass:"ml-10"},[t._v(t._s(t.$t("common.err5"))+" ")])],1)],1),"hyperv"!==t.cloudDetailInfo.type?s("el-form-item",{attrs:{label:t.$t("common.formattedDataDisk")}},[s("el-tooltip",{attrs:{content:0===t.$store.state.config.edition?t.$t("common.msg8"):t.$t("common.msg228"),disabled:1===t.$store.state.config.edition,placement:"top"}},[s("el-switch",{attrs:{disabled:0===t.$store.state.config.edition||2===t.$store.state.config.edition,"active-value":1,"inactive-value":0},model:{value:t.reInstallForm.format_data_disk,callback:function(e){t.$set(t.reInstallForm,"format_data_disk",e)},expression:"reInstallForm.format_data_disk"}})],1)],1):t._e(),0!==t.cloudDetailInfo.security&&22!==t.reInstallForm.port&&3389!==t.reInstallForm.port&&t.reInstallForm.port!==t.cloudDetailInfo.port&&t.$validate.validatePort2(t.reInstallForm.port)?s("div",{staticStyle:{"margin-left":"80px",color:"#F56C6C"}},[t._v(" "+t._s(1===this.reInstallForm.gid?"RDP":"SSH")+t._s(t.$t("common.msg9"))+" "+t._s(t.reInstallForm.port)+t._s(t.$t("common.msg10"))+" "+t._s(t.cloudDetailInfo.security_rand_port_delete?t.$t("common.msg11")+t.cloudDetailInfo.port+t.$t("common.msg12"):"")+" ")]):t._e()],1)],1),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.isShowReInstall=!1}}},[t._v(t._s(t.$t("common.cancel")))]),s("el-button",{attrs:{type:"primary"},on:{click:t.submitReInstall}},[t._v(t._s(t.$t("common.sure")))])],1)],1),s("el-dialog",{attrs:{title:t.flowInfoModel.title,visible:t.flowInfoModel.show,width:"540px"},on:{"update:visible":function(e){return t.$set(t.flowInfoModel,"show",e)}}},[s("el-row",{attrs:{gutter:15}},[s("el-form",{ref:"flowInfoModelRef",attrs:{model:t.flowInfoModel,size:"medium","label-width":"150px",rules:t.flowInfoModelRule,"label-position":t.$globalConfig.labelPosition}},[s("el-form-item",{attrs:{label:t.$t("common.limitTraffic")+"(GB)",prop:"traffic_quota"}},[s("el-input",{staticStyle:{width:"85%"},attrs:{type:"text",placeholder:t.$t("common.enterNewQuotaTraffic"),autocomplete:"off"},model:{value:t.flowInfoModel.traffic_quota,callback:function(e){t.$set(t.flowInfoModel,"traffic_quota",t._n(e))},expression:"flowInfoModel.traffic_quota"}})],1),s("el-form-item",{attrs:{label:t.$t("common.temporaryTraffic")+"(GB)",prop:"tmp_traffic"}},[s("el-input",{staticStyle:{width:"85%"},attrs:{type:"text",placeholder:t.$t("common.enterNewTemporaryTraffic"),autocomplete:"off"},model:{value:t.flowInfoModel.tmp_traffic,callback:function(e){t.$set(t.flowInfoModel,"tmp_traffic",t._n(e))},expression:"flowInfoModel.tmp_traffic"}})],1),s("el-form-item",{attrs:{label:t.$t("common.statisticalDirection")}},[s("el-radio-group",{model:{value:t.flowInfoModel.traffic_type,callback:function(e){t.$set(t.flowInfoModel,"traffic_type",e)},expression:"flowInfoModel.traffic_type"}},[s("el-radio",{attrs:{label:1}},[t._v(t._s(t.$t("common.inTheDirection"))+" ")]),s("el-radio",{attrs:{label:2}},[t._v(t._s(t.$t("common.direction"))+" ")]),s("el-radio",{attrs:{label:3}},[t._v(t._s(t.$t("common.total1"))+" ")])],1)],1),s("el-form-item",{attrs:{label:t.$t("common.trafficResetDay")}},[s("template",{slot:"label"},[s("span",[t._v(t._s(t.$t("common.trafficResetDay"))+" ")]),s("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:t.$t("common.msg13")}},[s("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),s("div",{staticClass:"fboxRow Ycenter"},[s("span",{staticClass:"mr-10"},[t._v(t._s(t.$t("common.perMonth")))]),s("el-select",{model:{value:t.flowInfoModel.reset_flow_day,callback:function(e){t.$set(t.flowInfoModel,"reset_flow_day",e)},expression:"flowInfoModel.reset_flow_day"}},t._l(30,(function(e,t){return s("el-option",{key:t,attrs:{label:e,value:e}})})),1),s("span",{staticClass:"ml-10"},[t._v(t._s(t.$t("common.number1")))])],1)],2),s("el-alert",{attrs:{title:t.$t("common.msg14"),type:"error",closable:!1}})],1)],1),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.flowInfoModel.show=!1}}},[t._v(t._s(t.$t("common.cancel")))]),s("el-button",{attrs:{type:"primary"},on:{click:t.updateCloud}},[t._v(t._s(t.$t("common.sure")))])],1)],1),s("el-dialog",{attrs:{title:t.dialog.title,visible:t.dialog.show,width:t.dialog.width},on:{"update:visible":function(e){return t.$set(t.dialog,"show",e)},close:t.closeDialog}},[s("el-form",{ref:"formData",staticClass:"dialog-form",attrs:{model:t.formData,rules:t.formDataRule,size:"medium","label-width":"100px","label-position":t.$globalConfig.labelPosition}},["clone"===t.dialog.type?[s("el-alert",{attrs:{title:""+t.$t("common.youWillClone")+t.cloudDetailInfo.hostname+t.$t("common.msg15"),type:"warning","show-icon":"",closable:!1}}),s("el-form-item",{staticClass:"mt-20",attrs:{label:"CPU",prop:"cpu"}},[s("div",{staticClass:"fboxRow"},[s("el-input-number",{attrs:{placeholder:t.$t("common.pleaseEnterTheSizeOfTheCpu"),precision:0,min:1,max:240,controls:!1},model:{value:t.formData.cpu,callback:function(e){t.$set(t.formData,"cpu",e)},expression:"formData.cpu"}}),s("div",{staticClass:"ml-10"},[t._v(t._s(t.$t("admin.core"))+" ")])],1)]),s("el-form-item",{attrs:{label:t.$t("admin.ram"),prop:"memory"}},[s("div",{staticClass:"fboxRow"},[s("el-input-number",{attrs:{placeholder:t.$t("common.pleaseEnterTheMemorySize"),precision:0,min:1,max:512,controls:!1},model:{value:t.formData.memory,callback:function(e){t.$set(t.formData,"memory",e)},expression:"formData.memory"}}),s("div",{staticClass:"ml-10"},[t._v("GB ")]),s("div",{staticClass:"ml-10"},["hyperv"===t.cloudDetailInfo.type?s("el-checkbox",{model:{value:t.formData.dynamic_memory,callback:function(e){t.$set(t.formData,"dynamic_memory",e)},expression:"formData.dynamic_memory"}},[t._v(" "+t._s(t.$t("common.DynamicMemory")))]):t._e()],1)],1)]),t._l(t.cloudDetailInfo.disk,(function(e,a){return["system"===e.type?s("el-form-item",{key:a,attrs:{label:t.$t("common.systemDisk"),prop:"system_disk_size"}},[s("div",{staticClass:"fboxRow"},[s("el-input-number",{attrs:{placeholder:t.$t("common.EnterDiskSize"),precision:0,min:e.size,controls:!1},model:{value:t.formData.system_disk_size,callback:function(e){t.$set(t.formData,"system_disk_size",e)},expression:"formData.system_disk_size"}}),s("div",{staticClass:"ml-10"},[t._v("GB")])],1)]):t._e()]})),t.cloudDetailInfo.transparent?t._e():s("el-form-item",{attrs:{label:t.$t("area.ipQuantity"),prop:t.formData.ipv6_num?"":"ip_num"}},[s("div",{staticClass:"fboxRow"},[s("el-input-number",{attrs:{placeholder:t.$t("common.numberOfIP"),precision:0,min:0,controls:!1},model:{value:t.formData.ip_num,callback:function(e){t.$set(t.formData,"ip_num",e)},expression:"formData.ip_num"}}),s("div",{staticClass:"ml-10"},[t._v(t._s(t.$t("common.a")))])],1)]),1===t.cloudDetailInfo.image_group_id||"hyperv"===t.cloudDetailInfo.type||t.isCursomerVersion?t._e():s("el-form-item",{attrs:{label:"SSH"+t.$t("config.notificationSettings.key")}},[s("el-tooltip",{attrs:{content:0===t.$store.state.config.edition?t.$t("common.msg8"):t.$t("common.msg228"),disabled:1===t.$store.state.config.edition}},[s("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:0===t.$store.state.config.edition||2===t.$store.state.config.edition},model:{value:t.openSsh,callback:function(e){t.openSsh=e},expression:"openSsh"}})],1),t.openSsh?s("el-select",{staticStyle:{"margin-left":"20px"},model:{value:t.formData.ssh_key,callback:function(e){t.$set(t.formData,"ssh_key",e)},expression:"formData.ssh_key"}},t._l(t.sshList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1):t._e()],1),t.cloudDetailInfo.disk.length>1?s("el-form-item",{attrs:{label:t.$t("common.createADataDisk"),prop:"create_data_disk"}},[s("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.formData.create_data_disk,callback:function(e){t.$set(t.formData,"create_data_disk",e)},expression:"formData.create_data_disk"}})],1):t._e(),t.formData.create_data_disk||1===t.cloudDetailInfo.disk.length?[t._l(t.cloudDetailInfo.disk,(function(e,a){return["system"!==e.type?s("el-form-item",{key:a,attrs:{label:t.$t("cloud.dataDisk"),prop:"data_disk_config["+a+"].size",rules:[{validator:function(e,a,o){t.isAgent&&t.cloudDetailInfo.resource_package.disk&&a>t.cloudDetailInfo.resource_package.disk-t.cloudDetailInfo.resource_package.disk_used&&o(t.$t("common.diskAllotTotal")+t.cloudDetailInfo.resource_package.disk+","+t.$t("common.used1")+t.cloudDetailInfo.resource_package.disk_used),o()}}]}},[s("div",{staticClass:" fboxRow"},[s("el-input-number",{attrs:{placeholder:t.$t("common.pleaseEnterTheSize"),precision:0,min:e.size,controls:!1},model:{value:t.formData.data_disk_config[a].size,callback:function(e){t.$set(t.formData.data_disk_config[a],"size",e)},expression:"formData.data_disk_config[index].size"}}),s("el-tooltip",{attrs:{effect:"dark",content:t.$t("common.copy")+e.name,placement:"top"}},[s("el-checkbox",{staticClass:"ml-10",model:{value:t.formData.data_disk_config[a].copy,callback:function(e){t.$set(t.formData.data_disk_config[a],"copy",e)},expression:"formData.data_disk_config[index].copy"}},[t._v(" "+t._s(t.$t("common.copyData"))+" ")])],1)],1)]):t._e()]}))]:t._e(),t.isAgent?s("el-form-item",{attrs:{label:t.$t("common.resourceAllocation")}},[s("div",[t._v(t._s(this.cloudDetailInfo.resource_package.name))])]):t._e(),!t.ipv6_enable||t.cloudDetailInfo.trunk||"vpc"===t.cloudDetailInfo.network_type||t.cloudDetailInfo.transparent?t._e():s("el-form-item",{attrs:{label:"IPV6"+t.$t("common.number"),prop:"ipv6_num"}},[s("div",{staticClass:"fboxRow"},[s("el-input-number",{attrs:{precision:0,min:0,controls:!1},model:{value:t.formData.ipv6_num,callback:function(e){t.$set(t.formData,"ipv6_num",e)},expression:"formData.ipv6_num"}}),s("div",{staticClass:"ml-10"},[t._v(t._s(t.$t("common.a")))])],1)])]:"createModel"===t.dialog.type?[s("el-alert",{attrs:{title:""+t.$t("common.createdAsTemplate"),type:"warning","show-icon":"",closable:!1}}),s("el-form-item",{staticClass:"mt-20",attrs:{label:t.$t("common.templateName"),prop:"name"}},[s("el-input",{attrs:{type:"text",placeholder:t.$t("common.please2"),maxlength:"20"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)]:"updateVpc"===t.dialog.type?[s("el-form-item",{attrs:{label:t.$t("common.VPCnetwork"),prop:"vpc","label-width":"150px"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:t.$t("common.selectNetwork")},model:{value:t.formData.vpc,callback:function(e){t.$set(t.formData,"vpc",e)},expression:"formData.vpc"}},[!t.isAgent||!t.cloudDetailInfo.resource_package.vpc_num||t.cloudDetailInfo.resource_package.vpc_num-t.cloudDetailInfo.resource_package.vpc_num_used>0?s("el-option",{attrs:{label:t.$t("common.createNewWeb"),value:0}}):t._e(),t._l(t.vpcNetwork,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],2)],1),0===t.formData.vpc?s("el-form-item",{attrs:{label:t.$t("cloud.internalIpSegment"),prop:"vpc_ips","label-width":"150px"}},[s("el-select",{staticStyle:{width:"70px"},on:{change:t.changeVpcIp},model:{value:t.vpc_ips.vpc1.value,callback:function(e){t.$set(t.vpc_ips.vpc1,"value",e)},expression:"vpc_ips.vpc1.value"}},t._l(t.vpc_ips.vpc1.select,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1),s("span",{staticClass:"mr-5 ml-5"},[t._v("·")]),s("el-tooltip",{attrs:{content:t.vpc_ips.vpc1.tips,placement:"top"}},[s("el-input-number",{staticClass:"vpc_ips",attrs:{disabled:192===t.vpc_ips.vpc1.value,step:1,controls:!1,min:t.vpc_ips.min,max:t.vpc_ips.max},model:{value:t.vpc_ips.vpc2,callback:function(e){t.$set(t.vpc_ips,"vpc2",e)},expression:"vpc_ips.vpc2"}})],1),s("span",{staticClass:"mr-5 ml-5"},[t._v("·")]),s("el-tooltip",{attrs:{content:t.vpc_ips.vpc3Tips,placement:"top",disabled:!t.vpc_ips.vpc3Tips}},[s("el-input-number",{staticClass:"vpc_ips",attrs:{disabled:16===t.vpc_ips.vpc6.value,step:1,controls:!1,min:0,max:255},on:{blur:t.changeVpc3},model:{value:t.vpc_ips.vpc3,callback:function(e){t.$set(t.vpc_ips,"vpc3",e)},expression:"vpc_ips.vpc3"}})],1),s("span",{staticClass:"mr-5 ml-5"},[t._v("·")]),s("el-tooltip",{attrs:{content:t.vpc_ips.vpc4Tips,placement:"top",disabled:!t.vpc_ips.vpc4Tips}},[s("el-input-number",{staticClass:"vpc_ips",attrs:{disabled:t.vpc_ips.vpc6.value<25,step:1,controls:!1,min:0,max:255},on:{blur:t.changeVpc4},model:{value:t.vpc_ips.vpc4,callback:function(e){t.$set(t.vpc_ips,"vpc4",e)},expression:"vpc_ips.vpc4"}})],1),s("span",{staticClass:"mr-5 ml-5"},[t._v("/")]),s("el-select",{staticStyle:{width:"70px"},on:{change:t.changeVpcMask},model:{value:t.vpc_ips.vpc6.value,callback:function(e){t.$set(t.vpc_ips.vpc6,"value",e)},expression:"vpc_ips.vpc6.value"}},t._l(t.vpc_ips.vpc6.select,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1):s("el-form-item",{attrs:{label:t.$t("cloud.internalIpSegment"),"label-width":"120px"}},[s("div",[t._v(t._s(t.vpcName))])]),"off"!==t.status?s("div",{staticClass:"tag-danger"},[s("span",{staticClass:"title"},[t._v(t._s(t.$t("common.msg7"))+" ")]),s("ul",[s("li",[t._v(t._s(t.$t("common.makeSureCarefully"))+" ")]),s("li",[t._v(t._s(t.$t("common.beforeProceeding"))+" ")])])]):t._e(),"off"!==t.status?s("el-form-item",{attrs:{label:t.$t("common.forcedShutdown"),prop:"agree","label-width":"170px"}},[s("el-checkbox",{model:{value:t.formData.agree,callback:function(e){t.$set(t.formData,"agree",e)},expression:"formData.agree"}},[t._v(t._s(t.$t("common.AgreeForced"))+" ")])],1):t._e()]:"remark"===t.dialog.type?[s("el-form-item",{staticClass:"mt-20",attrs:{label:t.$t("common.remark"),prop:"remark"}},[s("el-input",{attrs:{type:"text",placeholder:t.$t("common.pleaseEnterANote"),maxlength:"12"},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1)]:"rescue"===t.dialog.type?[s("el-form-item",{attrs:{label:t.$t("common.rescueSystemType"),prop:"type"}},[s("el-select",{attrs:{filterable:""},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[s("template",{staticClass:"f-center",staticStyle:{"line-height":"20px"},slot:"prefix"},[s("img",{staticClass:"f-center",staticStyle:{height:"20px",marginRight:"10px","line-height":"20px"},attrs:{src:t.$globalUrl+"/common/system/"+(2===t.formData.type?2:1)+".svg",alt:""}})]),s("el-option",{attrs:{label:"Windows",value:1}},[s("div",{staticClass:"select_box",staticStyle:{display:"flex","align-items":"center"}},[s("img",{staticClass:"f-center",staticStyle:{height:"20px",marginRight:"10px"},attrs:{src:t.$globalUrl+"/common/system/1.svg",alt:""}}),t._v("Windows ")])]),s("el-option",{attrs:{label:"Windows_en",value:3}},[s("div",{staticClass:"select_box",staticStyle:{display:"flex","align-items":"center"}},[s("img",{staticClass:"f-center",staticStyle:{height:"20px",marginRight:"10px"},attrs:{src:t.$globalUrl+"/common/system/1.svg",alt:""}}),t._v("Windows_en ")])]),s("el-option",{attrs:{label:"Linux",value:2}},[s("div",{staticClass:"select_box",staticStyle:{display:"flex","align-items":"center"}},[s("img",{staticClass:"f-center",staticStyle:{height:"20px",marginRight:"10px"},attrs:{src:t.$globalUrl+"/common/system/2.svg",alt:""}}),t._v("Linux ")])])],2)],1),s("el-form-item",{staticClass:"mt-20 temp_pass",attrs:{label:t.$t("common.temporaryPassword"),prop:"temp_pass"}},[s("el-popover",{staticStyle:{"margin-left":"-30px","margin-right":"6px"},attrs:{placement:"top-start",width:"250",trigger:"hover"}},[t.reInstallForm.password_type?s("div",[t._v(" "+t._s(t.$t("common.msg178"))+" ")]):s("div",[s("div",[t._v(t._s(t.$t("cloud.lowercaseLetters1")))]),s("div",[t._v(t._s(t.$t("cloud.lowercaseLetters2")))]),s("div",[t._v(t._s(t.$t("cloud.lowercaseLetters3")))]),s("div",[t._v(t._s(t.$t("cloud.lowercaseLetters4")))])]),s("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})]),s("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.formData.temp_pass,callback:function(e){t.$set(t.formData,"temp_pass",e)},expression:"formData.temp_pass"}}),s("div",{staticClass:"icon",on:{click:t.randomTempPassword}},[s("span",{staticClass:"icon-random"})])],1),s("div",{staticClass:"tag-danger temp"},[s("span",{staticClass:"title"},[t._v(t._s(t.$t("common.temPassWordTip")))])])]:"mount"===t.dialog.type?[s("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{prop:"senior","label-width":"0"}},[s("el-row",{staticStyle:{width:"330px"},attrs:{type:"flex",justify:"end"}},[s("el-checkbox",{on:{change:t.changeSen},model:{value:t.formData.senior,callback:function(e){t.$set(t.formData,"senior",e)},expression:"formData.senior"}}),s("span",{staticClass:"ml-5"},[t._v(t._s(t.$t("common.advance")))])],1)],1),s("el-form-item",{attrs:{prop:"cloud","label-width":"80px",label:t.$t("common.msg183")}},[t.formData.senior?s("el-select",{staticStyle:{width:"250px"},model:{value:t.formData.cloud,callback:function(e){t.$set(t.formData,"cloud",e)},expression:"formData.cloud"}},t._l(t.cloudList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.hostname+(e.mainip?"("+e.mainip+")":""),value:e.id}},[e.isActive?s("span",{staticStyle:{position:"absolute",left:"10px",top:"55%",transform:"translateY(-50%)",color:"red"}},[t._v("*")]):t._e(),s("span",[t._v(t._s(e.hostname))]),e.mainip?s("span",[t._v("("+t._s(e.mainip)+")")]):t._e()])})),1):s("el-input",{staticStyle:{width:"250px"},attrs:{disabled:""},model:{value:t.formData.cloud,callback:function(e){t.$set(t.formData,"cloud",e)},expression:"formData.cloud"}})],1)]:t._e()],2),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialog.show=!1}}},[t._v(t._s(t.$t("common.cancel")))]),s("el-button",{attrs:{type:"primary"},on:{click:t.submitFormDialog}},[t._v(t._s(t.$t("common.sure")))])],1)],1),s("deleteDialog",{staticClass:"deleteDialog",attrs:{keyword:"name",isShowDelDialog:t.isShowDelDialog,dataType:t.cloudDetailInfo.hostname+"-"+t.cloudDetailInfo.mainip,custom:t.$t("common.msg40")+t.cloudDetailInfo.hostname+"-"+t.cloudDetailInfo.mainip+t.$t("common.msg41")},on:{submitDeleteRow:t.submitDeleteRow,"update:isShowDelDialog":function(e){t.isShowDelDialog=e},"update:is-show-del-dialog":function(e){t.isShowDelDialog=e}},scopedSlots:t._u([{key:"radio",fn:function(){return[s("div",{staticClass:"mt-20 mb-20"},[s("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v(t._s(t.$t("common.forcedDelete"))+" "),s("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:t.$t("common.msg42")}},[s("i",{staticClass:"el-icon-question",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1)],1)]},proxy:!0}])}),s("deleteDialog",{staticClass:"deleteDialog",attrs:{keyword:"name",isShowDelDialog:t.isShowDelDisk,custom:t.custom},on:{submitDeleteRow:t.submitDeleteDisk,"update:isShowDelDialog":function(e){t.isShowDelDisk=e},"update:is-show-del-dialog":function(e){t.isShowDelDisk=e}},scopedSlots:t._u([{key:"radio",fn:function(){return[s("div",{staticClass:"mt-20 mb-20"},[s("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v(t._s(t.$t("common.forcedDelete"))+" "),s("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:t.$t("disk.forcedDelete")}},[s("i",{staticClass:"el-icon-question",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1)],1)]},proxy:!0}])}),s("el-dialog",{attrs:{title:t.$t("common.addIp"),visible:t.isShowFloatIpGroup,width:"500px"},on:{"update:visible":function(e){t.isShowFloatIpGroup=e},open:t.addResetFloatGroupForm,close:t.resetFloatGroupForm}},[s("el-form",{ref:"floatIpForm",attrs:{rules:t.floatIpRule,model:t.floatIpForm,size:"medium","label-width":"140px","label-position":t.$globalConfig.labelPosition}},[[s("el-radio-group",{staticClass:"ipChange",model:{value:t.ipRadio,callback:function(e){t.ipRadio=e},expression:"ipRadio"}},[s("el-radio",{attrs:{label:0}},[t._v(t._s(t.$t("elastic.allot_new_ip")))])],1),s("el-form-item",{attrs:{prop:"ip",label:"IP","label-width":t.formLabelWidth}},[s("el-select",{staticStyle:{width:"90%"},attrs:{multiple:"","collapse-tags":"",filterable:"",placeholder:t.$t("common.chooseIp"),"filter-method":t.changeIp,clearable:"","popper-class":"del-tree","reserve-keyword":""},on:{change:t.changeIp,clear:t.clearIp,"visible-change":t.hideSelect},model:{value:t.floatIpForm.ip,callback:function(e){t.$set(t.floatIpForm,"ip",e)},expression:"floatIpForm.ip"}},[s("el-option",{staticStyle:{height:"auto"},attrs:{value:t.selectValue}},[s("el-tree",{ref:"tree",attrs:{data:t.enableIp,"show-checkbox":"","node-key":"id",props:t.defaultProps,"filter-node-method":t.filterNode,lazy:"",load:t.loadNode},on:{check:t.handlerCheckChange}})],1)],1)],1)],"off"!==t.status?[s("div",{staticClass:"tag-danger"},[s("span",{staticClass:"title"},[t._v(t._s(t.$t("common.shutdownState"))+"：")]),s("ul",[s("li",[t._v(t._s(t.$t("common.makeSureCarefully")))]),s("li",[t._v(t._s(t.$t("common.beforeProceeding")))])])]),s("el-form-item",{attrs:{label:t.$t("common.forcedShutdown"),prop:"agree","label-width":"140px"}},[s("el-checkbox",{model:{value:t.floatIpForm.agree,callback:function(e){t.$set(t.floatIpForm,"agree",e)},expression:"floatIpForm.agree"}},[t._v(t._s(t.$t("common.AgreeForced")))])],1)]:t._e()],2),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.isShowFloatIpGroup=!1}}},[t._v(t._s(t.$t("common.cancel")))]),s("el-button",{attrs:{type:"primary"},on:{click:t.submitAddFloatGroup}},[t._v(t._s(t.$t("common.sure")))])],1)],1),t.netTableData[0]&&t.netTableData[0].ipaddress.length>0?s("el-dialog",{attrs:{title:t.$t("common.delete")+t.$t("common.ipAddress"),visible:t.dialogVisible,width:"600px"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.closeIpDialog}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.delRules,"label-width":"100px"}},[s("el-tree",{ref:"delTree",attrs:{data:t.calcIpList,"show-checkbox":"","node-key":"id",props:t.defaultProps1}}),[s("div",{staticClass:"tag-danger",staticStyle:{"margin-top":"20px"}},[s("span",{staticClass:"title"},[t._v(t._s(t.$t("common.shutdownState")))]),s("ul",[s("li",[t._v(t._s(t.$t("common.makeSureCarefully"))+" ")]),s("li",[t._v(t._s(t.$t("common.beforeProceeding"))+" ")])])]),s("el-form-item",{attrs:{label:t.$t("common.forcedShutdown"),"label-width":"100px",prop:"agree"}},[s("el-checkbox",{model:{value:t.ruleForm.agree,callback:function(e){t.$set(t.ruleForm,"agree",e)},expression:"ruleForm.agree"}},[t._v(t._s(t.$t("common.AgreeForced")))])],1)],s("el-row",{staticStyle:{padding:"10px"},attrs:{type:"flex",justify:"end"}},[s("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogVisible=!1}}},[t._v(" "+t._s(t.$t("common.cancel"))+" ")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.deleteFloatIP}},[t._v(" "+t._s(t.$t("admin.confirm"))+" ")])],1)],2)],1):t._e()],1)},s=[],i=(a("99af"),a("a623"),a("4de4"),a("7db0"),a("c740"),a("5db7"),a("4160"),a("a630"),a("caad"),a("c975"),a("d81d"),a("13d5"),a("45fc"),a("73d9"),a("b0c0"),a("b680"),a("4fad"),a("d3b7"),a("ac1f"),a("25f0"),a("6062"),a("2532"),a("3ca3"),a("5319"),a("159b"),a("ddb0"),a("5530")),r=(a("96cf"),a("1da1")),n=a("2909"),c=a("53ca"),l=a("830e"),d=a("b5d2"),u=a("8491"),m=a("c8f0"),p=a("f61f"),f=a("9836"),h=a("21c5"),g=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[!e.migrate.taskid||!e.migrateShow||1!==e.migrate.status&&0!==e.migrate.status||e.isCursomerVersion?e._e():o("el-card",{staticClass:"migrate-box"},[o("div",{staticClass:"migrate fboxRow Xbetween Ycenter"},[o("div",{staticStyle:{flex:"1"}},[o("el-row",{staticStyle:{"font-weight":"700","font-size":"16px",color:"#495060"},attrs:{type:"flex",justify:"space-between"}},[o("div",["migrate"===e.migrate.type?o("span",[e._v(" "+e._s(e.$t("common.migrateNode"))+": "),e.migrate.data&&e.migrate.data.target_node?o("span",{staticStyle:{color:"#409EFF"}},[e._v(e._s(e.migrate.data.target_node.name))]):e._e()]):o("span",[e.migrate.data.active?o("span",[e._v(" "+e._s(e.migrate.data.active.name)+" ")]):e._e()])]),o("span",[e._v(e._s(e.migrate.progress+"%"))])]),o("el-tooltip",{attrs:{content:e.migrate.msg,disabled:!e.migrate.msg}},[o("el-progress",{staticClass:"mt-5 mb-5",attrs:{percentage:e.migrate.progress,"show-text":!1}})],1),"migrate"===e.migrate.type?o("div",[e.migrate.data.speed?o("div",{staticClass:"fboxRow Xbetween",staticStyle:{color:"#495060"}},[o("span",[e._v(e._s(e.migrate.data.migrate_size)+"/"+e._s(e.$t("common.all"))+e._s(e.migrate.data.total_size))]),o("span",[e.migrate.data.eta_string?o("span",[e._v(e._s(e.$t("common.surplus"))+e._s(e.migrate.data.eta_string))]):e._e(),e._v(" "+e._s(e.migrate.data.speed))])]):e._e()]):o("div",{staticStyle:{color:"#495060"}},[o("span",[e._v(e._s(e.$t("common.migrateStore"))+" :")]),e.migrate.data.active?o("span",[e._v(e._s(e.migrate.data.active.dir||e.migrate.data.active.target))]):e._e()])],1),100!==e.migrate.progress?o("div",{staticClass:"icon-close",on:{click:function(t){return e.closeMigrate(!1)}}},[o("i",{staticClass:"iconfont icon-guanbi"})]):o("div",{staticClass:"icon-close",on:{click:function(t){return e.closeMigrate(!0)}}},[o("i",{staticClass:"el-icon-circle-close"})])])]),o("div",{staticClass:"computerInfo-wrapper",class:{"computerInfo-w":e.isShowAddButton},staticStyle:{background:"#fff"}},[o("div",{staticClass:"link"}),e.isShowAddButton?o("div",{staticClass:"showRuns"},[o("div",{staticClass:" showNum-Wrapper mr-10"},[o("span",[e._v(e._s(e.strNum))])]),"hyperv"!=e.cloudDetailInfo.type||"backup"===e.activeName?o("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowUpdateButton,expression:"isShowUpdateButton"}],staticClass:"addButton-Wrapper mr-10",on:{click:function(t){return e.editTabsInfo()}}},[o("span",{staticClass:"icon-edit"})]):e._e(),("hyperv"!=e.cloudDetailInfo.type||"ip"===e.activeName||"backup"===e.activeName)&&"IPV6"!==e.activeName||"IPV6"===e.activeName&&e.ipv6_enable?o("div",{directives:[{name:"authority",rawName:"v-authority:[authority]",value:e.addtabsInfo,expression:"addtabsInfo",arg:e.authority}],key:e.authority,staticClass:"addButton-Wrapper"},[o("i",{staticClass:"el-icon-plus"})]):e._e()]):e._e(),o("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[o("el-tab-pane",{staticClass:"tabs-item",attrs:{label:e.$t("common.overview"),name:"overview"}},[o("ul",{staticClass:"tabs-ul"},[o("li",{staticClass:"tabs-li information"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.example5"))+"ID")]),o("el-tooltip",{attrs:{content:e.isNull(e.cloudDetailInfo.uuid)}},[o("div",{staticClass:"li-normal",domProps:{innerHTML:e._s(e.isNull(e.cloudDetailInfo.kvmid))}})])],1),o("li",{staticClass:"tabs-li information"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.hostName")))]),o("div",{staticClass:"li-normal li-normal-content",domProps:{innerHTML:e._s(e.isNull(e.cloudDetailInfo.hostname))}}),o("div",{staticClass:"li-normal"},[o("el-button",{attrs:{size:"small ",type:"primary",icon:"el-icon-edit"},on:{click:function(t){e.handleClickDialogShow(e.$t("common.update"),"editHostname")}}})],1)]),o("li",{staticClass:"tabs-li information"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.createdTime")))]),o("div",{staticClass:"li-normal",domProps:{innerHTML:e._s(e.isNull(e.cloudDetailInfo.create_time))}})]),e.isAgent||!e.isCursomerVersion?o("li",{staticClass:"tabs-li information"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.client")))]),e.isAgent?o("div",{staticClass:"li-normal li-normal-content",domProps:{innerHTML:e._s(e.isNull(e.cloudDetailInfo.username))}}):e.cloudDetailInfo.parent_name?o("div",{staticClass:"li-normal li-normal-content"},[e._v(" "+e._s(e.cloudDetailInfo.username)+" ("+e._s(e.cloudDetailInfo.parent_name)+")")]):o("div",{staticClass:"li-normal li-normal-content",domProps:{innerHTML:e._s(e.isNull(e.cloudDetailInfo.username))}}),o("div",{staticClass:"li-normal"},[o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.handleClickDialogShow(e.$t("common.ChangesCustomer"),"updateCustomer")}}},[e._v(" "+e._s(e.$t("common.alteration"))+" ")])],1)]):e._e(),e.isCursomerVersion?e._e():o("li",{staticClass:"tabs-li information"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.node")))]),o("div",{staticClass:"li-normal li-normal-content"},[o("el-row",{staticClass:"mr-10",attrs:{type:"flex"}},[o("el-col",[o("el-tooltip",{attrs:{effect:"dark",content:"Trunk",placement:"top"}},[e.cloudDetailInfo.trunk?o("img",{staticStyle:{"vertical-align":"bottom","margin-bottom":"2px"},attrs:{src:a("61b0")}}):e._e()])],1),"host"===e.cloudDetailInfo.type?o("img",{staticStyle:{width:"50px"},attrs:{src:a("d7b4")}}):"lightHost"===e.cloudDetailInfo.type?o("img",{staticStyle:{width:"50px"},attrs:{src:a("83a9")}}):"hyperv"===e.cloudDetailInfo.type?o("img",{staticStyle:{width:"50px","vertical-align":"middle"},attrs:{src:a("cef8")}}):"adsl"===e.cloudDetailInfo.type?o("img",{staticStyle:{width:"50px","vertical-align":"middle"},attrs:{src:a("17cb")}}):e._e()],1),e.isCursomerVersion?o("div",{domProps:{innerHTML:e._s(e.isNull(e.cloudDetailInfo.node_name,"nodeName"))}}):o("router-link",{attrs:{to:{name:"NodeDetails",query:{id:e.cloudDetailInfo.node_id}}}},[o("div",{staticStyle:{cursor:"pointer",color:"#409EFF"},domProps:{innerHTML:e._s(e.isNull(e.cloudDetailInfo.node_name,"nodeName"))}})])],1),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[e.isCursomerVersion||"hyperv"==e.cloudDetailInfo.type?e._e():o("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleClickNode}},[e._v(e._s(e.$t("common.migrate"))+" ")])],1)]),e.cloudDetailInfo.ssh_key&&e.cloudDetailInfo.ssh_key.id?o("li",{staticClass:"tabs-li information"},[o("span",{staticClass:"li-fields"},[e._v(e._s("SSH"+e.$t("config.notificationSettings.key"))+" ")]),o("div",{staticClass:"li-normal"},[o("div",{staticClass:"li-normal-content "},[o("span",[e._v(e._s(e.cloudDetailInfo.ssh_key.name))])]),o("el-button",{attrs:{size:"small",type:"danger"},on:{click:e.handleClickEditPass}},[e._v(" "+e._s(e.$t("common.resetPwd"))+" ")])],1)]):o("li",{staticClass:"tabs-li information"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.userPwd"))+" "),o("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:e.$t("common.strategy")}},[o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),o("div",{staticClass:"li-normal"},[o("div",{staticClass:"li-normal-content "},[o("span",{domProps:{innerHTML:e._s(e.isNull(e.cloudDetailInfo.osuser))}}),o("el-tooltip",{attrs:{content:e.cloudDetailInfo.rootpassword,placement:"top",disabled:!e.isShowPassword}},[o("div",{class:{"text-ellipsis":e.isShowPassword},staticStyle:{display:"inline-block",height:"20px","line-height":"20px",width:"100%"}},[e._v(" /"+e._s(e.isShowPassword?e.cloudDetailInfo.rootpassword:e.hiddenPassword))])]),o("span",{staticClass:"icon-wrapper",on:{click:function(t){return e.showPassword("isShowPassword")}}},[e.isShowPassword?o("span",{staticClass:"icon-cansee",staticStyle:{color:"#bfbfbf"}}):o("span",{staticClass:"icon-nocansee",staticStyle:{color:"#bfbfbf"}})]),o("span",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.cloudDetailInfo.rootpassword,expression:"cloudDetailInfo.rootpassword"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})],1),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("el-button",{attrs:{size:"small",type:"danger"},on:{click:e.handleClickEditPass}},[e._v(" "+e._s(e.$t("common.resetPwd"))+" ")]),1==e.cloudDetailInfo.image_group_id?o("el-button",{staticClass:"elButton",attrs:{size:"small",type:"primary"},on:{click:e.downloadPDR}},[e._v(e._s(e.$t("common.RDP"))+" ")]):e._e()],1)])]),o("li",{staticClass:"tabs-li information"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.PanelPassword"))+" "),o("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:e.$t("common.clientSide")}},[o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),o("div",{staticClass:"li-normal"},[o("div",{staticClass:"li-normal-content "},[o("span"),o("el-tooltip",{attrs:{content:e.cloudDetailInfo.panel_pass,placement:"top",disabled:!e.isShowPanelPassword}},[o("div",{class:{"text-ellipsis":e.isShowPanelPassword},staticStyle:{display:"inline-block",height:"20px","line-height":"20px",width:"100%"}},[e._v(" "+e._s(e.isShowPanelPassword?e.cloudDetailInfo.panel_pass:e.hiddenPanelPassword))])]),o("span",{staticClass:"icon-wrapper",on:{click:function(t){return e.showPassword("isShowPanelPassword")}}},[e.isShowPanelPassword?o("span",{staticClass:"icon-cansee",staticStyle:{color:"#bfbfbf"}}):o("span",{staticClass:"icon-nocansee",staticStyle:{color:"#bfbfbf"}})]),o("span",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.cloudDetailInfo.panel_pass,expression:"cloudDetailInfo.panel_pass"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})],1),e.isAgent||!e.isCursomerVersion?o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){return e.handleClickEditPass("panel")}}},[e._v(" "+e._s(e.$t("common.changePwd"))+" ")])],1):e._e()])]),0!==e.cloudDetailInfo.port?o("li",{staticClass:"tabs-li information"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.cloudDetailInfo.isWindows?e.$t("common.rpdPort"):e.$t("common.sshPort")))]),0===e.cloudDetailInfo.rescue?o("div",{staticClass:"li-normal"},[e._v(e._s(e.cloudDetailInfo.port)+" ")]):o("div",{staticClass:"li-normal"},[e._v(e._s(e.cloudDetailInfo.isWindows?"3389":"22"))])]):e._e(),"adsl"!==e.cloudDetailInfo.type?o("li",{staticClass:"tabs-li information"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.securityGroup")))]),0!=e.cloudDetailInfo.security?o("div",{staticClass:"li-normal"},[o("div",{staticClass:"li-normal-content"},[o("el-link",{attrs:{type:"primary"},on:{click:e.handleClickShowSafeGroup}},[e._v(" "+e._s(e.isNull(e.cloudDetailInfo.security_name))+" ")])],1),o("el-button",{staticStyle:{"margin-left":"40px"},attrs:{type:"danger",size:"small"},on:{click:e.cancelConnectSafe}},[e._v(" "+e._s(e.$t("common.unbind")))])],1):o("el-select",{staticStyle:{width:"200px","margin-left":"20px"},attrs:{placeholder:e.$t("common.yourGroup"),filterable:""},model:{value:e.safeGroup,callback:function(t){e.safeGroup=t},expression:"safeGroup"}},[!e.isAgent||e.cloudDetailInfo.resource_package&&e.checkLast(e.cloudDetailInfo.resource_package.security_num_used,e.cloudDetailInfo.resource_package.security_num)?o("el-option",{attrs:{label:e.$t("common.createGroup"),value:"default"},nativeOn:{click:function(t){return e.createSafeGroup()}}}):e._e(),e._l(e.safeGroupSelect,(function(t,a){return o("el-option",{key:a,attrs:{label:t.name,value:t.id,disabled:t.disabled},nativeOn:{click:function(t){return e.handleClickSafeGroup()}}})}))],2)],1):e._e(),(e.isAgent||!e.isCursomerVersion)&&e.cloudDetailInfo.resource_package&&e.cloudDetailInfo.resource_package.name?o("li",{staticClass:"tabs-li information"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.resourceBundle")))]),o("div",{staticClass:"li-normal"},[o("div",{staticClass:"li-normal-content"},[e._v(" "+e._s(e.cloudDetailInfo.resource_package.name)+" ")])])]):e._e(),"adsl"===e.cloudDetailInfo.type?o("li",{staticClass:"tabs-li information"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("cloud.DialingInformation")))]),o("div",{staticClass:"li-normal"},[o("div",{staticClass:"li-normal-content"},[e._v(" "+e._s(e.cloudDetailInfo.adsl.username+"/"+e.cloudDetailInfo.adsl.password)+" ")]),o("div",{staticClass:"li-normal",staticStyle:{"text-align":"left"}},[e.isCursomerVersion?e._e():o("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.handleClickDialogShow(e.$t("cloud.changeCloudAdsl"),"editAdsl")}}},[e._v(" "+e._s(e.$t("common.edit")))])],1)])]):e._e()])]),e.isAgent||!e.isCursomerVersion?o("el-tab-pane",{staticClass:"tabs-item",attrs:{label:e.$t("common.Setting"),name:"setting"}},[o("ul",{staticClass:"tabs-ul"},["hyperv"!=e.cloudDetailInfo.type?o("li",{staticClass:"tabs-li common",staticStyle:{"justify-content":"space-between"}},[o("div",{staticClass:"li-item",staticStyle:{display:"inline-flex"}},[o("span",{staticClass:"li-fields"},[e._v("APIC")]),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("div",{staticClass:"switch-wrapper"},[o("el-switch",{attrs:{"active-color":"#3673ff",size:"small","active-value":1,"inactive-value":0},on:{change:function(t){return e.changeStatus("apic",e.ApicStatus)}},model:{value:e.ApicStatus,callback:function(t){e.ApicStatus=t},expression:"ApicStatus"}})],1)])]),o("div",{staticClass:"li-item",staticStyle:{display:"inline-flex"}},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.physicalMachine"))+" "),o("el-popover",{attrs:{placement:"top-start",width:"250",trigger:"hover",content:e.$t("common.limitPhysical")}},[o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:0===e.$store.state.config.edition?e.$t("common.msg8"):e.$t("common.msg228"),disabled:1===e.$store.state.config.edition,placement:"top-stmsg228art"}},[o("div",{staticClass:"switch-wrapper"},[o("el-switch",{attrs:{"active-color":"#3673ff",value:e.physicalStatus,size:"small","active-value":1,"inactive-value":0,disabled:0===e.$store.state.config.edition||2===e.$store.state.config.edition},on:{change:function(t){return e.changeStatus("simulate_physical_machine",e.physicalStatus)}}})],1)])],1)])]):e._e(),"hyperv"!=e.cloudDetailInfo.type?o("li",{staticClass:"tabs-li common"},[o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v("ACPI")]),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("div",{staticClass:"switch-wrapper"},[o("el-switch",{attrs:{"active-color":"#3673ff",size:"small","active-value":1,"inactive-value":0},on:{change:function(t){return e.changeStatus("acpi",e.AcpiStatus)}},model:{value:e.AcpiStatus,callback:function(t){e.AcpiStatus=t},expression:"AcpiStatus"}})],1)])]),o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v("QEMU "),o("el-popover",{attrs:{placement:"top-start",width:"300",trigger:"hover"}},[o("div",[e._v(" "+e._s(e.$t("common.qemuTip1"))),o("br"),o("a",{attrs:{target:"_blank",href:"https://www.idcsmart.com/wiki_list/851.html"}},[e._v(e._s(e.$t("common.qemuTip4")))]),o("br"),e._v(" "+e._s(e.$t("common.qemuTip2"))),o("br"),e._v(" "+e._s(e.$t("common.qemuTip3"))+" ")]),o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:0===e.$store.state.config.edition?e.$t("common.msg8"):e.$t("common.msg228"),disabled:1===e.$store.state.config.edition,placement:"top-start"}},[o("el-select",{attrs:{value:e.qemu,disabled:0===e.$store.state.config.edition||2===e.$store.state.config.edition,placeholder:e.$t("common.pleaseChoose")+e.$t("common.qemuVersion")},on:{change:e.handleClickQemu}},e._l(e.qemu_version,(function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1)])]):e._e(),o("li",{staticClass:"tabs-li common"},[o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.Console")))]),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("div",{staticClass:"switch-wrapper"},[o("el-switch",{attrs:{"active-color":"#3673ff",size:"small","active-value":1,"inactive-value":0},on:{change:function(t){return e.changeStatus("vnc",e.VncStatus)}},model:{value:e.VncStatus,callback:function(t){e.VncStatus=t},expression:"VncStatus"}})],1)])]),"hyperv"!=e.cloudDetailInfo.type?o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.XMLinfo")))]),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.showXmlDialog}},[e._v(" "+e._s(e.$t("common.look"))+" ")])],1)]):o("div",{staticClass:"li-item"})]),"hyperv"!=e.cloudDetailInfo.type?o("li",{staticClass:"tabs-li common",staticStyle:{display:"flex","align-items":"center"}},[o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.ConsolePort")))]),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[e._v(" "+e._s(e.cloudDetailInfo.vncport)+" ")]),o("div",{staticClass:"icon-wrap",staticStyle:{"margin-left":"50px"},on:{click:e.clickEditVncPort}},[o("span",{staticClass:"icon-edit"})])]),o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v("ISO1")]),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[e.cloudDetailInfo.iso.length>0?o("div",{staticClass:"isoInput"},[o("span",{staticClass:"isoInput-span"},[e._v(e._s(e.isNull(e.cloudDetailInfo.iso[0].name)))]),o("el-button",{staticStyle:{"margin-left":"40px"},attrs:{type:"danger",size:"small"},on:{click:function(t){return e.cancelConnectIso(e.cloudDetailInfo.iso[0])}}},[e._v(e._s(e.$t("common.uninstall")))])],1):o("el-select",{attrs:{value:e.isoGroup,placeholder:e.$t("common.selectmountIos")},on:{change:e.handleClickisoGroup}},e._l(e.isoGroupSelect,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.id,disabled:e.disabled}})})),1)],1)])]):e._e(),o("li",{staticClass:"tabs-li common",staticStyle:{display:"flex","align-items":"center"}},[o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.ConsolePwd")))]),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[e._v(" "+e._s(e.isShowVNCPassword?e.vncPassword:e.hiddenVncPassword))]),o("div",{staticClass:"icon-wrap",staticStyle:{"margin-left":"50px",display:"flex"}},[o("span",{staticClass:"icon-wrapper",staticStyle:{color:"rgb(207,207,207)"},on:{click:e.showVncPassword}},[e.isShowVNCPassword?o("span",{staticClass:"icon-cansee",staticStyle:{color:"rgb(207,207,207)"}}):o("span",{staticClass:"icon-nocansee"})]),o("span",{staticClass:"icon-edit",staticStyle:{"margin-left":"10px"},on:{click:e.clickEditVncPass}})])]),"hyperv"!==e.cloudDetailInfo.type?o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v("ISO2")]),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[e.cloudDetailInfo.iso.length>1?o("div",{staticClass:"isoInput"},[o("span",{staticClass:"isoInput-span"},[e._v(e._s(e.isNull(e.cloudDetailInfo.iso[1].name)))]),o("el-button",{staticStyle:{"margin-left":"40px"},attrs:{type:"danger",size:"small"},on:{click:function(t){return e.cancelConnectIso(e.cloudDetailInfo.iso[1])}}},[e._v(e._s(e.$t("common.uninstall")))])],1):o("el-select",{attrs:{value:e.isoGroup,placeholder:e.$t("common.selectmountIos")},on:{change:e.handleClickisoGroup}},e._l(e.isoGroupSelect,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.id,disabled:e.disabled}})})),1)],1)]):o("div",{staticClass:"li-item"})]),"hyperv"!==e.cloudDetailInfo.type?o("li",{staticClass:"tabs-li common"},[o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.bootDisk")))]),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("el-select",{attrs:{value:e.formData.canStartCard,placeholder:e.$t("common. selectbootDisk")},on:{change:e.handleClickStartCard}},e._l(e.canStartCardOptions,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.id,disabled:e.disabled}})})),1)],1)]),o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.netWorkMore")))]),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("span",[e._v(e._s(e.cloudDetailInfo.queues))]),o("div",{staticClass:"icon-wrap",staticStyle:{"margin-left":"50px"},on:{click:function(t){return e.openNetworkQueuesDialog("queues")}}},[o("span",{staticClass:"icon-edit"})])])])]):o("li",{staticClass:"tabs-li common"},[o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v("ISO1")]),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[e.cloudDetailInfo.iso.length>0?o("div",{staticClass:"isoInput"},[o("span",{staticClass:"isoInput-span"},[e._v(e._s(e.isNull(e.cloudDetailInfo.iso[0].name)))]),o("el-button",{staticStyle:{"margin-left":"40px"},attrs:{type:"danger",size:"small"},on:{click:function(t){return e.cancelConnectIso(e.cloudDetailInfo.iso[0])}}},[e._v(e._s(e.$t("common.uninstall")))])],1):o("el-select",{attrs:{value:e.isoGroup,placeholder:e.$t("common.selectmountIos")},on:{change:e.handleClickisoGroup}},e._l(e.isoGroupSelect,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.id,disabled:e.disabled}})})),1)],1)]),o("div",{staticClass:"li-item"})]),"hyperv"!=e.cloudDetailInfo.type?o("li",{staticClass:"tabs-li common"},[o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v("Boot Order")]),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("el-select",{attrs:{value:e.formData.bootOrder,placeholder:e.$t("common.selectBO")},on:{change:e.handleClickBootBorder}},e._l(e.bootOrderOptions,(function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)]),o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v("VirtIO-GPU")]),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("el-switch",{style:e.cloudDetailInfo.gpu?"margin-right: 60px;":"",attrs:{"active-value":1,"inactive-value":0},on:{change:function(t){return e.openNetworkQueuesDialog("gpu")}},model:{value:e.cloudDetailInfo.gpu,callback:function(t){e.$set(e.cloudDetailInfo,"gpu",t)},expression:"cloudDetailInfo.gpu"}}),e.cloudDetailInfo.gpu?o("span",[e._v(e._s(e.cloudDetailInfo.vram)+" MB")]):e._e(),e.cloudDetailInfo.gpu?o("div",{staticClass:"icon-wrap",staticStyle:{"margin-left":"50px"},on:{click:function(t){return e.openNetworkQueuesDialog("vram")}}},[o("span",{staticClass:"icon-edit"})]):e._e()],1)])]):e._e(),"hyperv"!=e.cloudDetailInfo.type?o("li",{staticClass:"tabs-li common"},[o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.CPUmode")))]),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("el-select",{attrs:{value:e.formData.cpuModel,placeholder:e.$t("common. selectCPUmode")},on:{change:e.handleClickcpuModel}},e._l(e.cpuModelOptions,(function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)]),o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.skipColdBackup"))+" "),o("el-popover",{attrs:{placement:"top-start",width:"180",trigger:"hover",content:e.$t("common.msg188")}},[o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("el-tooltip",{attrs:{content:0===e.$store.state.config.edition?e.$t("common.msg8"):e.$t("common.msg228"),disabled:1===e.$store.state.config.edition,placement:"top"}},[o("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:0===e.$store.state.config.edition||2===e.$store.state.config.edition},on:{change:function(t){return e.changeStatus("skipColdBackup",e.cloudDetailInfo.skip_cold_backup)}},model:{value:e.cloudDetailInfo.skip_cold_backup,callback:function(t){e.$set(e.cloudDetailInfo,"skip_cold_backup",t)},expression:"cloudDetailInfo.skip_cold_backup"}})],1)],1)])]):e._e(),o("li",{staticClass:"tabs-li common"},[o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v(" "+e._s(e.$t("common.CPUbound"))+" "),o("el-popover",{attrs:{placement:"top-start",width:"180",trigger:"hover",content:e.$t("common.limitstheCPU")}},[o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("el-switch",{staticStyle:{"margin-right":"6px"},attrs:{"active-color":"#3673ff",size:"small","active-value":1,"inactive-value":0},on:{change:function(t){return e.changeStatus("cpu",e.AcpiCPU)}},model:{value:e.AcpiCPU,callback:function(t){e.AcpiCPU=t},expression:"AcpiCPU"}}),o("div",{directives:[{name:"show",rawName:"v-show",value:e.AcpiCPU,expression:"AcpiCPU"}],staticStyle:{width:"217px"}},[o("el-input",{staticStyle:{width:"95px"},attrs:{controls:!1,disabled:1===e.cloudDetailInfo.cputunecheck,placeholder:e.$t("common.percentage"),maxlength:3},model:{value:e.cloudDetailInfo.cpu_limit,callback:function(t){e.$set(e.cloudDetailInfo,"cpu_limit",t)},expression:"cloudDetailInfo.cpu_limit"}},[o("div",{staticStyle:{color:"#333"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("%")])]),o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",size:"mini"},on:{click:e.saveCpuLimit}},[e._v(" "+e._s(e.$t("common.save")))]),o("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",size:"mini"},on:{click:function(t){e.handleClickDialogShow(e.$t("common.CPUbound"),"cpuLimit")}}},[e._v(" "+e._s(e.$t("common.advance"))+" ")])],1)],1)]),o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v("PAE")]),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("div",{staticClass:"switch-wrapper"},[o("el-switch",{attrs:{"active-color":"#3673ff",size:"small","active-value":1,"inactive-value":0},on:{change:function(t){return e.changeStatus("pae",e.PaeStatus)}},model:{value:e.PaeStatus,callback:function(t){e.PaeStatus=t},expression:"PaeStatus"}})],1)])])]),"hyperv"!=e.cloudDetailInfo.type?o("li",{staticClass:"tabs-li common"},[o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v("Clock")]),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("el-select",{attrs:{value:e.formData.clock,placeholder:e.$t("common.selectCPUmode")},on:{change:e.handleClickClock}},e._l(e.clockOptions,(function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)]),o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v("CONSOLE")]),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("div",{staticClass:"switch-wrapper"},[o("el-switch",{attrs:{"active-color":"#3673ff","active-value":1,"inactive-value":0},on:{change:function(t){return e.changeStatus("console",e.console)}},model:{value:e.console,callback:function(t){e.console=t},expression:"console"}})],1)])])]):e._e(),"hyperv"===e.cloudDetailInfo.type?o("li",{staticClass:"tabs-li common"},[o("div",{staticClass:"li-item"},[o("span",{staticClass:"li-fields"},[e._v(e._s(e.$t("common.DynamicMemory"))+" "),o("el-popover",{attrs:{placement:"top-start",width:"180",trigger:"hover",content:e.$t("common.DynamicTips")}},[o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),o("div",{staticClass:"li-normal",staticStyle:{border:"none",width:"auto !important"}},[o("el-switch",{attrs:{"active-color":"#3673ff","active-value":1,"inactive-value":0},on:{change:function(t){return e.changeStatus("dynamic_memory",e.cloudDetailInfo.dynamic_memory)}},model:{value:e.cloudDetailInfo.dynamic_memory,callback:function(t){e.$set(e.cloudDetailInfo,"dynamic_memory",t)},expression:"cloudDetailInfo.dynamic_memory"}})],1)]),o("div",{staticClass:"li-item"})]):e._e()])]):e._e(),o("el-tab-pane",{staticClass:"tabs-item",attrs:{label:e.$t("common.backups"),name:"backup"}},[o("div",{staticClass:"info-wrapper-item"},[o("div",{staticClass:"table-wrapper"},[o("el-table",{attrs:{height:"400",data:e.backupData,width:"100%","row-style":e.rowStyle}},[o("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),o("el-table-column",{attrs:{prop:"disk_name",label:e.$t("common.disk")},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("el-tooltip",{attrs:{effect:"dark",content:a.real_file,placement:"top"}},[o("span",{staticClass:"table_span"},[e._v(e._s(a.disk_name))])])]}}])}),o("el-table-column",{attrs:{prop:"size",label:e.$t("common.capacity"),width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("div",[o("el-tooltip",{attrs:{effect:"dark",content:a.real_file,placement:"top"}},[o("span",[e._v(e._s(a.size+"G"))])])],1)]}}])}),o("el-table-column",{attrs:{prop:"create_time",label:e.$t("common.createdTime"),"show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"remarks",label:e.$t("common.remarkName"),"min-width":"60","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{label:e.$t("common.manage"),width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.status?o("div",{staticClass:"icon-wrapper"},[o("cl-button",{attrs:{type:"restore",size:"mini"},on:{click:function(t){return e.restoreBackUp(a)}}}),o("cl-button",{attrs:{type:"delete",size:"mini"},on:{click:function(t){return e.deleteRow(a)}}})],1):o("div",[0===a.status?o("i",{staticClass:"el-icon-loading",staticStyle:{color:"#46bf8b"}}):e._e(),e._v(" "+e._s(e.$t("common.creating"))+" "),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("common.cancel"),placement:"top","visible-arrow":!1}},[o("i",{staticClass:"el-icon-circle-close close-btn",on:{click:function(t){return e.closeItem(a)}}})])],1)]}}])})],1),o("div",{staticClass:"pagination"},[o("el-pagination",{attrs:{"current-page":e.backupPageInfo.page,"page-sizes":[4],"page-size":e.backupPageInfo.per_page,layout:"total, sizes, prev, pager, next, jumper",total:e.backupPageInfo.total},on:{"size-change":e.backupCurrentChange,"current-change":e.backupCurrentChange,"update:currentPage":function(t){return e.$set(e.backupPageInfo,"page",t)},"update:current-page":function(t){return e.$set(e.backupPageInfo,"page",t)},"update:pageSize":function(t){return e.$set(e.backupPageInfo,"per_page",t)},"update:page-size":function(t){return e.$set(e.backupPageInfo,"per_page",t)}}})],1)],1)])]),"hyperv"!==e.cloudDetailInfo.type?o("el-tab-pane",{staticClass:"tabs-item",attrs:{label:e.$t("common.snapshoot"),name:"snap"}},[o("div",{staticClass:"info-wrapper-item"},[o("div",{staticClass:"table-wrapper"},[o("el-table",{attrs:{height:"400",data:e.snapData,width:"100%","row-style":e.rowStyle}},[o("el-table-column",{attrs:{prop:"id",width:"60",label:"ID"}}),o("el-table-column",{attrs:{prop:"size",width:"70",label:e.$t("common.size")+"(G)"}}),o("el-table-column",{attrs:{prop:"name",label:e.$t("image.fileName"),"show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"create_time",label:e.$t("common.createdTime"),"show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"disk_name",label:e.$t("common.fssociatedFile"),"show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"remarks",label:e.$t("common.remarkName"),"min-width":"50","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{label:e.$t("common.manage")},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.status?o("div",{staticClass:"icon-wrapper"},[o("cl-button",{attrs:{type:"restore",size:"mini"},on:{click:function(t){return e.restoreBackUp(a)}}}),o("cl-button",{attrs:{type:"delete",size:"mini"},on:{click:function(t){return e.deleteRow(a)}}})],1):o("div",[0===a.status?o("i",{staticClass:"el-icon-loading",staticStyle:{color:"#46bf8b"}}):e._e(),e._v(" "+e._s(e.$t("common.creating"))+" "),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("common.cancel"),placement:"top","visible-arrow":!1}},[o("i",{staticClass:"el-icon-circle-close close-btn",on:{click:function(t){return e.closeItem(a)}}})])],1)]}}],null,!1,2170965310)})],1),o("div",{staticClass:"pagination"},[o("el-pagination",{attrs:{"current-page":e.fastphotoInfo.page,"page-sizes":[4],"page-size":e.fastphotoInfo.per_page,layout:"total, sizes, prev, pager, next, jumper",total:e.fastphotoInfo.total},on:{"size-change":e.fastphotoCurrentChange,"current-change":e.fastphotoCurrentChange,"update:currentPage":function(t){return e.$set(e.fastphotoInfo,"page",t)},"update:current-page":function(t){return e.$set(e.fastphotoInfo,"page",t)},"update:pageSize":function(t){return e.$set(e.fastphotoInfo,"per_page",t)},"update:page-size":function(t){return e.$set(e.fastphotoInfo,"per_page",t)}}})],1)],1)])]):e._e(),1==e.cloudDetailInfo.support_nat?o("el-tab-pane",{staticClass:"tabs-item",attrs:{label:e.$t("common.NATtranspond"),name:"natTranspond"}},[o("div",{staticClass:"info-wrapper-item"},[o("div",{staticClass:"table-wrapper"},[o("el-table",{attrs:{height:"400",data:e.natTranspondData,width:"100%","row-style":e.rowStyle},on:{"hook:created":e.getCloudNatTranspond}},[o("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),o("el-table-column",{attrs:{prop:"name",label:e.$t("common.name"),"show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"ext_port",label:e.$t("common.ForwardingIPport")},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.nat_host_ip)+":"+e._s(a.ext_port))]}}],null,!1,2060433285)}),o("el-table-column",{attrs:{prop:"int_port",label:e.$t("common.ForwardingIPport"),width:"80"}}),o("el-table-column",{attrs:{prop:"protocol",label:e.$t("common.protocol"),width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[1==a.protocol?o("span",[e._v("tcp")]):e._e(),2==a.protocol?o("span",[e._v("udp")]):e._e(),3==a.protocol?o("span",[e._v("tcp+udp")]):e._e()]}}],null,!1,3009479931)}),o("el-table-column",{attrs:{label:e.$t("common.manage"),width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticClass:"icon-wrapper"},[o("span",{staticClass:"icon el-icon-delete-solid",staticStyle:{color:"#cfcfcf"},on:{click:function(a){return e.deleteRow(t.row)}}})])]}}],null,!1,728290128)})],1),o("div",{staticClass:"pagination"},[o("el-pagination",{attrs:{"current-page":e.natTranspondPageInfo.page,"page-sizes":[4],"page-size":e.natTranspondPageInfo.per_page,layout:"total, sizes, prev, pager, next, jumper",total:e.natTranspondPageInfo.total},on:{"size-change":e.getCloudNatTranspond,"current-change":e.getCloudNatTranspond,"update:currentPage":function(t){return e.$set(e.natTranspondPageInfo,"page",t)},"update:current-page":function(t){return e.$set(e.natTranspondPageInfo,"page",t)},"update:pageSize":function(t){return e.$set(e.natTranspondPageInfo,"per_page",t)},"update:page-size":function(t){return e.$set(e.natTranspondPageInfo,"per_page",t)}}})],1)],1)])]):e._e(),1==e.cloudDetailInfo.support_nat?o("el-tab-pane",{staticClass:"tabs-item",attrs:{label:e.$t("common.buildStation"),name:"natBuild"}},[o("div",{staticClass:"info-wrapper-item"},[o("div",{staticClass:"table-wrapper"},[o("el-table",{attrs:{height:"400",data:e.natBuildData,width:"100%","row-style":e.rowStyle},on:{"hook:created":e.getCloudNatBuild}},[o("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),o("el-table-column",{attrs:{prop:"domain",label:e.$t("common.domainName")}}),o("el-table-column",{attrs:{prop:"ext_port",label:e.$t("common.ExternalPort"),"max-width":"130"}}),o("el-table-column",{attrs:{prop:"int_port",label:e.$t("common.internalPort"),"max-width":"130"}}),o("el-table-column",{attrs:{label:e.$t("common.manage"),width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticClass:"icon-wrapper"},[o("span",{staticClass:"icon el-icon-delete-solid",staticStyle:{color:"#cfcfcf"},on:{click:function(a){return e.deleteRow(t.row)}}})])]}}],null,!1,728290128)})],1),o("div",{staticClass:"pagination"},[o("el-pagination",{attrs:{"current-page":e.natBuildPageInfo.page,"page-sizes":[4],"page-size":e.natBuildPageInfo.per_page,layout:"total, sizes, prev, pager, next, jumper",total:e.natBuildPageInfo.total},on:{"size-change":e.getCloudNatBuild,"current-change":e.getCloudNatBuild,"update:currentPage":function(t){return e.$set(e.natBuildPageInfo,"page",t)},"update:current-page":function(t){return e.$set(e.natBuildPageInfo,"page",t)},"update:pageSize":function(t){return e.$set(e.natBuildPageInfo,"per_page",t)},"update:page-size":function(t){return e.$set(e.natBuildPageInfo,"per_page",t)}}})],1)],1)])]):e._e(),e.isCursomerVersion||"hyperv"===e.cloudDetailInfo.type?e._e():o("el-tab-pane",{staticClass:"tabs-item",attrs:{label:e.$t("common.hardware"),name:"hardware"}},[o("ComputerInfoPci",e._g({ref:"ComputerInfoPci",attrs:{slType:e.cloudDetailInfo.type}},e.$listeners))],1),(e.isAgent||!e.isCursomerVersion||e.isCursomerVersion&&e.$hasAuthority("cloud_cron_snap"))&&"hyperv"!==e.cloudDetailInfo.type?o("el-tab-pane",{staticClass:"tabs-item",attrs:{label:e.$t("common.timedTask"),name:"timeTask"}},[o("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("common.timedTask"))+" "),e.time_tip.length>0?o("el-popover",{attrs:{placement:"top-start",width:"280",trigger:"hover"}},[e._v(" "+e._s(e.$t("plugin.tip24"))+"："),o("br"),e._l(e.time_tip,(function(t,a){return o("span",{key:a,staticClass:"limit-tip"},[a>0?o("span",[e._v("；")]):e._e(),e._v(e._s(t.start)+"-"+e._s(t.end)+" ")])})),o("i",{staticClass:"el-icon-warning-outline",staticStyle:{color:"#e6a23c"},attrs:{slot:"reference"},slot:"reference"})],2):e._e()],1),o("ComputerTimeTask",e._g({ref:"ComputerTimeTask",attrs:{slType:e.cloudDetailInfo.type}},e.$listeners))],1):e._e(),e.isCursomerVersion||"hyperv"===e.cloudDetailInfo.type?e._e():o("el-tab-pane",{staticClass:"tabs-item",attrs:{name:"smart",label:e.$t("migration.smartRule")}},[o("div",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(e.$t("migration.smartRule"))+" "),e.cloudDetailInfo.advanced_bw&&e.cloudDetailInfo.advanced_bw.id&&!e.cloudDetailInfo.advanced_bw.node_authorized||e.cloudDetailInfo.advanced_cpu&&e.cloudDetailInfo.advanced_cpu.id&&!e.cloudDetailInfo.advanced_cpu.node_authorized?o("span",{staticClass:"msg-num"},[o("span",{staticClass:"el-icon-warning",staticStyle:{color:"#f64e60"}})]):e._e()]),o("div",{staticClass:"info-wrapper-item"},[o("div",{staticClass:"table-wrapper"},[o("smart-rule",{attrs:{cloudDetailInfo:e.cloudDetailInfo,id:e.id},on:{refreshCloudInfo:e.refreshCloudInfo}})],1)])])],1),o("el-dialog",{attrs:{title:e.$t("common.revampVNC"),visible:e.isShowVncPort,width:"500px"},on:{"update:visible":function(t){e.isShowVncPort=t}}},[o("el-form",{ref:"backForm",attrs:{rules:e.vncPortRules,model:e.backForm,size:"medium","label-width":"140px","label-position":e.$globalConfig.labelPosition}},[o("el-form-item",{attrs:{prop:"vncPort",label:e.$t("common.vncPort")}},[o("el-input",{staticStyle:{width:"90%"},attrs:{type:"text",placeholder:"",autocomplete:"off"},model:{value:e.backForm.vncPort,callback:function(t){e.$set(e.backForm,"vncPort",t)},expression:"backForm.vncPort"}})],1)],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.isShowVncPort=!1}}},[e._v(e._s(e.$t("common.cancel")))]),o("el-button",{attrs:{type:"primary"},on:{click:e.submitEditVncPort}},[e._v(e._s(e.$t("common.sure")))])],1)],1),o("el-dialog",{attrs:{title:e.$t("common.revampvncpwd"),visible:e.isShowVncPassDialog,width:"500px"},on:{"update:visible":function(t){e.isShowVncPassDialog=t}}},[o("el-form",{ref:"backForm",attrs:{rules:e.vncPortRules,model:e.backForm,size:"medium","label-width":"140px","label-position":e.$globalConfig.labelPosition}},[o("el-form-item",{attrs:{prop:"vncPassWord",label:e.$t("common.vncPassWord"),"label-width":e.formLabelWidth}},[o("div",{staticClass:"fboxRow Ycenter"},[o("el-input",{staticStyle:{width:"90%"},attrs:{type:"text",placeholder:"",autocomplete:"off"},model:{value:e.backForm.vncPassWord,callback:function(t){e.$set(e.backForm,"vncPassWord",t)},expression:"backForm.vncPassWord"}}),o("div",{staticClass:"ml-20 icon font18",on:{click:e.randomVncPass}},[o("span",{staticClass:" icon-random"})])],1)])],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.isShowVncPassDialog=!1}}},[e._v(e._s(e.$t("common.cancel")))]),o("el-button",{attrs:{type:"primary"},on:{click:e.submitEditVncPassWord}},[e._v(e._s(e.$t("common.sure")))])],1)],1),o("el-dialog",{attrs:{title:e.backUpTitle,visible:e.isShowBackUp,width:"500px"},on:{"update:visible":function(t){e.isShowBackUp=t},closed:e.closeBackForm}},[o("el-form",{ref:"backFormRef",attrs:{model:e.backForm,rules:e.backupsRule,size:"medium","label-width":"140px","label-position":e.$globalConfig.labelPosition}},["add"==e.isShowEditBackUpType?[o("el-form-item",{attrs:{label:e.$t("common.diskSelection"),prop:"diskId","label-width":e.formLabelWidth}},[o("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:e.$t("common.Pleaseselectdisk")},model:{value:e.backForm.diskId,callback:function(t){e.$set(e.backForm,"diskId",t)},expression:"backForm.diskId"}},e._l(e.diskSelectOptions,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.id,disabled:e.disabled}})})),1)],1),"backup"===e.activeName?o("el-form-item",{attrs:{label:e.$t("common.backupsTo"),prop:"store_id","label-width":e.formLabelWidth}},[o("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:e.$t("common.Pleaseselectdisk")},on:{change:e.changeStore},model:{value:e.backForm.store_id,callback:function(t){e.$set(e.backForm,"store_id",t)},expression:"backForm.store_id"}},[o("el-option",{attrs:{label:e.$t("common.default"),value:-1}}),e._l(e.diskStoreSelectOptions,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],2)],1):e._e(),o("el-form-item",{attrs:{label:e.$t("common.remarkName"),"label-width":e.formLabelWidth}},[o("el-input",{staticStyle:{width:"90%"},attrs:{type:"text",placeholder:"",autocomplete:"off"},model:{value:e.backForm.name,callback:function(t){e.$set(e.backForm,"name",t)},expression:"backForm.name"}})],1)]:"backup"==e.isShowEditBackUpType?[o("el-form-item",{attrs:{label:e.$t("common.backupNum"),prop:"backup_num","label-width":"160px"}},[o("el-input",{attrs:{placeholder:e.$t("common.clientSide")},model:{value:e.backForm.backup_num,callback:function(t){e.$set(e.backForm,"backup_num",e._n(t))},expression:"backForm.backup_num"}})],1)]:"snap"==e.isShowEditBackUpType?[o("el-form-item",{attrs:{label:e.$t("common.snapNum"),prop:"snap_num"}},[o("el-input",{attrs:{placeholder:e.$t("common.clientSide"),min:-1,max:9999},model:{value:e.backForm.snap_num,callback:function(t){e.$set(e.backForm,"snap_num",t)},expression:"backForm.snap_num"}})],1)]:"natTranspond"==e.isShowEditBackUpType?[o("el-form-item",{attrs:{label:e.$t("common.natAclLimit"),prop:"nat_acl_limit"}},[o("el-input",{attrs:{placeholder:e.$t("common.clientSide"),min:-1,max:9999},model:{value:e.backForm.nat_acl_limit,callback:function(t){e.$set(e.backForm,"nat_acl_limit",t)},expression:"backForm.nat_acl_limit"}})],1)]:"natBuild"==e.isShowEditBackUpType?[o("el-form-item",{attrs:{label:e.$t("common.natWebLimit"),prop:"nat_web_limit"}},[o("el-input",{attrs:{placeholder:e.$t("common.clientSide"),min:-1,max:9999},model:{value:e.backForm.nat_web_limit,callback:function(t){e.$set(e.backForm,"nat_web_limit",t)},expression:"backForm.nat_web_limit"}})],1)]:e._e()],2),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.isShowBackUp=!1}}},[e._v(e._s(e.$t("common.cancel")))]),o("el-button",{attrs:{type:"primary"},on:{click:e.submitAddBackUp}},[e._v(e._s(e.$t("common.sure")))])],1)],1),o("el-dialog",{attrs:{title:e.backUpTitle,visible:e.isShowNat,width:"500px"},on:{close:e.closeBackForm,"update:visible":function(t){e.isShowNat=t}}},[o("el-form",{ref:"backFormRef",attrs:{model:e.backForm,rules:e.backupsRule,size:"medium","label-width":"140px","label-position":e.$globalConfig.labelPosition}},["natTranspond"==e.activeName?o("el-form-item",{attrs:{label:e.$t("common.name"),prop:"name"}},[o("el-input",{attrs:{placeholder:e.$t("common.namePlaceholder")},model:{value:e.backForm.name,callback:function(t){e.$set(e.backForm,"name",t)},expression:"backForm.name"}})],1):e._e(),"natBuild"==e.activeName?o("el-form-item",{attrs:{label:e.$t("common.domainName"),prop:"domain"}},[o("el-input",{attrs:{placeholder:e.$t("common.domainPlaceholder")},model:{value:e.backForm.domain,callback:function(t){e.$set(e.backForm,"domain",t)},expression:"backForm.domain"}})],1):e._e(),"natTranspond"==e.activeName?o("el-form-item",{attrs:{label:e.$t("common.ExternalPort"),prop:"ext_port"}},[o("el-input",{attrs:{placeholder:e.$t("common.beassigned")},model:{value:e.backForm.ext_port,callback:function(t){e.$set(e.backForm,"ext_port",t)},expression:"backForm.ext_port"}})],1):e._e(),"natBuild"==e.activeName?o("el-form-item",{attrs:{label:e.$t("common.ExternalPort"),prop:"ext_port2"}},[o("el-select",{attrs:{filterable:"",placeholder:e.$t("common.selectProtocol")},model:{value:e.backForm.ext_port2,callback:function(t){e.$set(e.backForm,"ext_port2",t)},expression:"backForm.ext_port2"}},[o("el-option",{attrs:{label:"80",value:80}})],1)],1):e._e(),o("el-form-item",{attrs:{label:e.$t("common.internalPort"),prop:"int_port"}},[o("el-input",{attrs:{placeholder:e.$t("common.internalPort655")},model:{value:e.backForm.int_port,callback:function(t){e.$set(e.backForm,"int_port",t)},expression:"backForm.int_port"}})],1),"natTranspond"==e.activeName?o("el-form-item",{attrs:{label:e.$t("common.protocol"),prop:"protocol"}},[o("el-select",{attrs:{filterable:"",placeholder:e.$t("common.selectProtocol")},model:{value:e.backForm.protocol,callback:function(t){e.$set(e.backForm,"protocol",t)},expression:"backForm.protocol"}},e._l(e.protocol,(function(e){return o("el-option",{key:e.id,attrs:{label:e.cont,value:e.id}})})),1)],1):e._e()],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.isShowNat=!1}}},[e._v(e._s(e.$t("common.cancel")))]),o("el-button",{attrs:{type:"primary"},on:{click:e.submitAddNat}},[e._v(e._s(e.$t("common.sure")))])],1)],1),o("el-dialog",{attrs:{title:e.backUpTitle,visible:e.isShowFloatIpGroup,width:"500px"},on:{"update:visible":function(t){e.isShowFloatIpGroup=t},open:e.addResetFloatGroupForm,close:e.resetFloatGroupForm}},[o("el-form",{ref:"floatIpForm",attrs:{rules:e.floatIpRule,model:e.floatIpForm,size:"medium","label-width":"140px","label-position":e.$globalConfig.labelPosition}},[e.isAgent&&e.cloudDetailInfo.resource_package&&e.cloudDetailInfo.resource_package.ip&&!e.cloudDetailInfo.resource_package.ip.length&&"deleteIP"!==e.dataType&&"updateFloatIP"!==e.dataType&&"deleteBatchesIP"!==e.dataType?o("el-form-item",{attrs:{label:e.$t("common.ipNumber"),prop:"num"}},[o("el-input",{staticStyle:{width:"90%"},model:{value:e.floatIpForm.num,callback:function(t){e.$set(e.floatIpForm,"num",t)},expression:"floatIpForm.num"}})],1):"addFloatIP"===e.dataType||"addIP"===e.dataType?o("el-form-item",{attrs:{prop:"ip",label:"IP","label-width":e.formLabelWidth}},[o("el-select",{staticStyle:{width:"90%"},attrs:{multiple:"","collapse-tags":"",filterable:"",placeholder:e.$t("common.chooseIp")},model:{value:e.floatIpForm.ip,callback:function(t){e.$set(e.floatIpForm,"ip",t)},expression:"floatIpForm.ip"}},e._l(e.ipSelectOptions,(function(t,a){return o("el-option-group",{key:a,attrs:{label:t.ip_name}},e._l(t.ip,(function(e,t){return o("el-option",{key:t,attrs:{label:e.ip,value:e.id,checked:""}})})),1)})),1)],1):"addIPV6"===e.dataType?o("el-form-item",{attrs:{prop:"ipv6Num",label:"ipv6"+e.$t("common.number"),"label-width":e.formLabelWidth}},[o("el-input",{model:{value:e.floatIpForm.ipv6Num,callback:function(t){e.$set(e.floatIpForm,"ipv6Num",t)},expression:"floatIpForm.ipv6Num"}})],1):e._e(),"deleteIP"===e.dataType||"deleteIPv6"===e.dataType?o("div",{staticClass:"mt-20 mb-20"},["deleteIP"===e.dataType?o("span",[e._v(" IP: "+e._s(e.rowInfo.ip)+" ")]):"deleteIPv6"===e.dataType?o("span",[e._v(" IPV6: "+e._s(e.rowInfo.ipv6)+" ")]):e._e()]):"deleteBatchesIP"===e.dataType||"deleteBatchesIPV6"===e.dataType?o("div",e._l(e.rowInfo.ips,(function(t){return o("div",{key:t.id,staticStyle:{margin:"5px"}},["deleteBatchesIP"===e.dataType?o("span",[e._v(" "+e._s(t.ip)+" ")]):"deleteBatchesIPV6"===e.dataType?o("span",[e._v(" "+e._s(t.ipv6)+" ")]):e._e()])})),0):e._e(),"off"===e.status||"addIP"!==e.dataType&&"addIPV6"!==e.dataType&&"deleteIP"!==e.dataType&&"deleteIPv6"!==e.dataType&&"deleteBatchesIP"!==e.dataType&&"deleteBatchesIPV6"!==e.dataType||"normal"!==e.cloudDetailInfo.network_type?e._e():[o("div",{staticClass:"tag-danger"},[o("span",{staticClass:"title"},[e._v(e._s(e.$t("common.shutdownState"))+"：")]),o("ul",[o("li",[e._v(e._s(e.$t("common.makeSureCarefully")))]),o("li",[e._v(e._s(e.$t("common.beforeProceeding")))])])]),o("el-form-item",{attrs:{label:e.$t("common.forcedShutdown"),prop:"agree","label-width":"deleteIP"===e.dataType||"deleteBatchesIP"===e.dataType?"80px":"140px"}},[o("el-checkbox",{model:{value:e.floatIpForm.agree,callback:function(t){e.$set(e.floatIpForm,"agree",t)},expression:"floatIpForm.agree"}},[e._v(e._s(e.$t("common.AgreeForced")))])],1)],"deleteBatchesIP"!==e.dataType&&"addIP"!==e.dataType&&"deleteIP"!==e.dataType&&"deleteIPv6"!==e.dataType&&"deleteBatchesIPV6"!==e.dataType&&!0===e.isAddFloatGourp?[o("el-form-item",{attrs:{label:e.$t("common.bandwidth"),prop:"in_bw","label-width":e.formLabelWidth,disabled:!0}},[o("div",{staticStyle:{display:"flex"}},[o("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.$t("common.enter")))]),o("el-input",{staticStyle:{width:"60%"},attrs:{props:"in_bw",type:"text",autocomplete:"off"},model:{value:e.floatIpForm.in_bw,callback:function(t){e.$set(e.floatIpForm,"in_bw",t)},expression:"floatIpForm.in_bw"}}),o("div",{staticStyle:{display:"flex",flex:"1","justify-content":"flex-end"}},[e._v("Mbps")])],1)]),o("el-form-item",{attrs:{prop:"out_bw","label-width":e.formLabelWidth,disabled:!0}},[o("div",{staticStyle:{display:"flex"}},[o("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.$t("common.out")))]),o("el-input",{staticStyle:{width:"60%"},attrs:{type:"text",autocomplete:"off"},model:{value:e.floatIpForm.out_bw,callback:function(t){e.$set(e.floatIpForm,"out_bw",t)},expression:"floatIpForm.out_bw"}}),o("div",{staticStyle:{display:"flex",flex:"1","justify-content":"flex-end"}},[e._v("Mbps")])],1)])]:e._e()],2),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.isShowFloatIpGroup=!1}}},[e._v(e._s(e.$t("common.cancel")))]),o("el-button",{attrs:{type:"primary"},on:{click:e.submitAddFloatGroup}},[e._v(e._s(e.$t("common.sure")))])],1)],1),o("el-dialog",{attrs:{title:e.$t("common.resetPwd"),visible:e.dialogPasswordVisible,width:"600px"},on:{"update:visible":function(t){e.dialogPasswordVisible=t},close:e.closeUpdatePasswordForm}},[o("el-form",{ref:"updatePasswordForm",staticClass:"resetPassword",attrs:{model:e.updatePasswordForm,rules:e.updatePasswordFormRules,"label-width":"160px","label-position":e.$globalConfig.labelPosition}},[o("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{prop:0===e.updatePasswordForm.password_type?"randomPassWord":"ssh_key"}},[o("template",{slot:"label"},[o("span",[o("el-select",{staticStyle:{width:"110px"},on:{change:e.changePassType},model:{value:e.updatePasswordForm.password_type,callback:function(t){e.$set(e.updatePasswordForm,"password_type",t)},expression:"updatePasswordForm.password_type"}},[o("el-option",{attrs:{label:e.$t("common.password"),value:0}}),!e.isCursomerVersion||e.isCursomerVersion&&1===e.$store.state.config.edition?[1!==e.cloudDetailInfo.image_group_id&&"hyperv"!==e.cloudDetailInfo.type?o("el-option",{attrs:{label:"SSH"+e.$t("config.notificationSettings.key"),value:1}}):e._e()]:e._e()],2),o("el-popover",{attrs:{placement:"top-start",width:"250",trigger:"hover"}},[e.updatePasswordForm.password_type?o("div",[e._v(" "+e._s(e.$t("common.msg178"))+" ")]):o("div",[o("div",[e._v(e._s(e.$t("cloud.lowercaseLetters1")))]),o("div",[e._v(e._s(e.$t("cloud.lowercaseLetters2")))]),o("div",[e._v(e._s(e.$t("cloud.lowercaseLetters3")))]),o("div",[e._v(e._s(e.$t("cloud.lowercaseLetters4")))])]),o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1)]),e.updatePasswordForm.password_type?o("div",[o("el-select",{staticStyle:{width:"316px"},model:{value:e.updatePasswordForm.ssh_key,callback:function(t){e.$set(e.updatePasswordForm,"ssh_key",t)},expression:"updatePasswordForm.ssh_key"}},e._l(e.sshList,(function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1):o("div",{staticClass:"random-password"},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.updatePasswordForm.randomPassWord,callback:function(t){e.$set(e.updatePasswordForm,"randomPassWord",t)},expression:"updatePasswordForm.randomPassWord"}}),o("div",{staticClass:"icon",on:{click:e.randomPassWord}},[o("span",{staticClass:"icon-random "})])],1)],2),"off"!==e.status?o("div",{staticClass:"tag-danger"},[o("span",{staticClass:"title"},[e._v(e._s(e.$t("common.shutdownState")))]),o("ul",[o("li",[e._v(e._s(e.$t("common.makeSureCarefully")))]),o("li",[e._v(e._s(e.$t("common.beforeProceeding")))])])]):e._e(),"off"!==e.status?o("el-form-item",{attrs:{label:e.$t("common.forcedShutdown"),prop:"agree"}},[o("el-checkbox",{model:{value:e.updatePasswordForm.agree,callback:function(t){e.$set(e.updatePasswordForm,"agree",t)},expression:"updatePasswordForm.agree"}},[e._v(e._s(e.$t("common.AgreeForced"))+" ")])],1):e._e()],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:e.updatePasswordSure}},[e._v(e._s(e.$t("common.sure")))])],1)],1),o("el-dialog",{attrs:{title:e.$t("common.changePwd"),visible:e.dialogPanelPasswordVisible,width:"600px"},on:{"update:visible":function(t){e.dialogPanelPasswordVisible=t},close:e.closeUpdatePasswordForm}},[o("el-form",{ref:"updatePasswordForm",attrs:{model:e.updatePasswordForm,rules:e.updatePasswordFormRules,"label-width":"100px","label-position":e.$globalConfig.labelPosition}},[o("el-form-item",{attrs:{label:e.$t("common.password"),prop:"panel_pass"}},[o("div",{staticClass:"random-password"},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.updatePasswordForm.panel_pass,callback:function(t){e.$set(e.updatePasswordForm,"panel_pass",t)},expression:"updatePasswordForm.panel_pass"}}),o("div",{staticClass:"icon",on:{click:function(t){return e.randomPassWord("panel")}}},[o("span",{staticClass:" icon-random"})])],1)])],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updatePasswordSure("panel")}}},[e._v(e._s(e.$t("common.sure"))+" ")])],1)],1),o("el-dialog",{attrs:{title:"moveNode"===e.dialogInfo.type?e.$t("common.moveNode"):e.$t("common.moveDisk"),visible:e.dialogNodeVisible,width:"600px"},on:{"update:visible":function(t){e.dialogNodeVisible=t},close:function(t){return e.closeDialog("dialogInfo")}}},[o("el-row",{staticClass:"move-radio"},[e.migShow?e._e():o("el-radio-group",{staticStyle:{"margin-bottom":"20px",width:"100%"},attrs:{border:"",size:"small"},on:{change:e.changedialogType},model:{value:e.dialogInfo.type,callback:function(t){e.$set(e.dialogInfo,"type",t)},expression:"dialogInfo.type"}},[o("el-radio-button",{staticStyle:{width:"50%"},attrs:{label:"moveNode"}},[e._v(e._s(e.$t("common.moveNode"))+" ")]),o("el-radio-button",{staticStyle:{width:"50%"},attrs:{label:"moveDisk"}},[e._v(e._s(e.$t("common.moveDisk"))+" ")])],1)],1),o("el-form",{ref:"dialogInfo",attrs:{"label-position":e.$globalConfig.labelPosition,"label-width":"120px",model:e.dialogInfo,rules:e.dialogRule}},["moveNode"===e.dialogInfo.type?[o("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{prop:""}},[o("el-row",{attrs:{type:"flex",justify:"end"}},[o("el-checkbox",{on:{change:e.getMigrateInfo},model:{value:e.dialogInfo.advanced,callback:function(t){e.$set(e.dialogInfo,"advanced",t)},expression:"dialogInfo.advanced"}},[e._v(" "+e._s(e.$t("common.advance"))+" ")])],1)],1),o("el-form-item",{attrs:{label:e.$t("common.nowNode"),prop:""}},[e._v(e._s(e.cloudDetailInfo.node_name)+" ")]),o("el-form-item",{attrs:{label:e.$t("common.goalNode"),prop:"node"}},[o("el-cascader",{ref:"cascader",staticStyle:{width:"200px"},attrs:{options:e.NoHrpervNodeSelectOptions,placeholder:e.$t("common.chooseNode"),props:{children:"children",label:"name",value:"id",emitPath:!1},"show-all-levels":!1},on:{change:e.changeMigNode},model:{value:e.dialogInfo.node,callback:function(t){e.$set(e.dialogInfo,"node",t)},expression:"dialogInfo.node"}})],1),e.dialogInfo.advanced?o("el-form-item",{attrs:{label:e.$t("image.store"),prop:"store"}},[o("el-select",{staticStyle:{width:"200px"},attrs:{clearable:""},on:{change:e.getMigrateInfo},model:{value:e.dialogInfo.store,callback:function(t){e.$set(e.dialogInfo,"store",t)},expression:"dialogInfo.store"}},e._l(e.nodeStoreList,(function(e){return o("el-option",{key:e.id,attrs:{label:e.show_name,value:e.id}})})),1)],1):e._e(),!e.dialogInfo.advanced&&!e.assign_ip||e.dialogInfo.showAdsl||e.cloudDetailInfo.transparent?e._e():o("el-form-item",{attrs:{label:e.$t("common.newIPAdress"),prop:"ipGroup"}},[o("el-row",{attrs:{type:"flex",justify:"space-between"}},[o("el-select",{staticStyle:{width:"200px"},on:{change:e.changeGroup},model:{value:e.dialogInfo.ipGroup,callback:function(t){e.$set(e.dialogInfo,"ipGroup",t)},expression:"dialogInfo.ipGroup"}},[o("el-option",{attrs:{label:e.lastAssign_ip&&e.assign_ip?e.$t("common.automatic"):e.$t("common.DonNotReplace"),value:0}}),1===e.$store.state.functionSwitch.fs_elastic_ip_product&&1===e.$store.state.config.edition?o("el-option",{attrs:{label:e.$t("elastic.elastic_ip"),value:-1}}):e._e(),e._l(e.migrateIpOptions,(function(e){return o("el-option",{key:e.id,attrs:{label:e.ip_name,value:e.id}})}))],2),0!==e.dialogInfo.ipGroup?[o("el-form-item",{staticClass:"mr-20",attrs:{prop:"ip","label-width":"10px"}},[o("el-select",{staticStyle:{width:"200px"},attrs:{multiple:"","collapse-tags":!0},model:{value:e.dialogInfo.ip,callback:function(t){e.$set(e.dialogInfo,"ip",t)},expression:"dialogInfo.ip"}},e._l(e.ipList,(function(e){return o("el-option",{key:e.id,attrs:{label:e.ip,value:e.id}})})),1)],1)]:e._e()],2)],1),e.assign_ipv6?o("el-form-item",{attrs:{label:e.$t("common.newIpv6Adress"),prop:""}},[o("el-row",{attrs:{type:"flex",justify:"space-between"}},[o("span",[e._v(e._s(e.$t("common.automatic")))])])],1):e._e(),e.dialogInfo.showAdsl?o("el-form-item",{attrs:{prop:"adsl",label:"ADSL"+e.$t("login.account")}},[o("el-select",{staticStyle:{width:"200px"},attrs:{disabled:""},model:{value:e.dialogInfo.adsl,callback:function(t){e.$set(e.dialogInfo,"adsl",t)},expression:"dialogInfo.adsl"}},[o("el-option",{attrs:{label:e.$t("cloud.automatic"),value:0}})],1)],1):e._e(),e.showMigBtn?["hot_migrate"===e.migrate_type?o("el-form-item",{attrs:{prop:"hot_migrate"}},[o("template",{slot:"label"},[o("div",[o("span",[e._v(e._s(e.$t("common.hotMigration")))]),o("el-popover",{attrs:{placement:"top-start",width:"180",trigger:"hover",content:e.$t("common.msg186")+e.$t("common.msg174")}},[o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1)]),o("el-tooltip",{attrs:{effect:"dark",content:e.$t("common.msg195"),placement:"top",disabled:e.node_online}},[o("div",[o("el-checkbox",{attrs:{"true-label":1,"false-label":0,disabled:!e.node_online},on:{change:e.changeAllowShow},model:{value:e.dialogInfo.hot_migrate,callback:function(t){e.$set(e.dialogInfo,"hot_migrate",t)},expression:"dialogInfo.hot_migrate"}}),o("span",{staticClass:"ml-5"},[e._v(e._s(e.$t("common.msg168")))])],1)])],2):e._e(),"cold_migrate"===e.migrate_type?o("el-form-item",{attrs:{prop:"quick_migrate"}},[o("template",{slot:"label"},[o("div",[o("span",[e._v(e._s(e.$t("common.RapidMigration")))]),o("el-popover",{attrs:{placement:"top-start",width:"180",trigger:"hover",content:e.$t("common.msg186")+e.$t("common.msg175")}},[o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1)]),o("el-tooltip",{attrs:{effect:"dark",content:e.$t("common.msg195"),placement:"top",disabled:e.node_online}},[o("div",[o("el-checkbox",{attrs:{"true-label":1,"false-label":0,disabled:!e.node_online},on:{change:function(t){return e.changeMig("quick")}},model:{value:e.dialogInfo.quick_migrate,callback:function(t){e.$set(e.dialogInfo,"quick_migrate",t)},expression:"dialogInfo.quick_migrate"}}),o("span",{staticClass:"ml-5"},[e._v(e._s(e.$t("common.msg169")))])],1)])],2):e._e(),"cold_migrate"===e.migrate_type?o("el-form-item",{attrs:{prop:"force_hot_migrate"}},[o("template",{slot:"label"},[o("div",[o("span",[e._v(e._s(e.$t("common.ForcedHeatTransfer")))]),o("el-popover",{attrs:{placement:"top-start",width:"180",trigger:"hover",content:e.$t("common.msg186")+e.$t("common.msg176")}},[o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1)]),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("common.msg195"),placement:"top",disabled:e.node_online}},[o("div",[o("el-checkbox",{attrs:{"true-label":1,"false-label":0,disabled:!e.node_online},on:{change:function(t){return e.changeMig("force")}},model:{value:e.dialogInfo.force_hot_migrate,callback:function(t){e.$set(e.dialogInfo,"force_hot_migrate",t)},expression:"dialogInfo.force_hot_migrate"}}),o("span",{staticClass:"ml-5"},[e._v(e._s(e.$t("common.msg170")))])],1)])],2):e._e(),"hot_migrate"===e.migrate_type&&e.dialogInfo.hot_migrate?o("el-form-item",{attrs:{prop:"allow_hang"}},[o("template",{slot:"label"},[o("div",[o("span",[e._v(e._s(e.$t("common.AllowedToHang")))]),o("el-popover",{attrs:{placement:"top-start",width:"180",trigger:"hover",content:e.$t("common.msg177")}},[o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1)]),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("common.msg195"),placement:"top",disabled:e.node_online}},[o("div",[o("el-checkbox",{attrs:{"true-label":1,"false-label":0,disabled:!e.node_online},model:{value:e.dialogInfo.allow_hang,callback:function(t){e.$set(e.dialogInfo,"allow_hang",t)},expression:"dialogInfo.allow_hang"}}),o("span",{staticClass:"ml-5"},[e._v(e._s(e.$t("common.msg171")))])],1)])],2):e._e()]:e._e(),e.isShowAllow?o("el-form-item",{attrs:{prop:"allow_discard_snap"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("common.msg195"),placement:"top",disabled:e.node_online}},[o("div",[o("el-checkbox",{attrs:{"true-label":1,"false-label":0,disabled:!e.node_online},model:{value:e.dialogInfo.allow_discard_snap,callback:function(t){e.$set(e.dialogInfo,"allow_discard_snap",t)},expression:"dialogInfo.allow_discard_snap"}}),o("span",{staticClass:"ml-5"},[e._v(e._s(e.$t("common.msg173")))])],1)])],1):e._e(),e.node_online&&e.coldMigrate&&"off"!==e.status||e.dialogInfo.quick_migrate&&"cold_migrate"===e.migrate_type&&"off"!==e.status?[o("div",{staticClass:"tag-danger"},["cold_migrate"===e.migrate_type&&e.dialogInfo.quick_migrate?o("span",{staticClass:"title"},[e._v(e._s(e.$t("common.shutdownState1")))]):o("span",{staticClass:"title"},[e._v(e._s(e.$t("common.shutdownState")))]),o("ul",[o("li",[e._v(e._s(e.$t("common.makeSureCarefully")))]),o("li",[e._v(e._s(e.$t("common.beforeProceeding")))])])]),o("el-form-item",{attrs:{label:e.$t("common.forcedShutdown"),prop:"agree","label-width":"120px"}},[o("el-checkbox",{model:{value:e.dialogInfo.agree,callback:function(t){e.$set(e.dialogInfo,"agree",t)},expression:"dialogInfo.agree"}},[e._v(" "+e._s(e.$t("common.AgreeForced"))+" ")])],1)]:e._e(),e.dialogInfo.node&&e.isShowAlert?o("el-alert",{attrs:{type:e.node_online?"success":"warning",closable:!1}},[o("template",{slot:"title"},[e.node_online?o("div",[e._v(" "+e._s(e.$t("common.msg194"))+" "),e.coldMigrate?o("span",[e._v(" "+e._s(e.$t("common.coldMigration")))]):"cold_migrate"===e.migrate_type&&e.dialogInfo.quick_migrate?o("span",[e._v(" "+e._s(e.$t("common.RapidMigration")))]):o("span",[e._v(" "+e._s(e.$t("common.hotMigration")))])]):o("div",[e._v(" "+e._s(e.$t("common.msg196"))+" ")])])],2):e._e()]:"moveDisk"===e.dialogInfo.type?[o("el-row",{staticStyle:{width:"100%",margin:"0 auto"},attrs:{type:"flex",justify:"center"}},[o("el-table",{attrs:{data:e.tableData,border:""}},[o("el-table-column",{attrs:{prop:"name",label:e.$t("admin.diskName1")}}),o("el-table-column",{attrs:{prop:"store_name",label:e.$t("common.nowStore")}}),o("el-table-column",{attrs:{prop:"store_name",label:e.$t("common.goalStore")},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("div",[o("el-select",{staticStyle:{width:"170px"},attrs:{clearable:""},on:{change:function(t){return e.checkStore(a)},clear:function(t){return e.checkStore(a)}},model:{value:a.checkStore,callback:function(t){e.$set(a,"checkStore",t)},expression:"row.checkStore"}},[e._l(e.storeList,(function(t){return[t.id!==a.store_id?o("el-option",{key:t.id,attrs:{label:t.show_name,value:t.id}}):e._e()]}))],2)],1)]}}])})],1)],1),o("br"),"off"!==e.status?o("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{prop:"hot_migrate","label-width":"180px"}},[o("template",{slot:"label"},[o("div",[o("span",[e._v(e._s(e.$t("common.hotMigration")))]),o("el-popover",{attrs:{placement:"top-start",width:"180",trigger:"hover",content:0===e.$store.state.config.edition||2===e.$store.state.config.edition?e.$t("common.LimitedToFree")+"2022/1/1,"+e.$t("common.msg174"):e.$t("common.msg174")}},[o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})]),o("el-checkbox",{staticClass:"ml-5",attrs:{"true-label":1,"false-label":0},on:{change:e.changeHotMig},model:{value:e.dialogInfo.hot_migrate,callback:function(t){e.$set(e.dialogInfo,"hot_migrate",t)},expression:"dialogInfo.hot_migrate"}})],1)]),o("span",{staticClass:"ml-5"},[e._v(e._s(e.$t("common.msg168")))])],2):e._e(),e.isShowArgee?o("el-form-item",{attrs:{prop:"allow_discard_snap","label-width":"153px"}},[o("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.dialogInfo.allow_discard_snap,callback:function(t){e.$set(e.dialogInfo,"allow_discard_snap",t)},expression:"dialogInfo.allow_discard_snap"}}),o("span",{staticClass:"ml-5"},[e._v(e._s(e.$t("common.msg173")))])],1):e._e(),e.dialogInfo.hot_migrate?e._e():[o("div",{staticClass:"tag-danger"},[o("span",{staticClass:"title"},[e._v(e._s(e.$t("common.shutdownState")))]),o("ul",[o("li",[e._v(e._s(e.$t("common.makeSureCarefully")))]),o("li",[e._v(e._s(e.$t("common.beforeProceeding")))])])]),o("el-form-item",{attrs:{label:e.$t("common.forcedShutdown"),prop:"agree","label-width":"120px"}},[o("el-checkbox",{model:{value:e.dialogInfo.agree,callback:function(t){e.$set(e.dialogInfo,"agree",t)},expression:"dialogInfo.agree"}},[e._v(" "+e._s(e.$t("common.AgreeForced"))+" ")])],1)]]:e._e()],2),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogNodeVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))]),o("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.updateNodeSure}},[e._v(e._s(e.$t("common.sure")))])],1)],1),o("el-dialog",{attrs:{title:e.dialogForm.title,visible:e.dialogForm.show,width:"500px"},on:{"update:visible":function(t){return e.$set(e.dialogForm,"show",t)},close:e.closeDialog}},[o("el-form",{ref:"dialogFormData",attrs:{rules:e.formRules,model:e.dialogFormData,"label-position":e.$globalConfig.labelPosition}},["updateCustomer"===e.dialogForm.type?[o("el-form-item",{attrs:{label:e.$t("common.client"),prop:"uid","label-width":"120px"}},[o("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:e.loadMore,expression:"loadMore"}],staticStyle:{width:"85%"},attrs:{filterable:"",loading:e.loadingUser,remote:"","remote-method":e.remoteMethod,placeholder:e.$t("common.selectCustome")},on:{change:e.getVpcList},model:{value:e.dialogFormData.uid,callback:function(t){e.$set(e.dialogFormData,"uid",t)},expression:"dialogFormData.uid"}},e._l(e.customer,(function(e,t){return o("el-option",{key:t,attrs:{label:e.username,value:e.id}})})),1)],1),"normal"!=e.cloudDetailInfo.network_type&&1!=e.cloudDetailInfo.support_nat?o("el-form-item",{attrs:{label:e.$t("common.VPCnetwork"),prop:"vpc","label-width":"120px"}},[o("el-select",{staticStyle:{width:"85%"},attrs:{filterable:"",placeholder:e.$t("common.selectNetwork")},model:{value:e.dialogFormData.vpc,callback:function(t){e.$set(e.dialogFormData,"vpc",t)},expression:"dialogFormData.vpc"}},[o("el-option",{attrs:{label:e.$t("common.createNewWeb"),value:0}}),e._l(e.vpcNetwork,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],2)],1):e._e(),e.isShowCloudUse?o("el-form-item",{attrs:{"label-width":"120px"}},[o("template",{slot:"label"},[o("div",[o("span",[e._v(e._s(e.$t("common.instance_use_product")))]),o("el-popover",{attrs:{placement:"top-start",width:"180",trigger:"hover",content:e.$t("common.instance_use_tip1")+e.$t("common.instance_use_tip2")}},[o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1)]),o("div",{staticStyle:{"max-height":"300px","overflow-y":"auto"}},[o("p",{staticClass:"use-product"},e._l(e.instanceUseProducts.disk,(function(t){return o("span",{key:t.id},[e._v(" "+e._s(e.$t("common.disk"))+"-"+e._s(t.disk_name)+"111 ")])})),0),o("p",{staticClass:"use-product"},e._l(e.instanceUseProducts.ip,(function(t){return o("span",{key:t.id},[e._v(" "+e._s(e.$t("elastic.elastic_ip"))+"-"+e._s(t.ip)+" ")])})),0)])],2):e._e(),"off"!==e.status&&"normal"!=e.cloudDetailInfo.network_type?[o("div",{staticClass:"tag-danger"},[o("span",{staticClass:"title"},[e._v(e._s(e.$t("common.shutdownState")))]),o("ul",[o("li",[e._v(e._s(e.$t("common.makeSureCarefully")))]),o("li",[e._v(e._s(e.$t("common.beforeProceeding")))])])]),"off"!==e.status?o("el-form-item",{attrs:{label:e.$t("common.forcedShutdown"),prop:"agree","label-width":"120px"}},[o("el-checkbox",{model:{value:e.dialogFormData.agree,callback:function(t){e.$set(e.dialogFormData,"agree",t)},expression:"dialogFormData.agree"}},[e._v(e._s(e.$t("common.AgreeForced"))+" ")])],1):e._e()]:e._e()]:"timeTask"===e.dialogForm.type?[o("el-form-item",{attrs:{label:e.$t("common.handle"),prop:"type","label-width":"120px"}},[o("el-select",{staticStyle:{width:"85%"},attrs:{placeholder:e.$t("common.selectType")},model:{value:e.dialogFormData.type,callback:function(t){e.$set(e.dialogFormData,"type",t)},expression:"dialogFormData.type"}},[o("el-option",{attrs:{label:e.$t("common.timingSnapshot"),value:"snap"}}),o("el-option",{attrs:{label:e.$t("common.TimedBackup"),value:"backup"}})],1)],1),o("el-form-item",{attrs:{label:e.$t("common.disks"),prop:"disk","label-width":"120px"}},[o("el-select",{staticStyle:{width:"85%"},attrs:{multiple:"","collapse-tags":"",clearable:"",filterable:"",placeholder:e.$t("common.selectDisks")},model:{value:e.dialogFormData.disk,callback:function(t){e.$set(e.dialogFormData,"disk",t)},expression:"dialogFormData.disk"}},e._l(e.cloudDetailInfo.disk,(function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),o("el-form-item",{attrs:{label:e.$t("cloudBackup.start_backup_time"),prop:"point","label-width":"120px"}},[o("el-time-picker",{staticStyle:{width:"85%"},attrs:{"picker-options":{format:"HH:mm"},format:"HH:mm","value-format":"HH:mm",placeholder:e.$t("userList.createTime")},model:{value:e.dialogFormData.point,callback:function(t){e.$set(e.dialogFormData,"point",t)},expression:"dialogFormData.point"}})],1),o("el-form-item",{attrs:{label:e.$t("common.frequency"),prop:"frequency","label-width":"120px"}},[o("div",{staticClass:"fboxRow Xbetween",staticStyle:{width:"85%"}},[o("el-select",{staticStyle:{width:"45%"},attrs:{placeholder:e.$t("common.selectfrequency")},model:{value:e.dialogFormData.frequency,callback:function(t){e.$set(e.dialogFormData,"frequency",t)},expression:"dialogFormData.frequency"}},e._l(24,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1),o("el-select",{staticStyle:{width:"45%"},model:{value:e.dialogFormData.cycle,callback:function(t){e.$set(e.dialogFormData,"cycle",t)},expression:"dialogFormData.cycle"}},[o("el-option",{attrs:{label:e.$t("common.hour1"),value:"hour"}}),o("el-option",{attrs:{label:e.$t("common.Day"),value:"day"}}),o("el-option",{attrs:{label:e.$t("common.week"),value:"week"}}),o("el-option",{attrs:{label:e.$t("common.month1"),value:"month"}})],1)],1)]),o("div",{staticClass:"tag-danger",staticStyle:{"padding-bottom":"20px"}},[o("span",{staticClass:"title"},[e._v(e._s(e.$t("common.automaticallyOverwritten")))])])]:"cpuLimit"===e.dialogForm.type?[o("div",{staticClass:"fboxRow Xbetween Ycenter"},[o("h5",[e._v("CPU Topology "),o("a",{attrs:{href:"https://libvirt.org/formatdomain.html#elementsCPU",target:"_blank"}},[o("i",{staticClass:"el-icon-question",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])]),o("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.dialogFormData.cputopcheck,callback:function(t){e.$set(e.dialogFormData,"cputopcheck",t)},expression:"dialogFormData.cputopcheck"}})],1),o("div",{staticClass:"fboxRow Xend cpuLimit"},[o("el-form-item",{attrs:{prop:"cpusockets"}},[o("div",{staticClass:"fboxCol Ycenter mr-10"},[o("span",[e._v("sockets")]),o("el-input-number",{staticStyle:{width:"60px"},attrs:{controls:!1,min:1,max:999},model:{value:e.dialogFormData.cpusockets,callback:function(t){e.$set(e.dialogFormData,"cpusockets",e._n(t))},expression:"dialogFormData.cpusockets"}})],1)]),o("el-form-item",{attrs:{prop:"cpucores"}},[o("div",{staticClass:"fboxCol Ycenter mr-10"},[o("span",[e._v("cores")]),o("el-input-number",{staticStyle:{width:"60px"},attrs:{controls:!1,min:1,max:999},model:{value:e.dialogFormData.cpucores,callback:function(t){e.$set(e.dialogFormData,"cpucores",e._n(t))},expression:"dialogFormData.cpucores"}})],1)]),o("el-form-item",{attrs:{prop:"cputhreads"}},[o("div",{staticClass:"fboxCol Ycenter ml-10"},[o("span",[e._v("threads")]),o("el-input-number",{staticStyle:{width:"60px"},attrs:{controls:!1,min:1,max:999},model:{value:e.dialogFormData.cputhreads,callback:function(t){e.$set(e.dialogFormData,"cputhreads",e._n(t))},expression:"dialogFormData.cputhreads"}})],1)])],1),o("div",{staticClass:"fboxRow Xbetween Ycenter"},[o("h5",[e._v("CPU Tune "),o("a",{attrs:{href:"http://libvirt.org/formatdomain.html#elementsCPUTuning",target:"_blank"}},[o("i",{staticClass:"el-icon-question",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])]),o("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.dialogFormData.cputunecheck,callback:function(t){e.$set(e.dialogFormData,"cputunecheck",t)},expression:"dialogFormData.cputunecheck"}})],1),o("el-input",{style:{width:"100%"},attrs:{type:"textarea",placeholder:e.$t("common.input"),autosize:{minRows:4,maxRows:6}},model:{value:e.dialogFormData.cputune,callback:function(t){e.$set(e.dialogFormData,"cputune",t)},expression:"dialogFormData.cputune"}}),o("div",{staticClass:"fboxRow Xbetween Ycenter"},[o("h5",[e._v("NUMA Topology "),o("a",{attrs:{href:"https://libvirt.org/formatdomain.html#elementsCPU",target:"_blank"}},[o("i",{staticClass:"el-icon-question",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])]),o("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.dialogFormData.cpunumacheck,callback:function(t){e.$set(e.dialogFormData,"cpunumacheck",t)},expression:"dialogFormData.cpunumacheck"}})],1),o("el-input",{style:{width:"100%"},attrs:{type:"textarea",placeholder:e.$t("common.input"),autosize:{minRows:4,maxRows:6}},model:{value:e.dialogFormData.cpunumatop,callback:function(t){e.$set(e.dialogFormData,"cpunumatop",t)},expression:"dialogFormData.cpunumatop"}})]:"editHostname"===e.dialogForm.type?[o("el-form-item",{attrs:{label:e.$t("common.hostName"),prop:"hostname","label-width":"120px"}},[o("template",{slot:"label"},[o("div",[o("span",[e._v(e._s(e.$t("common.hostName")))]),o("el-popover",{attrs:{placement:"top-start",width:"260",trigger:"hover",content:e.$t("cloud.errMsg")}},[o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1)]),o("el-input",{staticStyle:{width:"260px"},model:{value:e.dialogFormData.hostname,callback:function(t){e.$set(e.dialogFormData,"hostname",t)},expression:"dialogFormData.hostname"}})],2)]:"editAdsl"===e.dialogForm.type?[o("el-form-item",{attrs:{prop:"adsl",label:"ADSL"+e.$t("login.account")}},[o("el-select",{staticStyle:{width:"250px"},on:{change:e.changeCheckAdsl},model:{value:e.dialogFormData.adsl,callback:function(t){e.$set(e.dialogFormData,"adsl",t)},expression:"dialogFormData.adsl"}},e._l(e.adslList,(function(e){return o("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1),o("div",{staticClass:"tag-danger"},[o("span",{staticClass:"title"},[e._v(e._s(e.$t("common.shutdownState"))+" ")]),o("ul",[o("li",[e._v(e._s(e.$t("common.makeSureCarefully"))+" ")]),o("li",[e._v(e._s(e.$t("common.beforeProceeding"))+" ")])])]),o("el-form-item",{attrs:{label:e.$t("common.forcedShutdown"),prop:e.isAdslAgree?"agree":""}},[o("el-checkbox",{model:{value:e.dialogFormData.agree,callback:function(t){e.$set(e.dialogFormData,"agree",t)},expression:"dialogFormData.agree"}},[e._v(e._s(e.$t("common.AgreeForced"))+" ")])],1)]:e._e()],2),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:e.submitFormDialog}},[e._v(e._s(e.$t("common.sure")))])],1)],1),o("el-dialog",{attrs:{title:e.$t("common.XMLinfo"),visible:e.isShowXMLDialog,width:"40%"},on:{"update:visible":function(t){e.isShowXMLDialog=t}}},[o("el-form",{attrs:{"label-width":"50px","label-position":e.$globalConfig.labelPosition}},[o("el-input",{style:{width:"100%"},attrs:{readonly:"readonly",type:"textarea",placeholder:e.$t("common.maintenanceInformation"),autosize:{minRows:20,maxRows:20}},model:{value:e.cloudsXml,callback:function(t){e.cloudsXml=t},expression:"cloudsXml"}})],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.isShowXMLDialog=!1}}},[e._v(e._s(e.$t("common.sure"))+" ")])],1)],1),o("el-dialog",{attrs:{visible:e.safeGroupVisible,width:"1200px",title:e.$t("common.SafetyRule")},on:{"update:visible":function(t){e.safeGroupVisible=t},close:function(t){e.searchText=e.safeGroupParams.search=""}}},[o("br"),o("el-row",{staticStyle:{"line-height":"32px"},attrs:{type:"flex",justify:"space-between"}},[o("el-col",{attrs:{span:6}},[o("searchInput",{attrs:{placeholder:e.$t("common.toDescription")},on:{callback:e.searchCallback},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1),o("span",{staticStyle:{"margin-right":"24px"},attrs:{span:6},on:{click:e.changeAddBtn}},[o("addButton")],1)],1),o("br"),o("el-row",[o("el-col",[o("span",{staticStyle:{"margin-right":"40px"}},[e._v(e._s(e.$t("common.initialRules"))+"："+e._s(e.safeGroupDetailsTableData.inNum)+" "+e._s(e.$t("common.strip")))]),o("span",[e._v(e._s(e.$t("common.directionRule"))+"："+e._s(e.safeGroupDetailsTableData.outNum)+" "+e._s(e.$t("common.strip")))])])],1),e.safeGroupVisible?o("el-table",{ref:"safeGroupRules",staticStyle:{width:"100%"},attrs:{data:e.safeGroupDetailsTableData,border:""}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),o("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),o("el-table-column",{attrs:{prop:"direction",label:e.$t("common.ruleDirection"),width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("div",[o("span",[e._v(e._s("in"===a.direction?e.$t("common.incomingDirection"):e.$t("common.exitDirection")))])])]}}],null,!1,2101944468)}),o("el-table-column",{attrs:{prop:"protocol",label:e.$t("common.protocol")}}),"host"===e.cloudDetailInfo.type?[o("el-table-column",{attrs:{prop:"port",label:e.$t("common.portRange")}}),o("el-table-column",{attrs:{prop:"ip",label:e.$t("common.AuthorizeIP"),width:"150"}})]:"lightHost"===e.cloudDetailInfo.type?[o("el-table-column",{attrs:{prop:"action",label:e.$t("common.delegatedStrategy")},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("div",[e._v(" "+e._s("accept"===a.action?e.$t("common.allow"):e.$t("common.refuse"))+" ")])]}}],null,!1,3184091678)}),o("el-table-column",{attrs:{prop:"start_port",label:e.$t("common.startPort")}}),o("el-table-column",{attrs:{prop:"end_port",label:e.$t("common.endPort")}}),o("el-table-column",{attrs:{prop:"start_ip",label:e.$t("common.startIp")}}),o("el-table-column",{attrs:{prop:"end_ip",label:e.$t("common.endIp")}}),o("el-table-column",{attrs:{prop:"priority",label:e.$t("common.priority")}})]:[o("el-table-column",{attrs:{prop:"action",label:e.$t("common.delegatedStrategy")},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("div",[e._v(" "+e._s("accept"===a.action?e.$t("common.allow"):e.$t("common.refuse"))+" ")])]}}],null,!1,3184091678)}),o("el-table-column",{attrs:{prop:"start_port",label:e.$t("common.startPort")}}),o("el-table-column",{attrs:{prop:"end_port",label:e.$t("common.endPort")}}),o("el-table-column",{attrs:{prop:"ip",label:e.$t("common.AuthorizeIP"),width:"150"}})],o("el-table-column",{attrs:{prop:"description",label:e.$t("common.description")},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("el-tooltip",{attrs:{content:e.$t("common.ruleLocked"),disabled:1!==a.lock}},[o("div",[o("span",[e._v(e._s(a.description))]),1===a.lock?o("i",{staticClass:"el-icon-lock"}):e._e()])])]}}],null,!1,3122572233)}),o("el-table-column",{attrs:{prop:"create_time",label:e.$t("common.createdTime"),width:"200"}}),o("el-table-column",{attrs:{label:e.$t("common.manage"),width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("div",{staticClass:"icon-wrapper"},[o("cl-button",{attrs:{type:"delete"},on:{click:function(t){return e.deleteRow(a)}}})],1)]}}],null,!1,548798274)})],2):e._e(),o("br"),o("br")],1),o("el-dialog",{staticClass:"el_add",attrs:{title:e.$t("common.addSafetyRule"),visible:e.dialogFromShow,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.dialogFromShow=t},close:e.resetForm}},[o("el-row",{attrs:{gutter:15}},[o("el-form",{ref:"operaForm",attrs:{model:e.operaForm,size:"medium",rules:e.safeGroupDetailsRules,"label-width":"140px","label-position":e.$globalConfig.labelPosition}},[o("el-col",{attrs:{span:23}},[o("el-form-item",{attrs:{label:e.$t("common.protocol"),prop:"protocol"}},[o("el-cascader",{attrs:{options:e.protocolsListData,props:{emitPath:!1}},on:{change:e.changeCascader,"expand-change":e.changeExpand},model:{value:e.operaForm.protocol,callback:function(t){e.$set(e.operaForm,"protocol",t)},expression:"operaForm.protocol"}})],1),o("el-form-item",{attrs:{label:e.$t("common.ruleDirection"),prop:"protocol"}},[o("el-select",{attrs:{placeholder:e.$t("common.selectDirection")},model:{value:e.operaForm.direction,callback:function(t){e.$set(e.operaForm,"direction",t)},expression:"operaForm.direction"}},[o("el-option",{attrs:{value:"in",label:e.$t("common.incomingDirection")}}),o("el-option",{attrs:{value:"out",label:e.$t("common.exitDirection")}})],1)],1),"host"===e.cloudDetailInfo.type?[o("el-form-item",{attrs:{prop:"port"}},[o("template",{slot:"label"},[o("span",[e._v(e._s(e.$t("common.portRange")))]),o("el-popover",{attrs:{placement:"top-start",width:"300",trigger:"hover"}},[[o("div",[e._v(" "+e._s(e.$t("common.ProtocolAndPort"))+": "),o("br"),e._v(" "+e._s(e.$t("common.AllRelease"))+" "),o("br"),e._v(" "+e._s(e.$t("common.example22"))+" "),o("br"),e._v(" "+e._s(e.$t("common.example2230"))+" "),o("br"),e._v(" "+e._s(e.$t("common.example2330"))+" "),o("br"),e._v(" "+e._s(e.$t("common.example1655"))+" ")])],o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})],2)],1),o("el-input",{staticClass:"wt85",attrs:{placeholder:e.$t("common.example12345"),type:"text",disabled:e.isDisabled},model:{value:e.operaForm.port,callback:function(t){e.$set(e.operaForm,"port",t)},expression:"operaForm.port"}})],2),o("el-form-item",{attrs:{prop:"ip"}},[o("template",{slot:"label"},[o("span",[e._v(e._s(e.$t("common.AuthorizeIP")))]),o("el-popover",{attrs:{placement:"top-start",width:"300",trigger:"hover"}},[[o("div",[e._v(" "+e._s(e.$t("common.addressSegment"))+" "),o("br"),e._v(" "+e._s(e.$t("common.example192"))+" "),o("br"),e._v(" "+e._s(e.$t("common.example124"))+" "),o("br"),e._v(" "+e._s(e.$t("common.example000"))+" ")])],o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})],2)],1),o("el-input",{staticClass:"wt85",attrs:{placeholder:e.$t("common.example10XY"),type:"text"},model:{value:e.operaForm.ip,callback:function(t){e.$set(e.operaForm,"ip",t)},expression:"operaForm.ip"}})],2)]:"lightHost"===e.cloudDetailInfo.type?[o("el-form-item",{attrs:{label:e.$t("common.delegatedStrategy"),prop:"action"}},[o("el-select",{model:{value:e.operaForm.action,callback:function(t){e.$set(e.operaForm,"action",t)},expression:"operaForm.action"}},[o("el-option",{attrs:{label:e.$t("common.allow"),value:"accept"}}),o("el-option",{attrs:{label:e.$t("common.refuse"),value:"drop"}})],1)],1),o("el-form-item",{attrs:{label:e.$t("common.portRange")}},[o("template",{slot:"label"},[o("div",[o("span",{staticStyle:{"margin-left":"-7px"}},[o("i",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" "+e._s(e.$t("common.portRange"))+" ")]),o("el-popover",{attrs:{placement:"top-start",width:"220",trigger:"hover",content:"0"+e.$t("common.notLimited")}},[o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1)]),[o("el-row",[o("el-col",{attrs:{span:11}},[o("el-form-item",{attrs:{prop:"start_port"}},[o("el-input",{attrs:{placeholder:e.$t("common.startPort"),disabled:e.isPortDisabled},model:{value:e.operaForm.start_port,callback:function(t){e.$set(e.operaForm,"start_port",t)},expression:"operaForm.start_port"}})],1)],1),o("el-col",{attrs:{span:11,offset:1}},[o("el-form-item",{attrs:{prop:"end_port"}},[o("el-input",{attrs:{placeholder:e.$t("common.endPort"),disabled:e.isPortDisabled},model:{value:e.operaForm.end_port,callback:function(t){e.$set(e.operaForm,"end_port",t)},expression:"operaForm.end_port"}})],1)],1)],1)]],2),o("el-form-item",{attrs:{label:e.$t("common.ipRange")}},[o("template",{slot:"label"},[o("div",[o("span",{staticStyle:{"margin-left":"-3px"}},[o("i",{staticStyle:{color:"red"}},[e._v("* ")]),e._v(" "+e._s(e.$t("common.ipRange"))+" ")]),o("el-popover",{attrs:{placement:"top-start",width:"220",trigger:"hover",content:"0.0.0.0"+e.$t("common.notLimited")}},[o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1)]),[o("el-row",[o("el-col",{attrs:{span:11}},[o("el-form-item",{attrs:{prop:"start_ip"}},[o("el-input",{attrs:{placeholder:e.$t("common.startIp")},model:{value:e.operaForm.start_ip,callback:function(t){e.$set(e.operaForm,"start_ip",t)},expression:"operaForm.start_ip"}})],1)],1),o("el-col",{attrs:{span:11,offset:1}},[o("el-form-item",{attrs:{prop:"end_ip"}},[o("el-input",{attrs:{placeholder:e.$t("common.endIp")},model:{value:e.operaForm.end_ip,callback:function(t){e.$set(e.operaForm,"end_ip",t)},expression:"operaForm.end_ip"}})],1)],1)],1)]],2),o("el-form-item",{attrs:{label:e.$t("common.priority"),prop:"priority"}},[o("el-input",{staticStyle:{width:"85%"},attrs:{placeholder:"优先级1-1000（值越小越优先）"},model:{value:e.operaForm.priority,callback:function(t){e.$set(e.operaForm,"priority",t)},expression:"operaForm.priority"}})],1)]:[o("el-form-item",{attrs:{label:e.$t("common.delegatedStrategy"),prop:"action"}},[o("el-select",{model:{value:e.operaForm.action,callback:function(t){e.$set(e.operaForm,"action",t)},expression:"operaForm.action"}},[o("el-option",{attrs:{label:e.$t("common.allow"),value:"accept"}}),o("el-option",{attrs:{label:e.$t("common.refuse"),value:"drop"}})],1)],1),o("el-form-item",{attrs:{label:e.$t("common.portRange")}},[o("template",{slot:"label"},[o("div",[o("span",{staticStyle:{"margin-left":"-7px"}},[o("i",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" "+e._s(e.$t("common.portRange"))+" ")]),o("el-popover",{attrs:{placement:"top-start",width:"220",trigger:"hover",content:"0"+e.$t("common.notLimited")}},[o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1)]),[o("el-row",[o("el-col",{attrs:{span:11}},[o("el-form-item",{attrs:{prop:"start_port"}},[o("el-input",{attrs:{placeholder:e.$t("common.startPort"),disabled:e.isPortDisabled},model:{value:e.operaForm.start_port,callback:function(t){e.$set(e.operaForm,"start_port",t)},expression:"operaForm.start_port"}})],1)],1),o("el-col",{attrs:{span:11,offset:1}},[o("el-form-item",{attrs:{prop:"end_port"}},[o("el-input",{attrs:{placeholder:e.$t("common.endPort"),disabled:e.isPortDisabled},model:{value:e.operaForm.end_port,callback:function(t){e.$set(e.operaForm,"end_port",t)},expression:"operaForm.end_port"}})],1)],1)],1)]],2),o("el-form-item",{attrs:{prop:"ip"}},[o("template",{slot:"label"},[o("span",[e._v(e._s(e.$t("common.AuthorizeIP")))]),o("el-popover",{attrs:{placement:"top-start",width:"300",trigger:"hover"}},[[o("div",[e._v(" "+e._s(e.$t("common.addressSegment"))+" "),o("br"),e._v(" "+e._s(e.$t("common.example192"))+" "),o("br"),e._v(" "+e._s(e.$t("common.example124"))+" "),o("br"),e._v(" "+e._s(e.$t("common.example000"))+" ")])],o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})],2)],1),o("el-input",{staticClass:"wt85",attrs:{placeholder:"例如：10.x.y.z/32",type:"text"},model:{value:e.operaForm.ip,callback:function(t){e.$set(e.operaForm,"ip",t)},expression:"operaForm.ip"}})],2)],o("el-form-item",{attrs:{label:e.$t("common.description")}},[o("el-input",{staticClass:"wt85",attrs:{type:"text"},model:{value:e.operaForm.description,callback:function(t){e.$set(e.operaForm,"description",t)},expression:"operaForm.description"}})],1),e.isCursomerVersion?e._e():o("el-form-item",{attrs:{label:e.$t("common.lockingDiscipline"),prop:"lock"}},[o("template",{slot:"label"},[o("span",[e._v(e._s(e.$t("common.lockingDiscipline")))]),o("el-popover",{attrs:{placement:"top-start",width:"220",trigger:"hover",content:e.$t("common.IfChecked")}},[o("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),o("el-tooltip",{attrs:{content:e.$t("common.ourwebsite"),disabled:e.$hasAuthority("security_rule_lock"),placement:"top"}},[o("el-checkbox",{attrs:{"true-label":1,"false-label":0,disabled:!e.$hasAuthority("security_rule_lock")},model:{value:e.operaForm.lock,callback:function(t){e.$set(e.operaForm,"lock",t)},expression:"operaForm.lock"}})],1)],2)],2)],1)],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFromShow=!1}}},[e._v(e._s(e.$t("common.cancel")))]),o("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$t("common.sure")))])],1)],1),o("el-dialog",{attrs:{title:"queues"===e.networkQueuesForm.type?e.$t("common.editNetwork"):"vram"===e.networkQueuesForm.type?e.$t("common.update")+e.$t("common.editGpu"):"",visible:e.isNetworkQueueShow,width:"500px"},on:{"update:visible":function(t){e.isNetworkQueueShow=t},close:e.closeNetDialog}},[o("br"),o("el-form",{ref:"networkQueuesForm",attrs:{model:e.networkQueuesForm,rules:e.networkQueuesFormRules}},["queues"===e.networkQueuesForm.type?o("el-form-item",{attrs:{label:e.$t("common.editNetwork"),"label-width":"120px"}},[o("el-select",{model:{value:e.networkQueuesForm.queues,callback:function(t){e.$set(e.networkQueuesForm,"queues",t)},expression:"networkQueuesForm.queues"}},e._l(e.cloudDetailInfo.cpu,(function(e){return o("el-option",{key:e,attrs:{value:e}})})),1)],1):"vram"===e.networkQueuesForm.type?o("el-form-item",{attrs:{label:e.$t("common.editGpu"),"label-width":"120px"}},[o("el-select",{model:{value:e.networkQueuesForm.vram,callback:function(t){e.$set(e.networkQueuesForm,"vram",t)},expression:"networkQueuesForm.vram"}},e._l(e.networkQueuesForm.vramArr,(function(e){return o("el-option",{key:e,attrs:{value:e}})})),1),e._v(" MB ")],1):e._e(),[o("div",{staticClass:"tag-danger"},[o("span",{staticClass:"title"},[e._v(e._s(e.$t("common.shutdownState")))]),o("ul",[o("li",[e._v(e._s(e.$t("common.makeSureCarefully")))]),o("li",[e._v(e._s(e.$t("common.beforeProceeding")))])])])],o("el-form-item",{attrs:{label:e.$t("common.forcedShutdown"),prop:"agree","label-width":"zh-cn"===e.$i18n.locale?"120px":"160px"}},[o("el-checkbox",{model:{value:e.networkQueuesForm.agree,callback:function(t){e.$set(e.networkQueuesForm,"agree",t)},expression:"networkQueuesForm.agree"}},[e._v(e._s(e.$t("common.AgreeForced"))+" ")])],1)],2),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.isNetworkQueueShow=!1}}},[e._v(e._s(e.$t("common.cancel")))]),o("el-button",{attrs:{type:"primary"},on:{click:e.submitNetworkQueuesForm}},[e._v(e._s(e.$t("common.sure"))+" ")])],1)],1),o("restoreDialog",{staticClass:"restoreDialog",attrs:{isShowRestoreBackUp:e.isShowRestoreBackUp,keyword:"name",dataType:e.dataType,rowInfo:e.rowInfo},on:{submitRestoreRow:e.submitRestoreBackUp,"update:isShowRestoreBackUp":function(t){e.isShowRestoreBackUp=t},"update:is-show-restore-back-up":function(t){e.isShowRestoreBackUp=t}}}),o("deleteDialog",{staticClass:"deleteDialog",attrs:{isShowDelDialog:e.isShowDelDialog,keyword:"natBuild"==e.activeName?"domain":"name",dataType:e.dataType,rowInfo:e.rowInfo},on:{submitDeleteRow:e.submitDeleteRow,"update:isShowDelDialog":function(t){e.isShowDelDialog=t},"update:is-show-del-dialog":function(t){e.isShowDelDialog=t}}}),o("el-dialog",{attrs:{title:(e.physicalStatus?e.$t("common.close"):e.$t("common.opened"))+e.$t("common.physicalMachine"),visible:e.dialogPhysicalVisible,width:"600px"},on:{"update:visible":function(t){e.dialogPhysicalVisible=t},close:e.closePhysical}},[o("el-form",{ref:"changePhsicalForm",attrs:{model:e.physicalForm,rules:e.updatePasswordFormRules,"label-width":"100px","label-position":e.$globalConfig.labelPosition}},[o("div",{staticClass:"tag-danger"},[o("span",{staticClass:"title"},[e._v(e._s(e.$t("common.shutdownState")))]),o("ul",[o("li",[e._v(e._s(e.$t("common.makeSureCarefully")))]),o("li",[e._v(e._s(e.$t("common.beforeProceeding")))])])]),o("el-form-item",{attrs:{label:e.$t("common.forcedShutdown"),prop:"agree"}},[o("el-checkbox",{model:{value:e.physicalForm.agree,callback:function(t){e.$set(e.physicalForm,"agree",t)},expression:"physicalForm.agree"}},[e._v(e._s(e.$t("common.AgreeForced"))+" ")])],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:e.sureChangePhysical}},[e._v(e._s(e.$t("common.sure")))])],1)],1)],1)],1)},_=[],v=(a("a4d3"),a("e01a"),a("0481"),a("4069"),a("a9e3"),a("dca8"),a("841c"),a("2b3d"),a("dc57")),b=a("3995"),k=a("a1fc"),w=a("e041"),$=a("fdad"),y=a("f0c9"),I=a("f2af"),C=a("76f2"),D={components:{deleteDialog:$["default"],restoreDialog:w["default"],ComputerInfoPci:y["a"],ComputerTimeTask:I["a"],SmartRule:C["a"]},props:{migShow:{type:Boolean,default:!1},fastPhotoData:{type:Array},diskStoreSelectOptions:{type:Array,default:function(){return[]}},cloudDetailInfo:{type:Object,default:null},id:{type:Number},diskInfo:{type:Array},status:{type:String,default:null},isCursomerVersion:{type:Boolean,default:!1},ipv6_enable:{type:Number,default:0}},watch:{instanceUseProducts:function(e){var t,a;0!==(null===(t=this.instanceUseProducts.disk)||void 0===t?void 0:t.length)||0!==(null===(a=this.instanceUseProducts.ip)||void 0===a?void 0:a.length)?this.isShowCloudUse=!0:this.isShowCloudUse=!1},tableData:{handler:function(e){this.changeHotMig()},deep:!0},migShow:function(e){e&&(this.dialogInfo.type="moveDisk",this.dialogNodeVisible=!0)},ipId:function(e){var t=this;this.ipSelect.forEach((function(a){a.id===e&&(t.ip_name=a.ip)}))},ipListId:function(e){this.getIpInfo(e)},"operaForm.start_ip":function(e){"0.0.0.0"===e&&(this.operaForm.end_ip="0.0.0.0")},"operaForm.end_ip":function(e){"0.0.0.0"===e&&(this.operaForm.start_ip="0.0.0.0")},"operaForm.protocol":function(e){"all"!==e&&"icmp"!==e&&"all_tcp"!==e&&"all_udp"!==e&&"gre"!==e||"host"===this.cloudDetailInfo.type||(this.operaForm.start_port=1,this.operaForm.end_port=65535)},cloudDetailInfo:{handler:function(e,t){var a=this;t&&(this.vncPassword=this.cloudDetailInfo.vncpass,this.getHiddenVncPassword()),this.cloudDetailInfo.default_bw_group&&this.defaultGroupIp!==this.cloudDetailInfo.default_bw_group.id&&(this.defaultGroupIp=this.cloudDetailInfo.default_bw_group.id,this.getLimitRateIp()),this.backup_num=this.cloudDetailInfo.backup_num,this.backForm.backup_num=this.cloudDetailInfo.backup_num,this.backup_used=this.cloudDetailInfo.backup_used,this.snap_num=this.cloudDetailInfo.snap_num,this.snap_used=this.cloudDetailInfo.snap_used,this.backForm.snap_num=this.cloudDetailInfo.snap_num,this.nat_acl_limit=this.cloudDetailInfo.nat_acl_limit,this.nat_web_limit=this.cloudDetailInfo.nat_web_limit,this.backForm.nat_acl_limit=this.cloudDetailInfo.nat_acl_limit,this.backForm.nat_web_limit=this.cloudDetailInfo.nat_web_limit,this.tableData=[],this.cloudDetailInfo.disk.forEach((function(e){var t=Object(i["a"])(Object(i["a"])({},e),{},{checkStore:""});a.tableData.push(t)})),this.default_qemu_version_show=e.default_qemu_version_show?e.default_qemu_version_show:this.$t("common.qemuDefVersion"),this.qemu_version=[{value:"",label:this.default_qemu_version_show}],e.qemu_version.forEach((function(e,t){a.qemu_version.push({value:t,label:e})})),this.qemu=-1===e.qemu_version.indexOf(e.qemu)?"":e.qemu_version.indexOf(e.qemu)},deep:!0},"$store.state.migrate":{handler:function(e,t){e&&"progress"in e&&100!==e.progress&&(this.migrateShow=!0),e&&"progress"in e&&100===e.progress&&"migrate"===e.type&&2===e.status&&(this.getLimitRateIp(),this.getCloudNatTranspond()),this.migrate=JSON.parse(JSON.stringify(e))},deep:!0}},computed:{authority:function(){return"hardware"===this.activeName?"gpupass":"floatIp"===this.activeName?"float_ip":"timeTask"===this.activeName?"cloud_cron_snap":""},isShowAddButton:function(){return!("backup"!==this.activeName&&"snap"!==this.activeName&&("ip"!==this.activeName||!this.isAgent&&this.isCursomerVersion)&&("floatIp"!==this.activeName||!this.isAgent&&this.isCursomerVersion)&&"natTranspond"!==this.activeName&&"natBuild"!==this.activeName&&"hardware"!==this.activeName&&"timeTask"!==this.activeName&&"IPV6"!==this.activeName)},isShowUpdateButton:function(){return(!this.isAgent||!("backup"===this.activeName&&-1===this.cloudDetailInfo.resource_package.backup_num||"snap"===this.activeName&&-1===this.cloudDetailInfo.resource_package.snap_num))&&!("backup"!==this.activeName&&"snap"!==this.activeName&&"natTranspond"!==this.activeName&&"natBuild"!==this.activeName||!this.isAgent&&this.isCursomerVersion)},strNum:function(){if("backup"===this.activeName&&-1!==this.backup_num){var e=0===this.backup_num?this.$t("common.unlimited"):this.backup_num;return this.backup_used+"/"+e}if("snap"===this.activeName&&-1!==this.snap_num){var t=0===this.snap_num?this.$t("common.unlimited"):this.snap_num;return this.snap_used+"/"+t}if("natTranspond"===this.activeName&&-1!==this.nat_acl_limit){var a=0===this.nat_acl_limit?this.$t("common.unlimited"):this.nat_acl_limit;return this.cloudDetailInfo.nat_acl_used+"/"+a}if("natBuild"===this.activeName&&-1!==this.nat_web_limit){var o=0===this.nat_web_limit?this.$t("common.unlimited"):this.nat_web_limit;return this.cloudDetailInfo.nat_web_used+"/"+o}return""}},data:function(){var e=this,t=function(t,a,o){var s=/^(?!\/)(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z])[A-Za-z\d~!@#$&*()_\-+=|{}[\];:<>?,./]{6,}$/;s.test(a)?o():o(new Error(e.$t("cloud.pleaseEnterTheCorrectPassword")))},a=function(t,a,o){""===a||/^[0-9]*$/.test(a)&&parseInt(a)<=65535&&parseInt(a)>=1?80===parseInt(a)||443===parseInt(a)||22===parseInt(a)?o(new Error(e.$t("common.post165535"))):o():o(new Error(e.$t("common.post165535")))},o=function(t,a,o){!/^[0-9]*$/.test(a)||80!==parseInt(a)&&443!==parseInt(a)?o(new Error(e.$t("common.post443"))):o()},s=function(t,a,o){/^[0-9]*$/.test(a)&&parseInt(a)<=65535&&parseInt(a)>=1?o():o(new Error(e.$t("common.post65535")))},i=function(t,a,o){!0===a?o():"editAdsl"===e.dialogForm.type?o(new Error(e.$t("common.checkAgreeForcedMsg"))):o(new Error(e.$t("common.checkAgreeForced")))};return{instanceUseProducts:{},isShowCloudUse:!1,physicalSwitch:!1,dialogPhysicalVisible:!1,protocol:Object.freeze([{id:1,cont:"tcp"},{id:2,cont:"udp"},{id:3,cont:"tcp+udp"}]),userParams:{search:"",page:1,per_page:20},isLoading:!1,userTotal:0,searchTotal:0,loadingUser:!1,defaultGroupIp:0,dialogRule:{node:[{required:!0,message:this.$t("common.select")+this.$t("common.nowNode"),trigger:"change"}],ip:[{required:!0,message:this.$t("common.select")+"IP",trigger:"change"}],allow_discard_snap:[{validator:function(t,a,o){a||o(new Error(e.$t("common.mustCheck"))),o()},trigger:"change"}],agree:[{required:!0,message:this.$t("common.checkAgreeForced"),trigger:"change"},{validator:i,trigger:"change"}]},dialogInfo:{type:"moveNode",advanced:!1,ipGroup:0,store:"",node:"",ip:[],hot_migrate:1,quick_migrate:1,force_hot_migrate:0,allow_hang:0,force:0,showAdsl:!1,adsl:0,agree:!1,allow_discard_snap:0,disk:[]},protocolSuite:this.$t("common.basicProtocol"),isPortDisabled:!1,adslList:[],isAdslAgree:!0,tableData:[],isDisabled:!1,isAgent:JSON.parse(localStorage.getItem("isAgent")),isShowEditBackUpType:"add",isShowNat:!1,dialogFromShow:!1,isNetworkQueueShow:!1,cpu_limit1:"",vncPortRules:{vncPort:[{required:!0,message:this.$t("common.fillPort"),trigger:"blur"},{validator:function(t,a,o){return e.$validate.validVncPort(t,a,o)},trigger:"blur"}],vncPassWord:[{required:!0,message:this.$t("common.fillvncpwd"),trigger:"blur"},{validator:function(t,a,o){return e.$validate.validVncPass(t,a,o)},trigger:"blur"}]},editInfo:{},floatIpForm:{id:void 0,ip:void 0,num:void 0,out_bw:void 0,in_bw:void 0,agree:!1,ipv6Num:0},safeGroupParams:{page:1,per_page:100,orderby:"direction",search:""},rulesTotal:0,temp_SafeRules:[],backup_num:0,backup_used:0,snap_num:0,snap_used:0,nat_acl_limit:0,operaForm:{description:"",direction:"in",protocol:"tcp",port:"",ip:"0.0.0.0/0",lock:0,start_ip:"",end_ip:"",start_port:"",end_port:"",priority:"",action:"accept"},safeGroupDetailsRules:{description:{required:!0,message:this.$t("common.enterDescription"),trigger:"blur"},port:[{required:!0,message:this.$t("common.enterPost"),trigger:"blur"},{validator:this.$validate.validatePortRang,trigger:"blur"}],protocol:{required:!0,message:this.$t("common.pleaseChoose"),trigger:"change"},ip:[{required:!0,message:this.$t("common.iptIp"),trigger:"blur"},{validator:this.$validate.validatePortIp,trigger:"blur"}],action:{required:!0,message:this.$t("common.select"),trigger:"blur"},start_port:[{required:!0,message:this.$t("common.startPortMust"),trigger:"blur"},{validator:function(t,a,o){"0"!==a&&a||o(),e.$validate.validatePortRang(t,a,o)},trigger:"blur",message:this.$t("common.portRange")+"0-65535"}],end_port:[{required:!0,message:this.$t("common.endPortMust"),trigger:"blur"},{validator:function(t,a,o){"0"!==a&&a||o(),e.$validate.validatePortRang(t,a,o)},trigger:"blur",message:this.$t("common.portRange")+"0-65535"}],start_ip:[{required:!0,message:this.$t("common.startIPMust"),trigger:"blur"},{validator:this.$validate.validateIp,trigger:"blur",message:this.$t("common.startIPErr")},{validator:function(t,a,o){"0.0.0.0"===a&&"0.0.0.0"!==e.operaForm.end_ip&&o(new Error(e.$t("common.startIPFillErr"))),o()},trigger:"blur"}],end_ip:[{required:!0,message:this.$t("common.endIPMust"),trigger:"blur"},{validator:this.$validate.validateIp,trigger:"blur",message:this.$t("common.endIPErr")},{validator:function(t,a,o){"0.0.0.0"===a&&"0.0.0.0"!==e.operaForm.start_ip&&o(new Error(e.$t("common.endIPFillErr"))),o()},trigger:"blur"}],priority:[{required:!0,message:this.$t("common.priorityMust"),trigger:"blur"},{pattern:/^([1-9][0-9]{0,2}|1000)$/,message:this.$t("common.Must1000"),trigger:"blur"}]},nat_web_limit:0,isShowArgee:!1,nat_host_ip:"",cloudsXml:"",migrate_type:"",showMigBtn:!0,assign_ipv6:!1,isShowAllow:!1,coldMigrate:!1,lastAssign_ip:!0,assign_ip:!1,cold_migrate_discard_snap:!1,hot_migrate_discard_snap:!1,userId:null,userInfo:this.$store.state.userInfo,isShowVncPort:!1,isShowPassword:!1,isShowPanelPassword:!1,isShowVNCPassword:!1,password:"",vncPassword:"",hiddenPassword:"",hiddenPanelPassword:"",hiddenVncPassword:"",ip_name:"",ipForm:{id:""},isShowRestoreBackUp:!1,ipId:0,isShowFloatIpGroupTable:!1,groupList:[],addIpList:[],nowIpList:[],ipListId:0,ipListSelect:[],canStartCardOptions:[],ipSelect:[],nodeSelectOptions:[],NoHrpervNodeSelectOptions:[],NoHrpervNodeSelectOptions1:[],nodeStoreList:[],storeList:[],isShowSelectWrapper:!1,floatIp:!1,dataType:"",numArr:Object(n["a"])(new Array(1001).keys()),rowInfo:{},isShowDelDialog:!1,diskSelectOptions:[],ipSelectOptions:[],migrateIpOptions:[],ipList:[],backUpTitle:"",formLabelWidth:"30%",backForm:{diskId:null,store_id:-1,name:"",vncPort:"",vncPassWord:"",snap_num:null,backup_num:null,nat_acl_limit:0,nat_web_limit:0,ext_port:"",ext_port2:80,int_port:"",protocol:"",domain:""},canStartCardText:"",type:"",dialogPasswordVisible:!1,dialogPanelPasswordVisible:!1,dialogNodeVisible:!1,dialogCustomerVisible:!1,customer:[],isShowBackUp:!1,isShowFloatIpGroup:!1,activeName:"overview",value:!0,ApicStatus:1,AcpiStatus:1,physicalStatus:0,AcpiCPU:0,VncStatus:1,TwoDStatus:1,threeDstatus:1,console:1,PaeStatus:1,mac:"",vlan:"",node_online:!0,isShowAlert:!1,isShowXMLDialog:!1,groupId:null,formData:{bootOrder:"",canStartCard:"",cpuModel:"",clock:""},floatIpRule:{ip:[{required:!0,message:this.$t("common.pleaseChoose"),trigger:"change"}],num:[{required:!0,message:this.$t("common.numberOfIP"),trigger:"blur"},{validator:function(t,a,o){e.isAgent||o(),e.cloudDetailInfo.resource_package.ip_num||o();var s=e.cloudDetailInfo.resource_package.ip_num-e.cloudDetailInfo.resource_package.ip_num_used;a>s&&o(new Error(e.$t("common.ipNumAllocated")+e.cloudDetailInfo.resource_package.ip_num+","+e.$t("common.used1")+e.cloudDetailInfo.resource_package.ip_num_used)),e.$validate.validateScope(t,a,o,0,9999999,e.$t("common.ipNumber"))}}],ipv6Num:{validator:function(t,a,o){return e.$validate.validateScope(t,a,o,0,1e3,e.$t("common.ipNumber"))}},in_bw:[{required:!0,message:this.$t("common.feedLimit"),trigger:"blur"},{validator:function(t,a,o){if(e.isAgent){e.cloudDetailInfo.resource_package.in_bw&&!parseInt(a)&&o(new Error(e.$t("common.inBandwidth")+e.$t("common.mustBig0")));var s=e.cloudDetailInfo.resource_package.in_bw-e.cloudDetailInfo.resource_package.in_bw_used,i=e.cloudDetailInfo.resource_package.in_bw_limit,r=e.$t("common.inBandwidthAllotTotal")+e.cloudDetailInfo.resource_package.in_bw+","+e.$t("common.used1");"addFloatIP"!==e.dataType?(s+=e.editInfo.in_bw,r+=e.cloudDetailInfo.resource_package.in_bw_used-e.editInfo.in_bw):r+=e.cloudDetailInfo.resource_package.in_bw_used,a>i&&i&&o(new Error(e.$t("common.perMachine")+i)),0===s&&e.cloudDetailInfo.resource_package.in_bw&&o(new Error(r)),a>s&&e.cloudDetailInfo.resource_package.in_bw&&o(new Error(r))}e.$validate.validateScope(t,a,o,0,9999999,e.$t("common.bandwidth"))}}],out_bw:[{required:!0,message:this.$t("common.bandwidthLimit"),trigger:"blur"},{validator:function(t,a,o){if(e.isAgent){e.cloudDetailInfo.resource_package.out_bw&&!parseInt(a)&&o(new Error(e.$t("common.outbandwidth")+e.$t("common.mustBig0")));var s=e.cloudDetailInfo.resource_package.out_bw-e.cloudDetailInfo.resource_package.out_bw_used,i=e.cloudDetailInfo.resource_package.out_bw_limit,r=e.$t("common.outBandwidthAllotTotal")+e.cloudDetailInfo.resource_package.out_bw+","+e.$t("common.used1");"addFloatIP"!==e.dataType?(s+=e.editInfo.out_bw,r+=e.cloudDetailInfo.resource_package.out_bw_used-e.editInfo.out_bw):r+=e.cloudDetailInfo.resource_package.out_bw_used,a>i&&i&&o(new Error(e.$t("common.perMachine")+i)),0===s&&e.cloudDetailInfo.resource_package.out_bw&&o(new Error(r)),a>s&&e.cloudDetailInfo.resource_package.out_bw&&o(new Error(r))}e.$validate.validateScope(t,a,o,0,9999999,e.$t("common.bandwidth"))}}],agree:[{required:!0,message:this.$t("common.checkAgreeForced"),trigger:"change"},{validator:i,trigger:"change"}]},rules:{xialaxuanze:[{required:!0,message:this.$t("common.dropDownSelect"),trigger:"change"}]},backupsRule:{diskId:[{required:!0,message:this.$t("common.Pleaseselectdisk"),trigger:"change"}],backup_num:[{required:!0,message:this.$t("common.enterQuantity"),trigger:"blur"},{validator:function(t,a,o){if(e.isAgent&&e.cloudDetailInfo.resource_package.backup_num){a||o(new Error(e.$t("common.backupNum")+e.$t("common.mustBig0")));var s=e.cloudDetailInfo.backup_num;-1===e.cloudDetailInfo.backup_num&&(s=0);var i=e.cloudDetailInfo.backup_num;-1===e.cloudDetailInfo.backup_num&&(i=0),a-s>e.cloudDetailInfo.resource_package.backup_num-e.cloudDetailInfo.resource_package.backup_num_used&&o(new Error(e.$t("common.usedBackNum")+e.cloudDetailInfo.resource_package.backup_num+","+e.$t("common.used1")+(e.cloudDetailInfo.resource_package.backup_num_used-i)))}e.$validate.validateScopes(t,a,o,-1,9999)},trigger:"blur"}],snap_num:[{required:!0,message:this.$t("common.enterQuantity"),trigger:"blur"},{validator:function(t,a,o){if(e.isAgent&&e.cloudDetailInfo.resource_package.snap_num){parseInt(a)||o(new Error(e.$t("common.snapNum")+e.$t("common.mustBig0")));var s=e.cloudDetailInfo.snap_num;-1===e.cloudDetailInfo.snap_num&&(s=0);var i=e.cloudDetailInfo.snap_num;-1===e.cloudDetailInfo.snap_num&&(i=0),a-s>e.cloudDetailInfo.resource_package.snap_num-e.cloudDetailInfo.resource_package.snap_num_used&&o(new Error(e.$t("common.usedsnapNum")+e.cloudDetailInfo.resource_package.snap_num+"，"+e.$t("common.used1")+(e.cloudDetailInfo.resource_package.snap_num_used-i)))}e.$validate.validateScopes(t,a,o,-1,9999)},trigger:"blur"}],nat_acl_limit:[{required:!0,message:this.$t("common.limitedNumber"),trigger:"blur"},{validator:function(t,a,o){if(e.isAgent&&e.cloudDetailInfo.resource_package.nat_acl_num){a||o(new Error(e.$t("common.natAclLimit")+e.$t("common.mustBig0")));var s=e.cloudDetailInfo.nat_acl_limit;-1===e.cloudDetailInfo.nat_acl_limit&&(s=0),a-s>e.cloudDetailInfo.resource_package.nat_acl_num-e.cloudDetailInfo.resource_package.nat_acl_num_used&&o(new Error(e.$t("common.usedNatNum")+e.cloudDetailInfo.resource_package.nat_acl_num+"，"+e.$t("common.used1")+e.cloudDetailInfo.resource_package.nat_acl_num_used))}e.$validate.validateScopes(t,a,o,-1,9999)},trigger:"blur"}],nat_web_limit:[{required:!0,message:this.$t("common.limitedNumber"),trigger:"blur"},{validator:function(t,a,o){if(e.isAgent&&e.cloudDetailInfo.resource_package.nat_web_num){a||o(new Error(e.$t("common.natWebLimit")+e.$t("common.mustBig0")));var s=e.cloudDetailInfo.nat_web_limit;-1===e.cloudDetailInfo.nat_web_limit&&(s=0),a-s>e.cloudDetailInfo.resource_package.nat_web_num-e.cloudDetailInfo.resource_package.nat_web_num_used&&o(new Error(e.$t("common.usedWebNum")+e.cloudDetailInfo.resource_package.nat_web_num+","+e.$t("common.used1")+e.cloudDetailInfo.resource_package.nat_web_num_used))}e.$validate.validateScopes(t,a,o,-1,9999)},trigger:"blur"}],name:[{required:!0,message:this.$t("common.namePlaceholder"),trigger:"blur"}],domain:[{required:!0,message:this.$t("common.domainPlaceholder"),trigger:"blur"}],ext_port:[{validator:a,trigger:"blur"}],ext_port2:[{required:!0,message:this.$t("common.post443"),trigger:"blur"},{validator:o,trigger:"blur"}],int_port:[{required:!0,message:this.$t("common.post65535"),trigger:"blur"},{validator:s,trigger:"blur"}],protocol:[{required:!0,message:this.$t("common.selectProtocol"),trigger:"change"}]},clockOptions:[{label:"Default",value:0},{label:"UTC",value:1},{label:"Localtime",value:2}],cpuModelOptions:[{label:this.$t("common.mirror"),value:0},{label:"host-passthrough",value:1},{label:"host-model",value:2},{label:"custom",value:3}],bootOrderOptions:[{label:"CDROM Only",value:"c"},{label:"Hard Disk Only",value:"d"},{label:"(1) Hard Disk  (2) CDROM",value:"dc"},{label:"(1) CDROM (2) Hard Disk",value:"cd"}],safeGroupVisible:!1,isShowVncPassDialog:!1,safeGroupDetailsTableData:[],startDiskData:"",backupData:[],snapData:[],isAddFloatGourp:!1,safeGroup:null,isoGroup:null,safeGroupSelect:[],isoGroupSelect:[],qemu:"",qemu_version:[],default_qemu_version_show:"",buttonList:[{},{}],searchText:"",pageGroupIpInfo:{page:1,per_page:50,orderby:"",sort:"",search:"",cloud:""},backupPageInfo:{page:1,per_page:4,total:0,total_page:1},fastphotoInfo:{page:1,per_page:4,total:0,total_page:1},ipPageInfo:{page:1,per_page:3,total:0,total_page:1},IPV6PageInfo:{page:1,per_page:3,total:0,total_page:1},pageInfo:{page:1,per_page:50,total:0,total_page:1},pageTaskInfo:{page:1,per_page:50,total:0,total_page:1},natTranspondData:[],natTranspondPageInfo:{page:1,per_page:4,total:0,total_page:1},protocolsListData:[{value:this.$t("common.basicProtocol"),label:this.$t("common.basicProtocol"),children:[]},{value:this.$t("common.CommonProtocol"),label:this.$t("common.CommonProtocol"),children:[]}],natBuildData:[],natBuildPageInfo:{page:1,per_page:4,total:0,total_page:1},updatePasswordForm:{randomPassWord:"",panel_pass:"",ssh_key:"",password_type:0,agree:!1},openSsh:0,updatePasswordFormRules:{randomPassWord:[{required:!0,message:this.$t("common.iptPwd"),trigger:"blur"},{validator:t,trigger:"blur"}],panel_pass:[{required:!0,message:this.$t("common.iptPwd"),trigger:"blur"}],agree:[{required:!0,message:this.$t("common.checkAgreeForced"),trigger:"change"},{validator:i,trigger:"change"}]},dialogForm:{tiltle:"",type:"",show:!1},dialogFormData:{uid:null,vpc:null,agree:!1,type:"snap",point:"00:00",frequency:1,cycle:"hour",disk:[],cputopcheck:0,cputunecheck:0,cpunumacheck:0,cpusockets:null,cpucores:null,cputhreads:null,cputune:null,cpunumatop:null,hostname:null,adsl:""},networkQueuesForm:{queues:1,vram:256,gpu:1,vramArr:[16,32,64,128,256,512,1024,2048],agree:!1},networkQueuesFormRules:{agree:[{required:!0,message:this.$t("common.checkAgreeForced"),trigger:"change"},{validator:i,trigger:"change"}]},vpcNetwork:[],formRules:{point:{required:!0,message:this.$t("cloudBackup.pointPlaceholder"),trigger:"blur"},uid:{required:!0,message:this.$t("common.selectCustome"),trigger:"change"},vpc:{required:!0,message:this.$t("common.selectNetwork"),trigger:"change"},disk:{required:!0,message:this.$t("common.Pleaseselectdisk"),trigger:"change"},hostname:{pattern:/^\S*([a-zA-Z])([a-zA-Z0-9-_.]){5,}$/,message:this.$t("cloud.pleaseEnterTheCorrectHostName")},agree:[{required:!0,message:this.$t("common.checkAgreeForced"),trigger:"change"},{validator:i,trigger:"change"}],type:{required:!0,message:this.$t("common.selectType"),trigger:"change"},frequency:{required:!0,message:this.$t("common.selectfrequency"),trigger:"change"},cpusockets:{required:!0,message:this.$t("common.input"),trigger:"blur"},cpucores:{required:!0,message:this.$t("common.input"),trigger:"blur"},cputhreads:{required:!0,message:this.$t("common.input"),trigger:"blur"},adsl:{required:!0,message:this.$t("common.select")+"ADSL"+this.$t("login.account"),trigger:"change"}},updatePasswordType:!0,migrateShow:!0,migrate:{taskid:"",target_node:{name:""},progress:0,migrate_size:0,total_size:0,eta_string:0,speed:0},timer:null,physicalForm:{agree:!1},submitLoading:!1,sshList:[],cancleId:"",time_tip:[]}},methods:{getLimitTimeConfig:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.time_tip=[],!localStorage.getItem("commonPlugin").includes("BackupTimeLimit")){t.next=7;break}return t.next=5,k["a"].getLimitConfig();case 5:a=t.sent,1*a.switch_time_period&&(e.time_tip=a.time_period);case 7:t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},changePassType:function(){0===this.$store.state.config.edition&&this.updatePasswordForm.password_type?this.$message(this.$t("common.msg8")):2===this.$store.state.config.edition&&this.updatePasswordForm.password_type?this.$message(this.$t("common.msg228")):this.sshList.length&&(this.updatePasswordForm.ssh_key=this.sshList[0].id)},getSsh:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={page:1,per_page:9999,uid:e.cloudDetailInfo.user_id},t.next=3,f["a"].sshListReq(a);case 3:o=t.sent,e.sshList=o.data||[],e.sshList.length&&(e.updatePasswordForm.ssh_key=e.sshList[0].id);case 6:case"end":return t.stop()}}),t)})))()},checkLast:function(e,t){return!t||t-e>0},goNodeDetail:function(e){this.$router.push({name:"NodeDetails",query:{id:e}})},saveCpuLimit:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o={id:t.cloudDetailInfo.id,cpu_limit:t.cloudDetailInfo.cpu_limit},"status"===e?o.cpu_limit=0:("0"===t.cloudDetailInfo.cpu_limit||"100"===t.cloudDetailInfo.cpu_limit?t.AcpiCPU=0:t.AcpiCPU=1,0===t.AcpiCPU&&(o.cpu_limit=0)),t.$message.success(t.$t("common.updateSuccess")),a.next=5,u["a"].updateCpuLimitReq(o);case 5:t.$emit("refreshCloudInfo"),t.$emit("refreshCloudStatus");case 7:case"end":return a.stop()}}),a)})))()},safeGroupDialogClose:function(){this.$refs.safeGroupRules.clearCondition()},handleClickShowSafeGroup:function(){this.safeGroupParams.id=this.cloudDetailInfo.security,this.getsafeGroupDetailsTableData(),this.safeGroupVisible=!0},searchCallback:function(){if(this.searchText){switch(this.safeGroupParams.page=1,this.searchText){case this.$t("common.allowRemoteWin"):this.safeGroupParams.search="RDP";break;case this.$t("common.allowRemoteLin"):this.safeGroupParams.search="SSH";break;case this.$t("common.allowRemoteHttps"):this.safeGroupParams.search="HTTPS";break;case this.$t("common.allowRemoteHttp"):this.safeGroupParams.search="HTTP";break;case this.$t("common.allTraffic"):this.safeGroupParams.search="ALLOW ALL OUT";break;case this.$t("common.AllowPing"):this.safeGroupParams.search="ICMP";break;default:this.safeGroupParams.search=this.searchText;break}this.getsafeGroupDetailsTableData()}else this.searchText=this.safeGroupParams.search="",this.getsafeGroupDetailsTableData()},getsafeGroupDetailsTableData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=0,o=0,t.prev=2,t.next=5,e.$api.getSafeGroupRulesRes(e.safeGroupParams);case 5:s=t.sent,s.data.forEach((function(t){switch(t.description){case"RDP":t.description=e.$t("common.allowRemoteWin");break;case"SSH":t.description=e.$t("common.allowRemoteLin");break;case"HTTPS":t.description=e.$t("common.allowRemoteHttps");break;case"HTTP":t.description=e.$t("common.allowRemoteHttp");break;case"ALLOW ALL OUT":t.description=e.$t("common.allTraffic");break;case"ICMP":t.description=e.$t("common.AllowPing");break}"in"===t.direction?a++:o++})),e.safeGroupDetailsTableData=s.data.reverse(),e.safeGroupDetailsTableData.inNum=a,e.safeGroupDetailsTableData.outNum=o,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),e.$message.error(t.t0.data.error);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})))()},downloadPDR:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].downloadPDR({id:e.cloudDetailInfo.id});case 2:a=t.sent,o=a,s=e.cloudDetailInfo.kvmid+".rdp",i=document.createElement("a"),i.download=s,i.style.display="none",i.href=URL.createObjectURL(o),document.body.appendChild(i),i.click();case 11:case"end":return t.stop()}}),t)})))()},sureChangePhysical:function(){var e=this;this.$nextTick((function(){e.$refs.changePhsicalForm.validate((function(t){if(t){e.dialogPhysicalVisible=!1,e.physicalStatus=0===e.physicalStatus?1:0;var a=1===e.physicalStatus?e.$t("common.open"):e.$t("common.close");e.$api.upCloud1(e.id,{simulate_physical_machine:e.physicalStatus}).then((function(t){e.$message.success("".concat(a).concat(e.$t("common.success"))),e.$emit("refreshCloudInfo")})).catch((function(t){e.$message.error(t.data.error)}))}}))}))},closePhysical:function(){this.$refs.changePhsicalForm.resetFields()},changeStatus:Object(v["b"])(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var o,s,i,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("simulate_physical_machine"!==t||"off"===this.status){e.next=4;break}return this.dialogPhysicalVisible=!0,this.physicalForm.agree=!1,e.abrupt("return");case 4:"simulate_physical_machine"===t?(o=1===a?0:1,s=1===o?this.$t("common.open"):this.$t("common.close")):(s=1===a?this.$t("common.open"):this.$t("common.close"),o=1===a?1:0),e.t0=t,e.next="apic"===e.t0?8:"acpi"===e.t0?10:"pae"===e.t0?12:"vnc"===e.t0?14:"console"===e.t0?16:"cpu"===e.t0?18:"dynamic_memory"===e.t0?20:"skipColdBackup"===e.t0?22:"simulate_physical_machine"===e.t0?24:26;break;case 8:return i={apic:o},e.abrupt("break",27);case 10:return i={acpi:o},e.abrupt("break",27);case 12:return i={pae:o},e.abrupt("break",27);case 14:return i={vnc:o},e.abrupt("break",27);case 16:return i={console:o},e.abrupt("break",27);case 18:return a||this.saveCpuLimit("status"),e.abrupt("break",27);case 20:return i={dynamic_memory:o},e.abrupt("break",27);case 22:return i={skip_cold_backup:o},e.abrupt("break",27);case 24:return i={simulate_physical_machine:o},e.abrupt("break",27);case 26:return e.abrupt("break",27);case 27:i&&this.$api.upCloud1(this.id,i).then((function(e){r.$message.success("".concat(s).concat(r.$t("common.success"))),r.$emit("refreshCloudInfo")})).catch((function(e){r.$message.error(e.data.error)}));case 28:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()),taskStatusFormatter:function(e){var t=parseInt(e.status);switch(t){case 0:return this.$t("common.notStart");case 1:return this.$t("common.executing");case 2:return this.$t("common.true");case 3:return this.$t("common.execFailure");case 4:return this.$t("common.forcedEnd");default:return""}},taskRetryFormatter:function(e){var t=e.retry;switch(Boolean(t)){case!0:return this.$t("common.yes");case!1:return this.$t("common.no");default:return""}},currentTaskChange:function(){this.getTaskInfo()},currentChange:function(e){"IPV6"===e?this.getIPV6Data():this.getLimitRateIp()},backupCurrentChange:function(){this.getBackUpAndfastphotoInfo("backup")},fastphotoCurrentChange:function(){this.getBackUpAndfastphotoInfo("fastphoto")},handleClickisoGroup:function(e){var t,a=this;this.isoGroupSelect.forEach((function(a){a.id===e&&(t=a.name)})),this.$swal.fire({title:this.$t("common.determineBinding")+t+"?",icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(o){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o.value&&(s={iso:parseInt(e)},a.$api.mountIso(a.id,s).then((function(e){a.$notify({title:a.$t("common.success"),message:a.$t("common.bindIsoSuccess"),type:"success",offset:80}),a.$emit("refreshCloudInfo")})).catch((function(e){a.$notify({title:a.$t("common.bindingFailed"),message:e.data.error,type:"error",offset:80})})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getProtocolsListData:function(){var e=this;this.$api.protocolsList().then((function(t){t.forEach((function(t){"lightHost"===e.type&&"gre"===t.value||(t.label=t.name,"all"===t.value||"all_tcp"===t.value||"all_udp"===t.value||"tcp"===t.value||"udp"===t.value||"icmp"===t.value||"gre"===t.value?e.protocolsListData[0].children.push(t):e.protocolsListData[1].children.push(t))}))}))},unbind:function(){var e=this;this.$swal.fire({title:this.$t("common.determineSolution")+"?",icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.isConfirmed){t.next=11;break}return o={hostid:[e.id]},t.prev=2,t.next=5,f["a"].unbindSshReq(e.cloudDetailInfo.ssh_key.id,o);case 5:e.$message.success(e.$t("common.unbind")+e.$t("common.success")),e.$emit("refreshCloudInfo"),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](2);case 11:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}())},getNodeByArea:function(){var e=this,t={enable:1,list_type:"all"};this.cloudDetailInfo.cross_area_migrate||(t.area=this.cloudDetailInfo.area_id),this.$api.nodeList(t).then((function(t){t&&(e.nodeSelectOptions=t.data.filter((function(t){return t.id!==e.cloudDetailInfo.node_id})),e.NoHrpervNodeSelectOptions1=t.data.filter((function(t){return"hyperv"!==t.type&&t.id!==e.cloudDetailInfo.node_id})),e.NoHrpervNodeSelectOptions=e.toTree(e.NoHrpervNodeSelectOptions1))})).catch((function(){}))},toTree:function(e){var t=e.reduce((function(e,t){return e.push(t.area_id),Array.from(new Set(e))}),[]).reduce((function(t,a){var o;return t.push({area_id:a,name:null===(o=e.filter((function(e){return e.area_id===a}))[0])||void 0===o?void 0:o.area_name,children:e.filter((function(e){return e.area_id===a}))}),t}),[]);return t},isShowDeleteIcon:function(e,t){var a="";return a=void 0!==t?e.ip||e.ipv6:e,a!==this.cloudDetailInfo.mainip||"normal"!==this.cloudDetailInfo.network_type},changeMig:function(e){"quick"===e&&this.dialogInfo.quick_migrate?this.dialogInfo.force_hot_migrate=0:"force"===e&&this.dialogInfo.force_hot_migrate&&(this.dialogInfo.quick_migrate=0),this.changeAllowShow()},jump:function(){this.$router.push({path:"system-upgrade"}),sessionStorage.setItem("upgradeNeedId",958)},updateNodeSure:function(){var e,t=this;this.submitLoading=!0,"moveNode"===this.dialogInfo.type?this.$refs.dialogInfo.validate((function(a){a&&(e={id:t.id,node:t.dialogInfo.node,store:t.dialogInfo.store,ip:t.dialogInfo.ip,hot_migrate:t.dialogInfo.hot_migrate,quick_migrate:t.dialogInfo.quick_migrate,force_hot_migrate:t.dialogInfo.force_hot_migrate,allow_hang:t.dialogInfo.allow_hang},t.isShowAllow&&(e.allow_discard_snap=t.dialogInfo.allow_discard_snap),t.dialogInfo.ipGroup||t.dialogInfo.advanced||t.assign_ip||(delete e.ipGroup,delete e.ip),"hot_migrate"===t.migrate_type?(delete e.quick_migrate,delete e.force_hot_migrate):(delete e.hot_migrate,delete e.allow_hang),t.showMigBtn||(delete e.hot_migrate,delete e.allow_hang,delete e.quick_migrate,delete e.force_hot_migrate),t.moveNode(e))})):this.$refs.dialogInfo.validate((function(a){a&&(e={id:t.id,disk:[]},"off"!==t.status&&(e.hot_migrate=t.dialogInfo.hot_migrate),t.isShowArgee&&(e.allow_discard_snap=t.dialogInfo.allow_discard_snap),t.dialogInfo.agree&&!e.hot_migrate&&(e.force=!0),t.tableData.forEach((function(t){t.checkStore&&e.disk.push({id:t.id,store:t.checkStore})})),t.moveDisk(e))}))},moveDisk:function(e){var t=this;this.$refs.dialogInfo.validate(function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(o){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!o){a.next=14;break}return a.prev=1,a.next=4,u["a"].changDiskStoreReq(e);case 4:t.$message.success(t.$t("common.initiatedSuccessfully")),t.$emit("migrationNode","migration"),t.$emit("refreshCloudInfo"),t.submitLoading=!1,t.dialogNodeVisible=!1,a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](1),t.submitLoading=!1;case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}())},moveNode:function(e){var t=this;this.$api.mainframeMigrate(e).then((function(e){t.$message.success(t.$t("common.initiatedSuccessfully")),t.$emit("migrationNode","migration"),t.$emit("refreshCloudInfo"),t.submitLoading=!1,t.dialogNodeVisible=!1})).catch((function(e){t.submitLoading=!1,t.$message.error(e.data.error)}))},changeExpand:function(e){this.protocolSuite=e[0]},changeCascader:function(){var e=this;switch(this.$refs.operaForm.clearValidate("port"),this.$refs.operaForm.clearValidate("start_port"),this.$refs.operaForm.clearValidate("end_port"),this.isDisabled=!0,this.isPortDisabled=!0,this.protocolSuite===this.$t("common.basicProtocol")?("host"===this.cloudDetailInfo.type&&(this.operaForm.port="1-65535"),"tcp"!==this.operaForm.protocol&&"udp"!==this.operaForm.protocol||(this.isDisabled=!1,this.isPortDisabled=!1)):this.protocolsListData[1].children.forEach((function(t){e.operaForm.protocol===t.value&&(e.operaForm.start_port=t.port,e.operaForm.end_port=t.port,e.operaForm.port=t.port)})),this.operaForm.protocol){case"rdp":this.operaForm.description=this.$t("common.allowRemoteWin");break;case"ssh":this.operaForm.description=this.$t("common.allowRemoteLin");break;case"https":this.operaForm.description=this.$t("common.allowRemoteHttps");break;case"http":this.operaForm.description=this.$t("common.allowRemoteHttp");break;case"all":this.operaForm.description=this.$t("common.allTraffic");break;case"icmp":this.operaForm.description=this.$t("common.AllowPing");break;default:this.operaForm.description="";break}},submitRestoreBackUp:function(){var e=this;"backup"===this.activeName?this.$swal.fire({title:this.$t("common.deleteAllSnapshots"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.value&&e.restoreSnap();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):this.restoreSnap()},restoreSnap:function(){var e=this;this.isShowRestoreBackUp=!1;var t={id:this.rowInfo.id};this.$swal.fire("","".concat(this.$t("common.restore33")).concat(this.dataType),"success"),this.$api.restoreCloudBackUp(t).then((function(t){var a={id:t.taskid,callback:function(){this.$emit("refreshCloudInfo")},extra:!0};e.$tool.executeTask(e,a)})).catch((function(t){e.$notify({title:e.$t("common.fail"),message:t.data.error,type:"error",offset:80})}))},showVncPassword:function(){this.isShowVNCPassword=!this.isShowVNCPassword},showPassword:function(e){this[e]=!this[e]},restoreBackUp:function(e){this.rowInfo=e,this.isShowRestoreBackUp=!0,"snap"===this.rowInfo.type?this.dataType=this.$t("common.snapshoot"):this.dataType=this.$t("common.backups")},getIpInfo:function(e){var t=this;this.$api.ip({ip_segment_id:e}).then((function(e){t.ipSelect=e.data,t.ipSelect.length?t.ipId=t.ipSelect[0].id:t.ipId=""})).catch((function(e){t.$message.error(e.data.error)}))},submitAddFloatIp:function(){var e=this,t={id:this.id,ip:this.ipId};this.$api.addFloatIP(t).then((function(t){e.$message.success(e.$t("common.addSuccess")),e.getFloatIPInfo(),e.isShowBackUp=!1}),(function(t){e.$message.error(t.data.error)})).catch((function(t){e.$message.error(t.data.error)}))},isSuspend:function(){return"suspend"===this.status&&(this.$message({message:this.$t("common.msg16"),type:"error"}),!0)},handleClickNode:function(){this.dialogNodeVisible=!0},changedialogType:function(e){this.dialogInfo.type=e},changeHotMig:function(){var e=this;this.isShowArgee=!1,this.tableData.forEach((function(t){var a=e.storeList.find((function(e){return e.id===t.checkStore}));a&&("local"===a.type&&"local"===t.store_type?e.dialogInfo.hot_migrate&&1===t.status&&t.snap_num&&(e.isShowArgee=!0):(e.dialogInfo.hot_migrate,t.snap_num&&(e.isShowArgee=!0)))}))},checkStore:function(){this.dialogInfo.allow_discard_snap=0},changeMigNode:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.NoHrpervNodeSelectOptions1.find((function(t){return t.id===e.dialogInfo.node})),"adsl"===a.type?e.dialogInfo.showAdsl=!0:e.dialogInfo.showAdsl=!1,e.dialogInfo.ip=[],e.dialogInfo.ipGroup=0,e.dialogInfo.store="",t.next=8,e.getMigrateInfo(!0);case 8:e.getStore(!0,e.dialogInfo.node),e.getIpByCloud(e.dialogInfo.node),t.next=14;break;case 12:t.prev=12,t.t0=t["catch"](0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])})))()},changeGroup:function(){var e=this;if(0!==this.dialogInfo.ipGroup&&-1!==this.dialogInfo.ipGroup){var t=this.migrateIpOptions.find((function(t){return t.id===e.dialogInfo.ipGroup}));t&&t.ip?this.ipList=t.ip:this.ipList=[]}else-1===this.dialogInfo.ipGroup?this.getClientIp():this.ipList=[];this.getMigrateInfo()},getClientIp:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={node:e.dialogInfo.node,uid:e.cloudDetailInfo.user_id},t.next=4,e.$api.getIpByNode(a);case 4:o=t.sent,s=[],o.forEach((function(e){s.push(Object(n["a"])(e.ip))})),e.ipList=s.flat(1/0),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})))()},getMigrateInfo:function(){var e=arguments,t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var o,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(o=e.length>0&&void 0!==e[0]&&e[0],t.isShowAlert=!1,s={hostid:t.cloudDetailInfo.id,node:t.dialogInfo.node},t.dialogInfo.node){a.next=5;break}return a.abrupt("return");case 5:return(t.dialogInfo.advanced||t.assign_ip)&&(0!==t.dialogInfo.ipGroup?s.ip=1:s.ip=0),t.dialogInfo.advanced&&(s.store=t.dialogInfo.store),a.next=9,p["a"].getMigrateInfoReq(s);case 9:i=a.sent,t.isShowAlert=!0,t.showMigBtn=!0,t.assign_ipv6=i.assign_ipv6,i.hot_migrate||i.quick_migrate||i.force_hot_migrate||i.allow_hang||(t.showMigBtn=!1),i.hot_migrate?t.migrate_type="hot_migrate":t.migrate_type="cold_migrate",t.assign_ip=i.assign_ip,t.cold_migrate_discard_snap=i.cold_migrate_discard_snap,t.hot_migrate_discard_snap=i.hot_migrate_discard_snap,t.mac=i.mac,t.vlan=i.vlan,t.node_online=i.node_online,t.node_online||(t.dialogInfo.hot_migrate=0,t.dialogInfo.quick_migrate=0),o&&(t.lastAssign_ip=i.assign_ip),t.changeAllowShow();case 24:case"end":return a.stop()}}),a)})))()},changeAllowShow:function(){this.isShowAllow=!1,this.coldMigrate=!1,this.showMigBtn?"hot_migrate"===this.migrate_type?this.dialogInfo.hot_migrate||(this.coldMigrate=!0):this.dialogInfo.quick_migrate||this.dialogInfo.force_hot_migrate||(this.coldMigrate=!0):this.coldMigrate=!0,this.cloudDetailInfo.snap_used&&(this.isShowAllow=!0,this.showMigBtn||this.cold_migrate_discard_snap?"hot_migrate"===this.migrate_type?this.dialogInfo.hot_migrate||this.cold_migrate_discard_snap?this.dialogInfo.hot_migrate&&!this.hot_migrate_discard_snap&&(this.isShowAllow=!1):this.isShowAllow=!1:(this.dialogInfo.quick_migrate||this.dialogInfo.force_hot_migrate||this.cold_migrate_discard_snap)&&(!this.dialogInfo.quick_migrate&&!this.dialogInfo.force_hot_migrate||this.hot_migrate_discard_snap)||(this.isShowAllow=!1):this.isShowAllow=!1)},getHiddenPassword:function(){this.hiddenPassword="";for(var e=0;e<this.password.length;e++)this.hiddenPassword+="*"},getHiddenSsh:function(){this.hiddenPanelPassword="";for(var e=0;e<this.cloudDetailInfo.panel_pass.length;e++)this.hiddenPanelPassword+="*"},getHiddenVncPassword:function(){this.hiddenVncPassword="";for(var e=0;e<this.vncPassword.length;e++)this.hiddenVncPassword+="*"},handleClickSure:function(){var e=this;this.isShowSelectWrapper=!1;var t={id:this.ipId,name:this.ip_name},a=this.nowIpList.filter((function(a){if(a.id===t.id)return e.$message.error(e.$t("common.msg115")),!0}));0===a.length&&this.nowIpList.push(t)},addFloatIp:function(){this.isShowSelectWrapper=!0},submitDeleteRow:function(){var e=this,t=this.rowInfo,a={id:t.id,hostid:this.id};if(this.safeGroupVisible)this.$api.deleteSafeGroupRulesRes(a).then((function(t){e.$message.success(e.$t("common.deletedSuccessfully")),e.getsafeGroupDetailsTableData()}),(function(t){e.$message.error(t.data.error)}));else switch(this.activeName){case"natTranspond":this.$api.deleteCloudNatTranspond(a).then((function(t){e.getCloudNatTranspond()}),(function(t){e.$message.error(t.data.error)}));break;case"natBuild":this.$api.deleteCloudNatBuild(a).then((function(t){e.getCloudNatBuild()}),(function(t){e.$message.error(t.data.error)}));break;default:this.$api.deleteCloudbackUp(t).then((function(t){var a={id:t.taskid,str:e.$t("common.delete"),callback:function(){this.$emit("refreshCloudInfo")},extra:!0};e.$message.success(e.$t("common.deleting")),e.$tool.executeTask(e,a)}),(function(t){e.$message.error(t.data.error)})).catch((function(t){e.$message.error(t.data.error)}));break}},refreshCloudInfo:function(){this.$emit("refreshCloudInfo")},openNetworkQueuesDialog:function(e){if(this.networkQueuesForm.type=e,"queues"===e){if(0===this.$store.state.config.edition)return void this.$message(this.$t("common.msg8"));if(2===this.$store.state.config.edition)return void this.$message(this.$t("common.msg228"));this.networkQueuesForm.queues=this.cloudDetailInfo.queues}else"vram"===e?(this.networkQueuesForm.vram=this.cloudDetailInfo.vram,this.networkQueuesForm.gpu=this.cloudDetailInfo.gpu):this.cloudDetailInfo.gpu=this.cloudDetailInfo.gpu?0:1;this.isNetworkQueueShow=!0},handleClickQemu:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(o={},o.qemu=""!==e?t.qemu_version[e+1].label:"","off"===t.status){a.next=7;break}t.networkQueuesForm.type=o,t.isNetworkQueueShow=!0,a.next=11;break;case 7:return t.qemu=e,a.next=10,t.$api.upCloud1(t.id,o);case 10:t.$message.success(t.$t("common.updateSuccess"));case 11:case"end":return a.stop()}}),a)})))()},deleteRow:function(e){this.isShowDelDialog=!this.isShowDelDialog,this.dataType="",this.rowInfo=e},isNull:function(e,t){return""===e||void 0===e||null===e?"nodeName"===t?"":'<span style="color:#5989f6">'.concat(this.$t("common.notHave"),"</span>"):e},addtabsInfo:function(e){switch(this.activeName){case"backup":this.isShowEditBackUpType="add",this.backUpTitle=this.$t("common.addBackupInformation"),this.isShowBackUp=!0,this.type="backup";break;case"snap":this.isShowEditBackUpType="add",this.backUpTitle=this.$t("common.addSnapshot"),this.isShowBackUp=!0,this.type="snap";break;case"natTranspond":this.isShowNat=!0,this.backUpTitle=this.$t("common.addNatForwarding");break;case"ip":this.backUpTitle=this.$t("common.addIp"),this.dataType="addIP",this.isShowFloatIpGroup=!0,this.isAddFloatGourp=!1;break;case"IPV6":if(0===this.$store.state.config.edition)return void this.$message(this.$t("common.msg8"));if(2===this.$store.state.config.edition)return void this.$message(this.$t("common.msg228"));this.backUpTitle=this.$t("common.add")+"IPV6",this.dataType="addIPV6",this.isShowFloatIpGroup=!0,this.isAddFloatGourp=!1;break;case"floatIp":if(0===this.$store.state.config.edition)return void this.$message(this.$t("common.msg8"));if(2===this.$store.state.config.edition)return void this.$message(this.$t("common.msg228"));e?(this.isAddFloatGourp=!1,this.groupId=e):(this.isAddFloatGourp=!0,this.groupId=null),this.isShowFloatIpGroup=!0,this.backUpTitle=this.$t("common.addFloatingIp"),this.dataType="addFloatIP";break;case"natBuild":this.isShowNat=!0,this.backUpTitle=this.$t("common.addAConstructionSite");break;case"hardware":if(0===this.$store.state.config.edition)return void this.$message(this.$t("common.msg8"));if(2===this.$store.state.config.edition)return void this.$message(this.$t("common.msg228"));this.$refs.ComputerInfoPci.handleClickDialogShow(this.$t("common.addHardware"),"addHardware");break;case"timeTask":this.handleClickDialogShow(this.$t("common.addTimedTasks"),"timeTask");break;default:break}},closeItem:function(e){var t=this;this.$swal.fire({title:this.$t("common.ip_cancel_create"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(o){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:o.isConfirmed&&t.cancelSnapshots(e.id);case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},cancelSnapshots:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.$message.success(t.$t("common.begin_cancel_crate")),a.next=4,u["a"].cancelSnapshots(e);case 4:t.$message.success(t.$t("common.cancel_create_success")),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),t.$message.error(a.t0.data.error);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},editTabsInfo:function(){this.isShowBackUp=!0,"backup"===this.activeName?(this.isShowEditBackUpType="backup",this.backUpTitle=this.$t("common.modifyTheNumberOfBackups"),this.backForm.backup_num=this.cloudDetailInfo.backup_num):"snap"===this.activeName?(this.isShowEditBackUpType="snap",this.backUpTitle=this.$t("common.modifyTheNumberOfSnapshots"),this.backForm.snap_num=this.cloudDetailInfo.snap_num,this.backForm.snap_num=this.cloudDetailInfo.snap_num):"natTranspond"===this.activeName?(this.isShowEditBackUpType="natTranspond",this.backUpTitle=this.$t("common.modifyNatForwardingQuantity"),this.backForm.nat_acl_limit=this.cloudDetailInfo.nat_acl_limit):"natBuild"===this.activeName&&(this.isShowEditBackUpType="natBuild",this.backUpTitle=this.$t("common.modifyConstructionSites"),this.backForm.nat_web_limit=this.cloudDetailInfo.nat_web_limit)},editFloatBws:function(e){this.backUpTitle=this.$t("common.modifyFloatingWide"),this.dataType="updateFloatIP",this.editInfo=e,this.floatIpForm.in_bw=e.in_bw,this.floatIpForm.out_bw=e.out_bw,this.floatIpForm.id=e.id,this.isShowFloatIpGroup=!0,this.isAddFloatGourp=!0},getFloatIPInfo:function(){var e=this;this.pageGroupIpInfo.cloud=this.id,this.$api.getRateLimitGroup(this.pageGroupIpInfo).then((function(t){e.groupList=t.data.filter((function(t){return t.id!==e.cloudDetailInfo.default_bw_group.id}))}),(function(t){t.data&&e.$message.error(t.data.error)})).catch((function(t){t.data&&e.$message.error(t.data.error)})),this.isShowBackUp=!1},submitAddBackUp:function(){var e=this;this.$refs.backFormRef.validate((function(t){if(t){if(e.backUpTitle===e.$t("common.addSnapshot")&&-1===e.cloudDetailInfo.snap_num||e.backUpTitle===e.$t("common.addBackupInformation")&&-1===e.cloudDetailInfo.backup_num){var a=e.backUpTitle===e.$t("common.addSnapshot")?e.$t("common.snapshoot"):e.$t("common.backups");return e.$message.error(e.$t("common.notAllowedToCreate")+a),void(e.isShowBackUp=!1)}if("add"===e.isShowEditBackUpType){var o={id:e.backForm.diskId,type:e.type,name:e.backForm.name};-1!==e.backForm.store_id&&"backup"===e.type&&(o.store_id=e.backForm.store_id),e.$api.addCloudbackUp(o).then((function(t){e.$message.success(e.$t("common.beingAdded"));var a={id:t.taskid,str:e.$t("common.add"),showMessage:!0,time:3e4};e.$tool.executeTask(e,a),e.$emit("refreshCloudInfo")})).catch((function(t){e.$message.error(t.data.error)}))}else{var s={};"snap"===e.isShowEditBackUpType?s.snap_num=e.backForm.snap_num:"backup"===e.isShowEditBackUpType?s.backup_num=e.backForm.backup_num:"natTranspond"===e.isShowEditBackUpType?s.nat_acl_limit=e.backForm.nat_acl_limit:"natBuild"===e.isShowEditBackUpType&&(s.nat_web_limit=e.backForm.nat_web_limit),e.$swal.fire("",e.$t("common.underRevision"),"success"),e.$api.upCloud1(e.id,s).then((function(t){e.$notify({title:e.$t("common.success"),message:e.$t("common.changeSuccess"),type:"success",offset:80}),e.$emit("refreshCloudInfo")})).catch((function(t){e.$notify({title:e.$t("common.fail"),message:t.data.error,type:"error",offset:80})}))}e.isShowBackUp=!1}}))},submitAddNat:function(){var e=this;this.$refs.backFormRef.validate((function(t){-1===e.cloudDetailInfo.nat_acl_limit&&e.$message.error(e.$t("common.msg116")),t&&("natTranspond"===e.activeName?e.$api.addCloudNatTranspond(Object(i["a"])({id:e.id},e.backForm)).then((function(t){e.$message.success(e.$t("common.addSuccess")),e.$emit("refreshCloudInfo"),e.getCloudNatTranspond(),e.isShowNat=!1})).catch((function(t){e.isShowNat=!1,e.$message.error(t.data.error)})):"natBuild"===e.activeName&&e.$api.addCloudNatBuild(Object(i["a"])(Object(i["a"])({id:e.id},e.backForm),{},{ext_port:e.backForm.ext_port2})).then((function(t){e.$message.success(e.$t("common.addSuccess")),e.$emit("refreshCloudInfo"),e.isShowNat=!1,e.getCloudNatBuild()})).catch((function(t){e.isShowNat=!1,e.$message.error(t.data.error)})))}))},deleteIp:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;if(t)if("ipv6"===a){if(!this.$refs.ipv6Table.selection.length)return this.$message.warning(this.$t("common.pleaseSelect"));this.rowInfo.ips=this.$refs.ipv6Table.selection,this.dataType="deleteBatchesIPV6",this.backUpTitle=this.$t("common.delete")+"IPV6"}else{if(!this.$refs.ipTable.selection.length)return this.$message.warning(this.$t("common.pleaseSelect"));this.rowInfo.ips=this.$refs.ipTable.selection,this.dataType="deleteBatchesIP",this.backUpTitle=this.$t("common.deleteIp")}else"ipv6"===a?(this.rowInfo=e,this.dataType="deleteIPv6",this.backUpTitle=this.$t("common.delete")+"IPV6"):(this.rowInfo=e,this.dataType="deleteIP",this.backUpTitle=this.$t("common.deleteIp"));this.isShowFloatIpGroup=!0},deleteFloatIP:function(e,t){var a=this,o="",s={id:this.id};"batches"===t?(o=this.$t("common.msg165"),s.ip=e):(s.ip=[e.id],o=this.$t("common.determineDeleteIp")+o+"?"),this.$swal.fire({title:o,icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.value&&a.$api.deleteCloudIp(s).then((function(e){a.$emit("refreshCloudInfo"),setTimeout((function(){a.$notify({title:a.$t("common.success"),message:a.$t("common.deletedIpSuccessfully"),type:"success",offset:80})}),3e3),a.$refs.floatIpData.dialogVisible=!1})).catch((function(e){a.$notify({title:a.$t("common.fail"),message:e.data.error,type:"error",offset:80})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},cancelConnectIso:function(e){var t=this;this.$swal.fire({title:this.$t("common.determineUninstallation")+e.name+"?",icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(o){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:o.value&&(s={iso:parseInt(e.id)},t.$api.unInstallIso(t.id,s).then((function(e){t.$notify({title:t.$t("common.success"),message:t.$t("common.uninstallIsoSuccess"),type:"success",offset:80}),t.$emit("refreshCloudInfo")})).catch((function(e){t.$notify({title:t.$t("common.fail"),message:e.data.error,type:"error",offset:80})})));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},cancelConnectSafe:function(){var e=this;this.$swal.fire({title:this.$t("common.determineSolution")+this.cloudDetailInfo.security_name+this.$t("common.securityGroup")+"?",icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.value&&e.$api.cancelConnectSafeGroupRes(e.id).then((function(t){e.$notify({title:e.$t("common.success"),message:e.$t("common.solvingSecurityGroup"),type:"success",offset:80}),e.$emit("refreshCloudInfo")})).catch((function(t){e.$notify({title:e.$t("common.fail"),message:t.data.error,type:"error",offset:80})}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},clickEditVncPort:function(){this.backForm.vncPort=this.cloudDetailInfo.vncport,this.isShowVncPort=!0},resetForm:function(){this.protocolsListData=[{value:this.$t("common.basicProtocol"),label:this.$t("common.basicProtocol"),children:[]},{value:this.$t("common.CommonProtocol"),label:this.$t("common.CommonProtocol"),children:[]}],this.isDisabled=!1,this.$refs.operaForm.resetFields()},handleClickStartCard:function(e){var t=this;this.canStartCardOptions.forEach((function(a){a.id===e&&(t.canStartCardText=a.name)})),this.$swal.fire({title:this.$t("common.IdentifyingChoice")+this.canStartCardText+this.$t("common.asAStartupDisk"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(o){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:o.value&&(t.$swal.fire("",t.$t("common.setTheBootDisk"),"success"),t.$api.setStartDisk(parseInt(e)).then((function(a){t.$notify({title:t.$t("common.success"),message:t.$t("common.StartupDiskSuccess"),type:"success",offset:80}),t.formData.canStartCard=e,t.$emit("refreshCloudInfo")})).catch((function(e){t.$notify({title:t.$t("common.fail"),message:e.data.error,type:"error",offset:80})})));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},onCopy:Object(v["b"])((function(e){this.$message({message:this.$t("common.copyPasswordSuccess"),type:"success"})})),onError:Object(v["b"])((function(){this.$message({message:this.$t("common.copyPasswordFailed"),type:"error"})})),handleClickClock:function(e){var t,a=this;this.clockOptions.forEach((function(a){a.value===e&&(t=a.label)})),this.$swal.fire({title:this.$t("common.msg117")+t+this.$t("common.why")+"?",icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(o){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o.value&&(s={clock:e},a.$swal.fire("",a.$t("common.underRevision"),"success"),a.$api.upCloud1(a.id,s).then((function(t){a.$notify({title:a.$t("common.success"),message:a.$t("common.msg118"),type:"success",offset:80}),a.formData.clock=e,a.$emit("refreshCloudInfo")})).catch((function(e){a.$notify({title:a.$t("common.fail"),message:e.data.error,type:"error",offset:80})})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},resetFloatGroupForm:function(){var e=this;this.floatIpForm={id:void 0,ip:void 0,num:void 0,out_bw:void 0,in_bw:void 0,agree:!1,ipv6Num:0},setTimeout((function(){e.$refs.floatIpForm.clearValidate()}),0)},addResetFloatGroupForm:function(){var e=this;setTimeout((function(){e.$refs.floatIpForm.clearValidate()}),0)},changeAddBtn:function(){this.dialogFromShow=!0,this.getProtocolsListData(),this.isDisabled=!1,this.isPortDisabled=!1},handleClickcpuModel:function(e){var t,a=this;this.cpuModelOptions.forEach((function(a){a.value===e&&(t=a.label)})),this.$swal.fire({title:this.$t("common.please17")+t+this.$t("common.why")+"?",icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(o){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o.value&&(s={cpumodel:e},a.$swal.fire("",a.$t("common.underRevision"),"success"),a.$api.upCloud1(a.id,s).then((function(t){a.$notify({title:a.$t("common.success"),message:a.$t("common.msg119"),type:"success",offset:80}),a.formData.cpuModel=e,a.$emit("refreshCloudInfo")})).catch((function(e){a.$notify({title:a.$t("common.fail"),message:e.data.error,type:"error",offset:80})})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handleClickBootBorder:function(e){var t,a=this;this.bootOrderOptions.forEach((function(a){a.value===e&&(t=a.label)})),this.$swal.fire({title:this.$t("common.IdentifyingChoice")+t,icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(o){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o.value&&(s={bootorder:e},a.$swal.fire("",a.$t("common.changing"),"success"),a.$api.upCloud1(a.id,s).then((function(t){a.$notify({title:a.$t("common.success"),message:a.$t("common.msg120"),type:"success",offset:80}),a.formData.bootOrder=e,a.$emit("refreshCloudInfo")})).catch((function(e){a.$notify({title:a.$t("common.fail"),message:e.data.error,type:"error",offset:80})})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},submitAddFloatGroup:Object(v["b"])((function(){var e=this;this.$refs.floatIpForm.validate((function(t){if(t){var a={};if("updateFloatIP"===e.dataType)a={id:e.floatIpForm.id,in_bw:parseInt(e.floatIpForm.in_bw),out_bw:parseInt(e.floatIpForm.out_bw)},e.$api.editRateLimitGroup(a).then((function(t){e.isShowFloatIpGroup=!1,e.getIpByCloud(),e.$message.success(e.$t("common.updateSuccess")),e.getFloatIPInfo()}),(function(t){t.data&&e.$message.error(t.data.error)})).catch((function(t){t.data&&e.$message.error(t.data.error)}));else if("deleteIP"===e.dataType||"deleteIPv6"===e.dataType||"deleteBatchesIP"===e.dataType||"deleteBatchesIPV6"===e.dataType){var o={id:e.id};if("deleteBatchesIP"===e.dataType)o.ip=e.rowInfo.ips.map((function(e){return e.id}));else if("deleteIP"===e.dataType)o.ip=[e.rowInfo.id];else{if("deleteIPv6"===e.dataType)return o.ipv6=[e.rowInfo.id],void e.deleteIPV6(o);if("deleteBatchesIPV6"===e.dataType)return o.ipv6=e.rowInfo.ips.map((function(e){return e.id})),void e.deleteIPV6(o)}e.$api.deleteCloudIp(o).then((function(t){e.$notify({title:e.$t("common.success"),message:e.$t("common.deletedIpSuccessfully"),type:"success",offset:80}),setTimeout((function(){e.getLimitRateIp()}),1e3),e.isShowFloatIpGroup=!1})).catch((function(t){e.isShowFloatIpGroup=!1,e.$notify({title:e.$t("common.fail"),message:t.data.error,type:"error",offset:80})}))}else"addIPV6"===e.dataType?(a={id:e.id,num:e.floatIpForm.ipv6Num},u["a"].addCloudIPV6Req(a).then((function(t){e.isShowFloatIpGroup=!1,e.$message({message:e.$t("common.addSuccess"),type:"success"}),e.getIPV6Data()})).catch((function(t){t.data&&e.$message.error(t.data.error)}))):(a={id:e.id,ip:e.floatIpForm.ip,num:e.floatIpForm.num,in_bw:parseInt(e.floatIpForm.in_bw),out_bw:parseInt(e.floatIpForm.out_bw),bw_group:e.groupId?parseInt(e.groupId):null},"addIP"===e.dataType&&(a.bw_group=e.cloudDetailInfo.default_bw_group.id),e.floatIpForm.num?e.$api.addIPNum(a).then((function(t){e.isShowFloatIpGroup=!1,"addIP"===e.dataType&&e.$emit("refreshCloudInfo"),e.$message({message:e.$t("common.addSuccess"),type:"success"}),"addIP"===e.dataType?e.getLimitRateIp():e.getFloatIPInfo()}),(function(t){t.data&&e.$message.error(t.data.error)})).catch((function(t){t.data&&e.$message.error(t.data.error)})):e.$api.addFloatIP(a).then((function(t){e.isShowFloatIpGroup=!1,"addIP"===e.dataType&&e.$emit("refreshCloudInfo"),e.$message({message:e.$t("common.addSuccess"),type:"success"}),"addIP"===e.dataType?e.getLimitRateIp():e.getFloatIPInfo(),e.getIpByCloud()}),(function(t){t.data&&e.$message.error(t.data.error)})).catch((function(t){t.data&&e.$message.error(t.data.error)})))}}))}),2e3),deleteIPV6:function(e){var t=this;u["a"].delCloudIPV6Req(e).then((function(e){t.$notify({title:t.$t("common.success"),message:t.$t("common.deletedIpSuccessfully"),type:"success",offset:80}),setTimeout((function(){t.getIPV6Data()}),1e3),t.isShowFloatIpGroup=!1})).catch((function(e){t.isShowFloatIpGroup=!1,t.$notify({title:t.$t("common.fail"),message:e.data.error,type:"error",offset:80})}))},clickEditVncPass:function(){this.isShowVncPassDialog=!0,this.randomVncPass()},randomVncPass:function(){this.backForm.vncPassWord=this.$tool.randomPass(8,1,1,0,1)},createSafeGroup:function(){var e=this;this.$swal.fire({title:this.$t("common.msg121"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){var o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.isConfirmed?(o=e.genEnCode(8,1,1,0,1),s="firewall".concat(o),i={uid:e.cloudDetailInfo.user_id,name:s,hostid:e.cloudDetailInfo.id},e.$api.createSafeGroupRes(i).then((function(t){e.$notify({title:e.$t("common.success"),message:e.$t("common.msg122"),type:"success",offset:80}),e.$emit("refreshCloudInfo")})).catch((function(t){e.safeGroup=null,e.$notify({title:e.$t("common.fail"),message:t.data.error,type:"error",offset:80})}))):e.safeGroup=null;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},changeStore:function(){0===this.$store.state.config.edition&&-1!==this.backForm.store_id&&(this.$message(this.$t("common.msg8")),this.backForm.store_id=-1),2===this.$store.state.config.edition&&-1!==this.backForm.store_id&&(this.$message(this.$t("common.msg228")),this.backForm.store_id=-1)},closeBackForm:function(){Object.assign(this.backForm,this.$options.data.call(this).backForm),this.$refs.backFormRef.resetFields()},getAdslList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={per_page:99999,used:0,node:e.cloudDetailInfo.node_id,lock:0},t.next=3,b["a"].getAdslListReq(a);case 3:o=t.sent,s=o.data,e.adslList=s.filter((function(t){return t.id!==e.cloudDetailInfo.adsl.id}));case 6:case"end":return t.stop()}}),t)})))()},changeCheckAdsl:function(){var e=this,t=this.adslList.find((function(t){return t.id===e.dialogFormData.adsl}));this.cloudDetailInfo.adsl.vlan===t.vlan?(this.isAdslAgree=!1,this.$refs.dialogFormData.clearValidate("agree")):this.isAdslAgree=!0},changeAdsl:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={id:e.id,adsl:e.dialogFormData.adsl,force_off:e.dialogFormData.agree},t.next=4,u["a"].changeCloudAdsl(a);case 4:e.$message.success(e.$t("common.updateSuccess")),e.dialogForm.show=!1,e.$emit("refreshCloudInfo"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.$message.error(t.t0.msg);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},handleClickSafeGroup:function(){var e,t=this;this.safeGroupSelect.forEach((function(a){a.id===t.safeGroup&&(e=a.name)})),this.$swal.fire({title:this.$t("common.msg123")+e+this.$t("common.securityGroup")+"?",icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(a){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.value?(o={cloud:t.id,id:t.safeGroup,type:1},t.$api.relevanceSafeGroupRes(o).then((function(e){t.$notify({title:t.$t("common.success"),message:t.$t("common.msg122"),type:"success",offset:80}),t.$emit("refreshCloudInfo"),t.$emit("refreshCloudStatus")})).catch((function(e){t.$notify({title:t.$t("common.fail"),message:e.data.error,type:"error",offset:80})}))):t.safeGroup=void 0;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},rowStyle:function(e){e.row,e.rowIndex;var t={height:"43px"};return t},submitEditVncPassWord:Object(v["b"])((function(){var e=this;this.$refs.backForm.validate((function(t){if(t){var a={vncpass:e.backForm.vncPassWord};e.$api.upCloud1(e.id,a).then((function(t){e.isShowVncPassDialog=!1,e.$notify({title:e.$t("common.success"),message:e.$t("common.msg124"),type:"success",offset:80}),e.$emit("refreshCloudInfo"),e.vncPassword=e.backForm.vncPassWord,e.getHiddenVncPassword()}),(function(t){e.$notify({title:e.$t("common.fail"),message:t.data.error,type:"error",offset:80})})).catch((function(t){e.$notify({title:e.$t("common.fail"),message:t.data.error,type:"error",offset:80})}))}}))})),submitEditVncPort:Object(v["b"])((function(){var e=this;this.$refs.backForm.validate((function(t){if(t){var a={vncport:parseInt(e.backForm.vncPort)};e.$api.upCloud1(e.id,a).then((function(t){e.isShowVncPort=!1,e.$notify({title:e.$t("common.success"),message:e.$t("common.msg125"),type:"success",offset:80}),e.$emit("refreshCloudInfo")}),(function(t){e.$notify({title:e.$t("common.fail"),message:t.data.error,type:"error",offset:80})})).catch((function(t){e.$notify({title:e.$t("common.fail"),message:t.data.error,type:"error",offset:80})}))}}))})),getSafeGroupResInfo:function(){var e=this,t={orderby:"id",sort:"asc",search:"",user:this.cloudDetailInfo.user_id,list_type:"all"};this.$api.getSafeGroupRes(t).then((function(t){e.safeGroupSelect=t.data.filter((function(t){return t.type===e.cloudDetailInfo.type}))}),(function(t){e.$message.error(t.data.error)})).catch((function(t){t.data&&e.$message.error(t.data.error)}))},getAvaliIso:function(){var e=this,t={id:this.cloudDetailInfo.node_id&&void 0!==this.cloudDetailInfo.node_id?parseInt(this.cloudDetailInfo.node_id):parseInt(this.cloudDetailInfo.area_id),type:this.cloudDetailInfo.node_id&&void 0!==this.cloudDetailInfo.node_id?"node":"area"};this.$api.getIsoByAreaOrNode(t).then((function(t){e.isoGroupSelect=[],t.forEach((function(t){t.info.forEach((function(t){e.isoGroupSelect.push(t)}))}))}),(function(t){e.$message.error(t.data.error)})).catch((function(t){t.data&&e.$message.error(t.data.error)}))},getCpuLimit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$route.query.id,t.next=3,e.$api.cloudsDeatil({id:a});case 3:o=t.sent,e.cpu_limit1=o.cpu_limit,"0"===e.cpu_limit1||"100"===e.cpu_limit1?e.AcpiCPU=0:e.AcpiCPU=1;case 6:case"end":return t.stop()}}),t)})))()},showXmlDialog:function(){var e=this;this.isShowXMLDialog=!0;var t={id:this.id};this.$api.getCloudsXml(t).then((function(t){e.cloudsXml=t.xml}),(function(t){e.$notify({title:e.$t("common.fail"),message:t.data.error,type:"error",offset:80})})).catch((function(t){e.$notify({title:e.$t("common.fail"),message:t.data.error,type:"error",offset:80})}))},handleClickEditPass:function(e){this.randomPassWord(e),this.getSsh(),"panel"===e?this.dialogPanelPasswordVisible=!0:(this.updatePasswordForm.password_type=this.cloudDetailInfo.ssh_key&&this.cloudDetailInfo.ssh_key.id&&!this.isCursomerVersion?1:0,this.dialogPasswordVisible=!0)},closeUpdatePasswordForm:function(){this.$refs.updatePasswordForm.resetFields()},randomPassWord:function(e){var t=this.genEnCode(10,1,1,0,1);"panel"===e?this.updatePasswordForm.panel_pass=t:this.updatePasswordForm.randomPassWord=t},genEnCode:function(e,t,a,o,s,i){var r="";if(0===t&&0===a&&0===o)return r;for(var n=e;n>=0;n--){var c=Math.floor(94*Math.random()+33);0===t&&c>=48&&c<=57||0===a&&(c>=65&&c<=90||c>=97&&c<=122)||0===o&&(c>=33&&c<=47||c>=58&&c<=64||c>=91&&c<=96||c>=123&&c<=127)?n++:r+=String.fromCharCode(c)}return r+=String.fromCharCode(Math.floor(10*Math.random()+65)),r+=String.fromCharCode(Math.floor(10*Math.random()+97)),"0"===s&&(r="0"===i?r.toUpperCase():r.toLowerCase()),Math.floor(10*Math.random()+1)+r},updatePasswordSure:function(e){var t=this;this.$refs.updatePasswordForm.validate(function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(o){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:o&&("panel"===e?(t.dialogPanelPasswordVisible=!1,s={id:t.id,panel_pass:t.updatePasswordForm.panel_pass},t.$api.mainframeUpdatePanelPassword(s).then((function(e){t.$message.success(t.$t("common.msg126")),t.$emit("refreshCloudInfo")}))):(t.dialogPasswordVisible=!1,i={id:t.id,password_type:t.updatePasswordForm.password_type,password:t.updatePasswordForm.randomPassWord,ssh_key:t.updatePasswordForm.ssh_key},1===t.cloudDetailInfo.image_group_id&&delete i.ssh_key,t.$api.mainframeUpdatePassword(i).then((function(e){t.$message.success(t.$t("common.msg127"));var a={id:e.taskid,str:t.$t("common.msg128"),callback:function(){this.$message.success(this.$t("common.msg129")),this.$emit("refreshCloudInfo")}};t.$tool.executeTask(t,a)})).catch((function(e){t.$message.error(e.data.error)}))));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},getIpByCloud:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a={};t?(a.node=t,a.mac=this.mac,a.vlan=this.vlan):a={node:this.cloudDetailInfo.node_id,hostid:this.cloudDetailInfo.id,rid:this.cloudDetailInfo.resource_package?this.cloudDetailInfo.resource_package.id:"",vlan:null!==this.cloudDetailInfo.vlan?this.cloudDetailInfo.vlan:""},this.$api.getIpByNode(a).then((function(a){e.ipSelectOptions=a,t&&(e.migrateIpOptions=a)}))},getCloudNatTranspond:function(){var e=this;this.$api.getCloudNatTranspond(Object(i["a"])({id:this.id},this.natTranspondPageInfo)).then((function(t){e.natTranspondData=t.data,e.natTranspondPageInfo.total_page=t.meta.total_page,e.natTranspondPageInfo.total=t.meta.total,e.natTranspondPageInfo.page=t.meta.page,e.nat_host_ip=t.nat_host_ip}))},getCloudNatBuild:function(){var e=this;this.$api.getCloudNatBuild(Object(i["a"])({id:this.id},this.natBuildPageInfo)).then((function(t){t?(e.natBuildData=t.data,e.natBuildPageInfo.total_page=t.meta.total_page,e.natBuildPageInfo.total=t.meta.total,e.natBuildPageInfo.page=t.meta.page):e.natBuildData=[]}))},getBackUpAndfastphotoInfo:function(e){var t,a=this;"fastphoto"===e?t={id:this.id,orderby:"id",per_page:parseInt(this.fastphotoInfo.per_page),page:parseInt(this.fastphotoInfo.page),sort:"desc",search:"",type:"snap"}:"backup"===e&&(t={id:this.id,orderby:"id",per_page:parseInt(this.backupPageInfo.per_page),page:parseInt(this.backupPageInfo.page),sort:"desc",search:"",type:"backup"}),this.$api.getCloudbackUp(t).then((function(t){"fastphoto"===e?(a.snapData=t.data,a.snapData=void 0===a.snapData?[]:a.snapData,a.$emit("update:fastPhotoData",a.snapData),a.fastphotoInfo.total_page=t.meta.total_page,a.fastphotoInfo.total=t.meta.total,a.fastphotoInfo.page=t.meta.page):"backup"===e&&(a.backupData=t.data,a.backupPageInfo.total_page=t.meta.total_page,a.backupPageInfo.total=t.meta.total,a.backupPageInfo.page=t.meta.page)}),(function(e){a.$message.error(e.data.error)})).catch((function(e){e.data&&a.$message.error(e.data.error)}))},headClassName:function(e){e.row,e.rowIndex;return"success-row"},tableRowClassName:function(e){e.row;var t=e.rowIndex;return 1===t?"warning-row":3===t?"success-row":""},getLimitRateIp:function(){var e=this,t={id:this.defaultGroupIp,page:parseInt(this.ipPageInfo.page),per_page:parseInt(this.ipPageInfo.per_page)};this.$api.getLimitGroupIpList(this.defaultGroupIp,t).then((function(t){e.ipData=[],e.ipPageInfo.total=t.meta.total,e.ipPageInfo.total_page=t.meta.total_page,e.ipData=t.data}),(function(t){e.$notify({title:e.$t("common.fail"),message:t.data.error,type:"error",offset:80})})).catch((function(t){t.data&&e.$notify({title:e.$t("common.fail"),message:t.data.error,type:"error",offset:80})}))},remoteMethod:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var o,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(""===e){a.next=13;break}return t.loadingUser=!0,t.userTotal=0,t.userParams.search=e,t.userParams.page=1,a.next=7,u["a"].loadUserPage(t.userParams);case 7:o=a.sent,t.customer=o.data.filter((function(e){return t.cloudDetailInfo.user_id!==e.id})),t.searchTotal=o.meta.total,t.loadingUser=!1,a.next=19;break;case 13:return t.userParams.page=1,t.userParams.search="",a.next=17,u["a"].loadUserPage(t.userParams);case 17:s=a.sent,t.customer=s.data.filter((function(e){return t.cloudDetailInfo.user_id!==e.id}));case 19:case"end":return a.stop()}}),a)})))()},loadMore:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.customer.length<e.userTotal&&!e.isLoading||e.customer.length<e.searchTotal&&!e.isLoading)){t.next=8;break}return e.userParams.page+=1,e.isLoading=!0,t.next=5,u["a"].loadUserPage(e.userParams);case 5:a=t.sent,e.isLoading=!1,a.data.filter((function(t){return e.cloudDetailInfo.user_id!==t.id})).forEach((function(t){e.customer.push(t)}));case 8:case"end":return t.stop()}}),t)})))()},handleClickDialogShow:function(e,t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){var s;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(a.dialogForm.show=!0,a.dialogForm.title=e,a.dialogForm.type=t,"updateCustomer"!==t){o.next=14;break}return o.next=6,u["a"].loadUserPage(a.userParams);case 6:return s=o.sent,a.customer=s.data.filter((function(e){return a.cloudDetailInfo.user_id!==e.id})),a.userTotal=s.meta.total,o.next=11,u["a"].getCloudProducts(a.cloudDetailInfo.id);case 11:a.instanceUseProducts=o.sent,o.next=15;break;case 14:"cpuLimit"===t?(a.dialogFormData.cpusockets=a.cloudDetailInfo.cpusockets,a.dialogFormData.cpucores=a.cloudDetailInfo.cpucores,a.dialogFormData.cputhreads=a.cloudDetailInfo.cputhreads,a.dialogFormData.cputopcheck=a.cloudDetailInfo.cputopcheck,a.dialogFormData.cputunecheck=a.cloudDetailInfo.cputunecheck,a.dialogFormData.cpunumacheck=a.cloudDetailInfo.cpunumacheck,a.dialogFormData.cputune=a.cloudDetailInfo.cputune,a.dialogFormData.cpunumatop=a.cloudDetailInfo.cpunumatop):"editHostname"===t?a.dialogFormData.hostname=a.cloudDetailInfo.hostname:"editAdsl"===t&&a.getAdslList();case 15:case"end":return o.stop()}}),o)})))()},closeDialog:function(e){"dialogInfo"===e?(this.dialogInfo={type:"moveNode",advanced:!1,ipGroup:0,store:"",node:"",ip:[],hot_migrate:1,quick_migrate:1,force_hot_migrate:0,allow_hang:0,force:0,showAdsl:!1,adsl:0,agree:!1,allow_discard_snap:0,disk:[]},this.migrate_type="",this.coldMigrate=!1,this.isShowAllow=!1,this.$refs.dialogInfo.resetFields(),this.$emit("changeMigShow"),this.tableData.forEach((function(e){e.checkStore=""}))):(this.isAdslAgree=!0,this.$refs.dialogFormData.resetFields())},closeNetDialog:function(){this.$refs.networkQueuesForm.resetFields()},submitNetworkQueuesForm:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.networkQueuesForm.validate(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){var o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o={},s=e.$t("common.updateSuccess"),"queues"===e.networkQueuesForm.type?o.queues=e.networkQueuesForm.queues:"vram"===e.networkQueuesForm.type?(o.vram=e.networkQueuesForm.vram,o.gpu=e.networkQueuesForm.gpu):(o.gpu=!e.cloudDetailInfo.gpu,s=e.cloudDetailInfo.gpu?e.$t("common.close")+e.$t("common.success"):e.$t("common.startSuccess")),!a){t.next=17;break}return t.prev=4,"object"===Object(c["a"])(e.networkQueuesForm.type)&&(o=e.networkQueuesForm.type),t.next=8,e.$api.upCloud1(e.id,o);case 8:e.$message.success(s),e.$emit("refreshCloudInfo"),e.$emit("refreshCloudStatus"),e.isNetworkQueueShow=!1,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](4),e.$message.error(t.t0.data.error);case 17:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},submitForm:function(){var e=this;this.$refs.operaForm.validate((function(t){if(t){var a={};for(var o in e.operaForm)a[o]=e.operaForm[o];"hyperv"===e.cloudDetailInfo.type&&(a.priority=1e3-a.priority),e.$api.createSafeGroupRulesRes(Object(i["a"])({id:e.safeGroupParams.id},a)).then((function(t){e.dialogFromShow=!1,e.getsafeGroupDetailsTableData(),e.$message.success(e.$t("common.addSuccess"))})).catch((function(t){e.$message.error(t.data.error)}))}}))},submitFormDialog:function(){var e=this;this.$refs.dialogFormData.validate((function(t){if(t)switch(e.dialogForm.type){case"updateCustomer":e.updateCustomer();break;case"timeTask":e.timeTask();break;case"cpuLimit":e.cpuLimit();break;case"editHostname":e.changeHostname();break;case"editAdsl":e.changeAdsl();break}}))},changeHostname:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={hostname:e.dialogFormData.hostname},t.prev=1,t.next=4,u["a"].changeHostname(e.id,a);case 4:e.$message.success(e.$t("common.updateSuccess")),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:e.dialogForm.show=!1,e.$emit("refreshCloudInfo");case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},getVpcList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].vpcNetworksReq({node:e.cloudDetailInfo.node_id,user:e.dialogFormData.uid,list_type:"all"});case 2:o=t.sent,e.vpcNetwork=null===(a=o.data)||void 0===a?void 0:a.filter((function(t){return t.name!==e.cloudDetailInfo.vpc_name}));case 4:case"end":return t.stop()}}),t)})))()},updateCustomer:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={id:e.cloudDetailInfo.id,uid:e.dialogFormData.uid,vpc:e.dialogFormData.vpc},t.next=3,u["a"].updateCloudUserReq(a);case 3:o=t.sent,e.$message.success(e.$t("common.msg130")),e.dialogForm.show=!1,s={id:o.taskid,str:e.$t("common.msg131"),callback:function(){this.$emit("refreshCloudInfo")}},e.$tool.executeTask(e,s);case 8:case"end":return t.stop()}}),t)})))()},timeTask:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={id:e.cloudDetailInfo.id,type:e.dialogFormData.type,frequency:e.dialogFormData.frequency,cycle:e.dialogFormData.cycle,disk:e.dialogFormData.disk,point:e.dialogFormData.point},t.next=3,u["a"].createTimeTaskReq(a);case 3:e.dialogForm.show=!1,e.$message.success(e.$t("common.msg132")),e.$refs.ComputerTimeTask&&e.$refs.ComputerTimeTask.getData();case 6:case"end":return t.stop()}}),t)})))()},cpuLimit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={id:e.cloudDetailInfo.id,cputopcheck:e.dialogFormData.cputopcheck,cputunecheck:e.dialogFormData.cputunecheck,cpunumacheck:e.dialogFormData.cpunumacheck,cpusockets:e.dialogFormData.cpusockets,cpucores:e.dialogFormData.cpucores,cputhreads:e.dialogFormData.cputhreads,cputune:e.dialogFormData.cputune,cpunumatop:e.dialogFormData.cpunumatop},t.next=3,u["a"].updateCloudReq(a);case 3:e.dialogForm.show=!1,e.$message.success(e.$t("common.updateSuccess")),e.$emit("refreshCloudInfo"),e.$emit("refreshCloudStatus");case 7:case"end":return t.stop()}}),t)})))()},getStore:function(){var e=arguments,t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var o,s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=e.length>0&&void 0!==e[0]&&e[0],s=e.length>1?e[1]:void 0,i={list_type:"all",enable:1,node:s},a.prev=3,a.next=6,t.$api.getStorages(i);case 6:r=a.sent,r.data=r.data.filter((function(e){return e.status})),o?t.nodeStoreList=r.data:t.storeList=r.data,a.next=13;break;case 11:a.prev=11,a.t0=a["catch"](3);case 13:case"end":return a.stop()}}),a,null,[[3,11]])})))()},closeMigrate:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return this.migrateShow=!1,void(this.migrate={taskid:"",target_node:{name:""},progress:0,migrate_size:0,total_size:0,eta_string:0,speed:0});this.$swal.fire({title:this.$t("common.msg133"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.value){t.next=7;break}return t.next=3,u["a"].cancelTaskReq({id:e.migrate.taskid});case 3:e.$message.success(e.$t("common.msg134")),e.$emit("refreshCloudInfo"),e.$emit("refreshCloudStatus"),e.migrate={taskid:"",target_node:{name:""},progress:0,migrate_size:0,total_size:0,eta_string:0,speed:0};case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.getCpuLimit(),e.getLimitTimeConfig(),e.safeGroup=0!==e.cloudDetailInfo.security?e.cloudDetailInfo.security:null,e.$store.state.config&&("1"===e.$store.state.config.multiple_limit_group?e.isShowFloatIpGroupTable=!0:e.isShowFloatIpGroupTable=!1),e.ApicStatus=e.cloudDetailInfo.apic,e.AcpiStatus=e.cloudDetailInfo.acpi,e.VncStatus=e.cloudDetailInfo.vnc,e.PaeStatus=e.cloudDetailInfo.pae,e.physicalStatus=e.cloudDetailInfo.simulate_physical_machine,e.formData.bootOrder=e.cloudDetailInfo.bootorder,e.formData.cpuModel=e.cloudDetailInfo.cpumodel||0,e.formData.clock=e.cloudDetailInfo.clock,e.canStartCardOptions=e.cloudDetailInfo.disk.filter((function(t){return"vda"===t.dev&&(e.formData.canStartCard=t.id,e.canStartCardText=t.name),1===t.status})),e.password=e.cloudDetailInfo.rootpassword,e.vncPassword=e.cloudDetailInfo.vncpass,e.getHiddenPassword(),e.getHiddenSsh(),e.getHiddenVncPassword(),e.diskSelectOptions=e.cloudDetailInfo.disk,e.TwoDStatus=1===e.cloudDetailInfo.video2d,e.threeDstatus=1===e.cloudDetailInfo.video3d,e.console=e.cloudDetailInfo.console,e.startDiskData="system"===e.cloudDetailInfo.startDisk?e.$t("admin.systemDisk"):"data"===e.cloudDetailInfo.startDisk?e.$t("cloud.dataDisk"):"/",e.getSafeGroupResInfo(),e.getFloatIPInfo(),e.getAvaliIso(),e.getBackUpAndfastphotoInfo("fastphoto"),e.getBackUpAndfastphotoInfo("backup"),e.$refs.ComputerInfoPci&&e.$refs.ComputerInfoPci.init(),e.$refs.ComputerTimeTask&&e.$refs.ComputerTimeTask.getData(),!e.isAgent&&e.isCursomerVersion){t.next=35;break}return t.next=33,e.getIpByCloud();case 33:e.getStore(!1,e.cloudDetailInfo.node_id),e.getNodeByArea();case 35:case"end":return t.stop()}}),t)})))()}}},S=D,x=(a("454b"),a("2877")),F=Object(x["a"])(S,g,_,!1,null,"c558cfee",null),P=F.exports,A=a("fa41"),T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"computerInfo-wrapper"},[a("div",{staticClass:"link"}),a("div",{directives:[{name:"show",rawName:"v-show",value:"triggerHistory"!==e.activeName,expression:"activeName !== 'triggerHistory'"}],staticClass:"more",on:{click:e.handleClickMore}},[e._v(e._s(e.$t("common.more")))]),a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{staticClass:"tabs-item",attrs:{label:e.$t("common.task"),name:"task"}},[a("div",{staticClass:"info-wrapper-item"},[a("div",{staticClass:"table-wrapper"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":e.$t("common.loading"),height:"400","row-style":e.rowStyle,data:e.taskData,width:"100%"}},[a("el-table-column",{attrs:{prop:"status",label:e.$t("common.status"),width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{content:e.taskStatusFormatter(t.row),placement:"right"}},[a("div",{staticClass:"icon-wrapper"},[3===t.row.status||4===t.row.status?a("i",{staticClass:"el-icon-error",staticStyle:{color:"red"}}):e._e(),2===t.row.status?a("i",{staticClass:"el-icon-success",staticStyle:{color:"#46bf8b"}}):e._e(),0===t.row.status?a("i",{staticClass:"el-icon-remove"}):e._e(),1===t.row.status?a("i",{staticClass:"el-icon-loading",staticStyle:{color:"#46bf8b"}}):e._e(),5===t.row.status?a("i",{staticClass:"el-icon-error"}):e._e()])])]}}])}),a("el-table-column",{attrs:{prop:"id",label:"ID"}}),a("el-table-column",{attrs:{prop:"type",label:e.$t("common.taskType"),"show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"start_time",label:e.$t("common.startTime"),width:"155",formatter:e.formatterStartTime}}),a("el-table-column",{attrs:{prop:"end_time",label:e.$t("common.endTime"),width:"155",formatter:e.formatterEndTime}}),a("el-table-column",{attrs:{prop:"progress",label:e.$t("common.progress"),"min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[100!==o.progress?a("el-progress",{attrs:{percentage:o.progress}}):a("span",[e._v(e._s(o.progress)+"%")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pageTaskInfo.page,"page-sizes":[7],"page-size":e.pageTaskInfo.per_page,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTaskInfo.total},on:{"size-change":e.currentTaskChange,"current-change":e.currentTaskChange,"update:currentPage":function(t){return e.$set(e.pageTaskInfo,"page",t)},"update:current-page":function(t){return e.$set(e.pageTaskInfo,"page",t)},"update:pageSize":function(t){return e.$set(e.pageTaskInfo,"per_page",t)},"update:page-size":function(t){return e.$set(e.pageTaskInfo,"per_page",t)}}})],1)],1)])]),a("el-tab-pane",{staticClass:"tabs-item",attrs:{label:e.$t("common.log"),name:"log"}},[a("div",{staticClass:"info-wrapper-item"},[a("div",{staticClass:"table-wrapper"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{overflow:"auto"},attrs:{"element-loading-text":e.$t("common.loading"),height:"400",data:e.logData,width:"100%","row-style":e.rowStyle}},[a("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"40"}}),a("el-table-column",{attrs:{prop:"des",label:e.$t("common.des"),"min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("div",{domProps:{innerHTML:e._s(o.des)}})]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:e.$t("common.createTime"),"min-width":"100"}}),a("el-table-column",{attrs:{prop:"username",label:e.$t("common.username"),"min-width":"60","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{content:e.usernameAndipFormatter(t.row),placement:"right"}},[a("div",[e._v(e._s(t.row.username))])])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pageInfo.page,"page-sizes":[7],"page-size":e.pageInfo.per_page,layout:"total, sizes, prev, pager, next, jumper",total:e.pageInfo.total},on:{"size-change":e.currentChange,"current-change":e.currentChange,"update:currentPage":function(t){return e.$set(e.pageInfo,"page",t)},"update:current-page":function(t){return e.$set(e.pageInfo,"page",t)},"update:pageSize":function(t){return e.$set(e.pageInfo,"per_page",t)},"update:page-size":function(t){return e.$set(e.pageInfo,"per_page",t)}}})],1)],1)])]),e.isCursomerVersion||"hyperv"===e.cloudDetailInfo.type?e._e():a("el-tab-pane",{staticClass:"tabs-item",attrs:{name:"triggerHistory"}},[a("div",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(e.$t("migration.TriggerHistory"))+" "),e.targetNum?a("span",{staticClass:"msg-num"},[e._v(e._s(e.targetNum))]):e._e()]),"triggerHistory"===e.activeName?a("trigger-history",{attrs:{rowStyle:e.rowStyle,id:e.id}}):e._e()],1),"adsl"!==e.cloudDetailInfo.type||e.isCursomerVersion?e._e():a("el-tab-pane",{staticClass:"tabs-item",attrs:{label:e.$t("cloud.adslHistory"),name:"adslHistory"}},["adslHistory"===e.activeName?a("adsl-history",{attrs:{rowStyle:e.rowStyle,id:e.id}}):e._e()],1)],1)],1)},R=[],N=(a("a434"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{overflow:"auto"},attrs:{"element-loading-text":e.$t("common.loading"),height:"400",data:e.logData,width:"100%","row-style":e.rowStyle}},[a("el-table-column",{attrs:{prop:"create_time",label:e.$t("admin.time")}}),a("el-table-column",{attrs:{prop:"rule_name",label:e.$t("migration.ruleBackpage")}}),a("el-table-column",{attrs:{prop:"result",label:e.$t("common.result")}}),a("el-table-column",{attrs:{prop:"recover_time",label:e.$t("common.recover")+e.$t("admin.time")},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("div",["bw"===o.rule_type?a("div",["0000-00-00 00:00:00"!==o.recover_time?a("div",[e._v(" "+e._s(e.$t("common.inBandwidth")+":"+o.recover_time))]):e._e(),"0000-00-00 00:00:00"!==o.recover_time2?a("div",[e._v(" "+e._s(e.$t("common.outbandwidth")+":"+o.recover_time2))]):e._e()]):a("div",[e._v(" "+e._s(o.recover_time)+" ")])])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pageInfo.page,"page-sizes":[7],"page-size":e.pageInfo.per_page,layout:"total, sizes, prev, pager, next, jumper",total:e.pageInfo.total},on:{"size-change":e.getData,"current-change":e.getData,"update:currentPage":function(t){return e.$set(e.pageInfo,"page",t)},"update:current-page":function(t){return e.$set(e.pageInfo,"page",t)},"update:pageSize":function(t){return e.$set(e.pageInfo,"per_page",t)},"update:page-size":function(t){return e.$set(e.pageInfo,"per_page",t)}}})],1)],1)}),O=[],B=a("f381"),M={props:{rowStyle:{},id:{type:Number,default:0}},data:function(){return{loading:!1,logData:[],pageInfo:{page:1,per_page:7,total:0}}},created:function(){this.getData()},mounted:function(){},methods:{getData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,B["a"].getTriggerHistory(Object(i["a"])({hostid:e.id},e.pageInfo));case 4:a=t.sent,e.logData=a.data||[],a.data.forEach((function(t){if(t.recover_time){var a=t.recover_time.replace("-","/").replace("-","/"),o=(new Date).getTime(),s=new Date(a).getTime();if(s-o>0){var i=(s-o)/1e3/60/60;i>1&&i<24?t.recover_time=e.$t("migration.new")+parseInt(i)+e.$t("common.hour1")+e.$t("migration.last"):i<1&&(t.recover_time=e.$t("migration.new")+parseInt(60*i)+e.$t("common.minute5")+e.$t("migration.last"))}}if(t.recover_time2){var r=t.recover_time2.replace("-","/").replace("-","/"),n=(new Date).getTime(),c=new Date(r).getTime();if(c-n>0){var l=(c-n)/1e3/60/60;l>1&&l<24?t.recover_time2=e.$t("migration.new")+parseInt(l)+e.$t("common.hour1")+e.$t("migration.last"):l<1&&(t.recover_time2=e.$t("migration.new")+parseInt(60*l)+e.$t("common.minute5")+e.$t("migration.last"))}}})),e.pageInfo=a.meta||{page:1,per_page:7,total:0},t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](0);case 12:e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()}},computed:{},watch:{}},E=M,L=(a("7aba"),Object(x["a"])(E,N,O,!1,null,"3094c5fb",null)),V=L.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{overflow:"auto"},attrs:{"element-loading-text":e.$t("common.loading"),height:"400",data:e.logData,width:"100%","row-style":e.rowStyle}},[a("el-table-column",{attrs:{prop:"ip",label:"IP"}}),a("el-table-column",{attrs:{prop:"username",label:"ADSL"+e.$t("login.account")}}),a("el-table-column",{attrs:{prop:"action",label:e.$t("cloud.action")},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("div",["online"==o.action?a("span",[e._v(" "+e._s(o.error_msg?e.$t("cloud.onlineErr"):e.$t("cloud.online"))+" "),o.error_msg?a("span",[e._v(" ("+e._s(o.error_msg)+") ")]):e._e()]):e._e(),"offline"==o.action?a("span",[e._v(e._s(e.$t("cloud.offline")))]):e._e()])]}}])}),a("el-table-column",{attrs:{prop:"action_time",label:e.$t("cloud.action_time")}})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pageInfo.page,"page-sizes":[7],"page-size":e.pageInfo.per_page,layout:"total, sizes, prev, pager, next, jumper",total:e.pageInfo.total},on:{"size-change":e.getData,"current-change":e.getData,"update:currentPage":function(t){return e.$set(e.pageInfo,"page",t)},"update:current-page":function(t){return e.$set(e.pageInfo,"page",t)},"update:pageSize":function(t){return e.$set(e.pageInfo,"per_page",t)},"update:page-size":function(t){return e.$set(e.pageInfo,"per_page",t)}}})],1)],1)},q=[],U={props:{rowStyle:{},id:{type:Number,default:0}},data:function(){return{loading:!1,logData:[],pageInfo:{page:1,per_page:7,total:0}}},created:function(){this.getData()},mounted:function(){},methods:{getData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,a=Object(i["a"])(Object(i["a"])({},e.pageInfo),{},{hostid:e.id}),t.next=5,u["a"].adslLog(a);case 5:o=t.sent,o.data?(e.logData=o.data,e.pageInfo=o.meta):(e.logData=[],e.pageInfo={page:1,per_page:50,total:0}),e.loading=!1,t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](1),e.logData=[],e.pageInfo={page:1,per_page:50,total:0},e.loading=!1;case 15:case"end":return t.stop()}}),t,null,[[1,10]])})))()}},computed:{},watch:{}},G=U,W=(a("1096"),Object(x["a"])(G,z,q,!1,null,"5bba11cb",null)),j=W.exports,H=null,Q={components:{TriggerHistory:V,AdslHistory:j},props:{cloudDetailInfo:{type:Object,default:null},id:{type:Number},diskInfo:Array},watch:{ipId:function(e){var t=this;this.ipSelect.forEach((function(a){a.id===e&&(t.ip_name=a.ip)}))},ipListId:function(e){this.getIpInfo(e)}},computed:{status:function(){return!1}},data:function(){return{loading:!1,isShowVncPort:!1,isShowPassword:!1,isCursomerVersion:!0,isShowVNCPassword:!1,password:"",hiddenPassword:"",hiddenVncPassword:"",ip_name:"",ipForm:{id:""},isShowRestoreBackUp:!1,ipId:0,addIpList:[],nowIpList:[],ipListId:0,ipListSelect:[],canStartCardOptions:[],ipSelect:[],isShowSelectWrapper:!1,floatIp:!1,dataType:"",rowInfo:{},isShowDelDialog:!1,diskSelectOptions:[],backUpTitle:"",formLabelWidth:"30%",backForm:{diskId:"",name:"",vncPort:"",vncPassWord:""},canStartCardText:"",type:"",isShowStartCardSelect:!1,isShowBackUp:!1,activeName:"task",value:!0,ApicStatus:1,AcpiStatus:1,VncStatus:1,TwoDStatus:1,threeDstatus:1,PaeStatus:1,formData:{bootOrder:"",canStartCard:"",cpuModel:"",clock:""},rules:{xialaxuanze:[{required:!0,message:this.$t("common.dropDown"),trigger:"secend"}]},clockOptions:[{label:"Default",value:0},{label:"UTC",value:1},{label:"Localtime",value:2}],cpuModelOptions:[{label:"host-passthrough",value:1},{label:"host-model",value:2},{label:"custom",value:3}],bootOrderOptions:[{label:"CDROM Only",value:"c"},{label:"Hard Disk Only",value:"d"},{label:"(1) Hard Disk  (2) CDROM",value:"dc"},{label:"(1) CDROM (2) Hard Disk",value:"cd"}],isShowVncPassDialog:!1,startDiskData:"",backupData:[],logData:[],taskData:[],snapData:[],targetNum:0,safeGroup:null,safeGroupSelect:[],buttonList:[{},{}],pageInfo:{page:1,per_page:7,total:0,total_page:1},pageTaskInfo:{page:1,per_page:7,total:0,total_page:1},taskId:[],timer:null}},methods:{gettargetNum:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B["a"].getTriggerHistory({hostid:e.id,status:0});case 3:a=t.sent,e.targetNum=a.data.length,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},usernameAndipFormatter:function(e){return e.ip},taskStatusFormatter:function(e){var t=parseInt(e.status);switch(t){case 0:return this.$t("common.notStart")+" "+e.msg;case 1:return this.$t("common.executing")+" "+e.msg;case 2:return this.$t("common.true")+" "+e.msg;case 3:return this.$t("common.execFailure")+" "+e.msg;case 4:return this.$t("common.forcedEnd")+" "+e.msg;case 5:return this.$t("common.cancel")+" "+e.msg;default:return" "+e.msg}},taskRetryFormatter:function(e){var t=e.retry;switch(Boolean(t)){case!0:return this.$t("common.yes");case!1:return this.$t("common.no");default:return""}},currentTaskChange:function(){this.getTaskInfo()},currentChange:function(){this.getCloudLogInfo()},formatterStartTime:function(e){return 0===e.start_time||"0"===e.start_time?"":e.start_time},formatterEndTime:function(e){return 0===e.end_time||"0"===e.end_time?"":e.end_time},rowStyle:function(e){e.row;var t=e.rowIndex,a={height:"43px"};return 8===t?(a.borderBottom=null,a):a},deleteRow:function(e){this.isShowDelDialog=!this.isShowDelDialog,this.rowInfo=e},onSwitchChange:function(e){switch(e){case"apic":break;case"acpi":break;case"vnc":break;default:break}},handleClick:Object(v["b"])((function(e,t){"log"===this.activeName?this.getCloudLogInfo():"task"===this.activeName&&this.getTaskInfo()}),2e3),handleClickMore:function(){"log"===this.activeName?this.$router.push({path:"/system-log",query:{id:this.id}}):"task"===this.activeName?this.$router.push({path:"/task",query:{id:this.id}}):"adslHistory"===this.activeName&&this.$router.push({path:"/adsl-log",query:{id:this.id,hostname:this.cloudDetailInfo.hostname}})},getCloudLogInfo:function(){var e=this;this.loading=!0;var t={orderby:"id",per_page:this.pageInfo.per_page,page:this.pageInfo.page,sort:"desc",search:""};this.$api.getCloudLog(this.id,t).then((function(t){e.pageInfo.total=t.meta.total,e.pageInfo.total_page=t.meta.total_page,e.logData=t.data}),(function(t){e.$message.error(t.data.error)})).catch((function(t){t.data&&e.$message.error(t.data.error)})).finally((function(){e.loading=!1}))},getTaskInfoInit:function(){this.activeName="task",this.pageTaskInfo.page=1,this.getTaskInfo()},getTaskInfo:function(){var e=this;this.loading=!0;var t={orderby:"id",per_page:this.pageTaskInfo.per_page,page:this.pageTaskInfo.page,sort:"desc",status:void 0,cloud:this.id};this.$api.getTaskList(t).then((function(t){e.pageTaskInfo.total=t.meta.total,e.pageTaskInfo.total_page=t.meta.total_page,e.taskData=t.data;var a=e.taskData.some((function(t){var a=0===t.status||1===t.status;return a&&e.taskId.push(t.id),a}));a&&e.openTask()}),(function(t){e.$notify({title:e.$t("common.fail"),message:t.data.error,type:"error",offset:80})})).catch((function(t){t.data&&e.$notify({title:e.$t("common.fail"),message:t.data.error,type:"error",offset:80})})).finally((function(){e.loading=!1}))},headClassName:function(e){e.row,e.rowIndex;return"success-row"},tableRowClassName:function(e){e.row;var t=e.rowIndex;return 1===t?"warning-row":3===t?"success-row":""},openTask:function(){this.task()},task:function(){var e=this;0!==this.taskId.length&&this.taskId.forEach((function(t){var a={id:t,auto:!0,showMessage:!1,callback:function(e){var a=this.taskId.findIndex((function(e){return e===t})),o=this.taskData.find((function(e){return e.id===t}));this.taskId.splice(a,1),this.$emit("refreshCloudInfo"),"migrate"!==o.type1&&"migrate_disk"!==o.type1||(this.$emit("refreshCloudStatus"),this.$store.commit("setMigrate",e))},executeCallback:function(e){var t=this.taskData.findIndex((function(t){return t.id===e.id}));this.taskData[t].progress=e.progress||0,this.taskData[t].status=e.status,this.taskData[t].msg=e.msg,this.taskData[t].start_time=e.start_time,this.taskData[t].end_time=e.end_time?e.end_time:"",this.taskData[t].type1=e.type,"migrate"!==e.type&&"migrate_disk"!==e.type||e.hostid!==H.id||(e.taskid=e.id,this.$store.commit("setMigrate",e))}};e.$tool.executeTask(e,a)}))}},mounted:function(){this.getTaskInfo(),this.isCursomerVersion||this.gettargetNum(),H=this}},Y=Q,J=(a("9c52"),Object(x["a"])(Y,T,R,!1,null,"71a7c123",null)),Z=J.exports,X=a("ac0d"),K={metaInfo:function(){return{title:this.$t("common.exampleDetails")+this.hostname}},provide:function(){return{cloudsDeatil:this.cloudDetailInfo}},mixins:[X["a"]],components:{ComputerInfoMoudle:P,ComputerInfoLogData:Z,ComputerInfoMoudleIp:A["a"],crumbs:l["default"]},watch:{diskForm:{handler:function(e){if(this.oldRow.status)this.isDiskSizeChange=!0;else for(var t in this.isDiskSizeChange=!1,e)e[t]!==this.oldRow[t]&&"size"!==t&&(this.isDiskSizeChange=!0)},deep:!0},status:function(e,t){if("on"===e&&1===this.rescue&&(this.status="rescue",this.mainbuttonAlt=this.$t("common.rescueSystem")),"snap_restore"===t)return clearInterval(this.timeInterval),void this.$refs.computerInfoMoudle.getBackUpAndfastphotoInfo("fastphoto");"backup_restore"===t&&(clearInterval(this.timeInterval),this.$refs.computerInfoMoudle.getBackUpAndfastphotoInfo("backup")),(t&&e===this.exceptStatus||0===this.taskStatus)&&clearInterval(this.timeInterval)},rescue:function(e){"on"===this.status&&1===e?(this.status="rescue",this.mainbuttonAlt=this.$t("common.rescueSystem")):this.getCloundStatus()},vpcIps:{handler:function(e){this.formData.vpc_ips=e,this.addNetWorkForm.ips=e},immediate:!0,deep:!0}},computed:{vpcName:function(){var e=this,t=this.vpcNetwork.find((function(t){return t.id===e.formData.vpc}));return t?t.ips:""},vpcIps:function(){if(void 0!==this.vpc_ips.vpc2&&void 0!==this.vpc_ips.vpc3&&void 0!==this.vpc_ips.vpc4){var e=this.vpc_ips.vpc1.value+"."+this.vpc_ips.vpc2+"."+this.vpc_ips.vpc3+"."+this.vpc_ips.vpc4+"/"+this.vpc_ips.vpc6.value;return e}return""},screenOptions:function(){return-1===this.addNetWorkForm.ip_id1?this.elasticSelectOptions.flatMap((function(e){return e.ip})):this.ipSelectOptions[this.addNetWorkForm.ip_id1].ip},caclIpNum:function(){return function(e){return e[0].ipaddress?e.length:e.length-1}},calcRealSize:function(){return function(e){var t=e,a="";return a=0===t?"":t<1024?t.toFixed(2)+"B":t<1048576?(t/1024).toFixed(2)+"KB":t<1073741824?(t/1048576).toFixed(2)+"MB":(t/1073741824).toFixed(2)+"GB",a}},filterTemplate:function(){var e=this;return function(t){var a,o=t.filter((function(t){return t.uid===e.template.client}));return e.reInstallForm.template=null===(a=o[0])||void 0===a?void 0:a.id,o}}},data:function(){var e=this,t=function(t,a,o){!e.isDiskSizeChange&&e.diskTableEdit&&o(),!0===a?o():o(new Error(e.$t("common.please3")))},a=function(t,a,o){if(e.isAgent){var s=e.cloudDetailInfo.resource_package.cpu-e.cloudDetailInfo.resource_package.cpu_used;a-e.cloudDetailInfo.cpu>s&&e.cloudDetailInfo.resource_package.cpu&&o(new Error(e.$t("common.cpuAllotTotal")+e.cloudDetailInfo.resource_package.cpu+", "+e.$t("common.used1")+(e.cloudDetailInfo.resource_package.cpu_used-e.cloudDetailInfo.cpu)))}e.$validate.validateScope(t,a,o,1,240,e.$t("common.cpuCore"))},o=function(t,a,o){if(e.isAgent){var s=e.cloudDetailInfo.resource_package.memory-e.cloudDetailInfo.resource_package.memory_used/1024;a-e.cloudDetailInfo.memory>s&&e.cloudDetailInfo.resource_package.memory&&o(new Error(e.$t("common.memoryAllotTotal")+1024*e.cloudDetailInfo.resource_package.memory+"MB ,"+e.$t("common.used1")+(e.cloudDetailInfo.resource_package.memory_used-1024*e.cloudDetailInfo.memory)+"MB"))}e.$validate.validateScope2(t,a,o,.125,512,e.$t("admin.ram"))};return{calcIpList:[],isAgent:JSON.parse(localStorage.getItem("isAgent")),loading:!1,checked:!1,ipv6_enable:0,isShowDelDialog:!1,ipSelectOptions:[],elasticSelectOptions:[],spanNum:12,rowInfo:{},custom:"",isShowDelDisk:!1,diskChecked:!1,vpc_ips:{vpc1:{tips:this.$t("common.range255"),value:10,select:[10,172,192]},vpc2:0,vpc3:0,vpc3Tips:"",vpc4:0,vpc4Tips:"",vpc6:{value:16,select:[16,17,18,19,20,21,22,23,24,25,26,27,28]},min:0,max:255},upgradeRules:{cpu:[{required:!0,message:this.$t("common.enterCpuCores"),trigger:"blur"},{validator:a,trigger:"blur"}],memory:[{required:!0,message:this.$t("common.please44"),trigger:"blur"},{validator:o,trigger:"blur"}],agree:[{required:!0,message:this.$t("common.checkAgreeForced"),trigger:"change"},{validator:t,trigger:"change"}]},userInfo:this.$store.state.userInfo,isCursomerVersion:!0,isRefresh:!0,dialogDeleteShow:!1,node_id:0,area_id:0,loadingStatus:!1,status:"init",timeInterval:null,timeOut:null,nodeId:0,isShowReInstall:!1,isShowUpgradeForm:!1,isIpRowShow:!1,ipRow:[],id:0,systemId:0,value:!0,editInfo:{},mainbuttonAlt:"",imageGroupOptions:[],netWorkList:[],imageOptions:[],netTableData:[],diskTableData:[],oldRow:{},exceptStatus:null,cloudInfo:{ip:"",kvm:"",cpu:0,memory:0,os_name:"",osuser:"",ip_num:0,status_zh:"",svg:0,network_type:"",vpc_name:"",operate_system:""},isDiskSizeChange:!1,cloudDetailInfo:{os_name:"",kvmid:"",create_time:"/",osuser:"",username:"",uuid:"",node_name:"",security:"",security_name:"",acpi:1,apic:1,vnc:1,simulate_physical_machine:0,video2d:0,video3d:0,vncport:"",startDisk:"",disk:[],rootpassword:"",cpumodel:"",bootorder:"",clock:"",vncpass:"",node_id:"",area_id:"",network_type:"",mainip:"",ip:"",iso:[],sshList:[],cpu_limit:"",cross_area_migrate:!1,reset_flow_day:1,internet:1,default_qemu_version_show:"",qemu:"",qemu_version:[]},dataRow:{},buttonStatus:3,windowIconStatus:1,buttonList:[{},{}],networkTableEdit:!1,isChangeNetworkShow:!1,isAgree:!0,cloudList:[],networkTableAdd:!1,diskTableAdd:!1,diskTableEdit:!1,mainIpSelectOptions:[],driveSelectOptions:[{name:"Virtio",type:3},{name:"Realtek 8139",type:1},{name:"Intel PRO/1000",type:2}],networkSelectOptions:[{name:this.$t("admin.internalNetwork"),type:0},{name:this.$t("common.Extranet"),type:1}],diskStoreSelectOptions:[],diskDriverSelectOptions:[{name:"ide"},{name:"virtio"},{name:"sata"},{name:"scsi"}],diskCacheSelectOptions:[{name:"none"},{name:"writethrough"},{name:"writeback"},{name:"directsync"}],diskIoSelectOptions:[{name:"native"},{name:"threads"}],networkForm:{network_id:"",mac:"",bridge:"",ipaddress:"",niccard_name:"",in_bw:null,out_bw:null,mainip:null,agree:!1,bind_mac:1,niccard:3},system_disk:!1,migShow:!1,reInstallForm:{os:"",template:"",gid:"",osGroupSvg:"",randomPassWord:"",port:null,system_disk_size:0,format_data_disk:0,ssh_key:"",password_type:0},minDiskNum:8,template:{isTemplate:!1,client:0,list:[],clientSelectOptions:[]},reInstallFormRules:{gid:{required:!0,message:this.$t("common.operatingSystemMust"),trigger:"blur"},os:{required:!0,message:this.$t("common.operatingSystemMust"),trigger:"blur"},template:{required:!0,message:this.$t("common.templateMust"),trigger:"blur"},randomPassWord:[{required:!0,message:this.$t("common.iptPwd"),trigger:"blur"},{validator:function(t,a,o){var s=/^(?!\/)(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z])[A-Za-z\d~!@#$&*()_\-+=|{}[\];:<>?,./]{6,}$/;s.test(a)?o():o(new Error(e.$t("cloud.pleaseEnterTheCorrectPassword")))},trigger:"blur"}],port:[{required:!0,message:this.$t("common.enterPost"),trigger:"blur"},{validator:this.$validate.validatePort,trigger:"blur"}]},fastPhotoData:[],upgradeForm:{cpu:"",memory:"",agree:!1},isNetMsgShow:!1,isCardMsgShow:!1,addNetWorkForm:{name:"",network_id:-1,vlan:void 0,net_id:0,network_type:"private",ip_id1:0,ip_id:[],ips:"",niccard:1,in_bw:0,out_bw:0,mac:"",bind_mac:1,agree:!1},curBrigeType:"",isAddNetwork:!0,isNetDisabled:!1,addNetWorkRule:{name:[{required:!0,message:this.$t("common.namePlaceholder"),trigger:"blur"},{validator:function(t,a,o){a.length>100&&o(new Error(e.$t("common.msg143"))),o()},trigger:"blur"}],vlan:[{validator:function(t,a,o){parseInt(a)>4096&&o(new Error(e.$t("common.msg144"))),o()},trigger:"blur"}],subnet_mask:[{required:!0,message:this.$t("common.pleaseEnterTheSubnetMask"),trigger:"blur"},{validator:this.$validate.validateMask,trigger:"blur"}],ip:[{required:!0,message:this.$t("common.pleaseEnterTheIntranetIp"),trigger:"blur"},{validator:this.$validate.validateIp,trigger:"blur"}],network_type:[{required:!0,message:this.$t("admin.pleaseSelectTheNetworkType"),trigger:"change"}],net_id:[{required:!0,message:this.$t("admin.pleaseChoose")+this.$t("cloud.physicalInterface"),trigger:"change"}],niccard:[{required:!0,message:this.$t("common.pleaseSelectANetworkDriver"),trigger:"change"}],ip_id:[{required:!0,message:this.$t("common.select")+this.$t("common.ipAddress"),trigger:"blur"}],in_bw:[{required:!0,message:this.$t("common.feedLimit"),trigger:"blur"},{validator:function(t,a,o){e.$validate.validateScope(t,a,o,0,3e4,e.$t("common.bandwidth"))}}],out_bw:[{required:!0,message:this.$t("common.bandwidthLimit"),trigger:"blur"},{validator:function(t,a,o){e.$validate.validateScope(t,a,o,0,3e4,e.$t("common.bandwidth"))}}],agree:[{required:!0,message:this.$t("common.checkAgreeForced"),trigger:"change"},{validator:t,trigger:"change"}]},diskForm:{id:"",size:"",driver:"",cache:"",io:"",read_bytes_sec:"",write_bytes_sec:"",read_iops_sec:"",write_iops_sec:"",read_bytes_sec_max:"",write_bytes_sec_max:"",read_iops_sec_max:"",write_iops_sec_max:"",agree:!1,iops_max:0,iops_min:0},addDiskForm:{id:"",size:"",store:"",driver:"ide",cache:"none",io:"native",agree:!1,store_id:0,disk_id:""},ipRule:{mac:[{required:!0,message:this.$t("common.enterMacAddress"),trigger:"blur"}],agree:[{required:!0,message:this.$t("common.checkAgreeForced"),trigger:"change"},{validator:t,trigger:"change"}],in_bw:[{required:!0,message:this.$t("common.feedLimit"),trigger:"blur"},{validator:function(t,a,o){if(e.isAgent){e.cloudDetailInfo.resource_package.in_bw&&!parseInt(a)&&o(new Error(e.$t("common.inBandwidth")+e.$t("common.mustBig0")));var s=e.cloudDetailInfo.resource_package.in_bw-e.cloudDetailInfo.resource_package.in_bw_used,i=e.cloudDetailInfo.resource_package.in_bw_limit,r=e.$t("common.inBandwidthAllotTotal")+e.cloudDetailInfo.resource_package.in_bw+","+e.$t("common.used1");"addFloatIP"!==e.dataType?(s+=e.cloudDetailInfo.default_bw_group.in_bw,r+=e.cloudDetailInfo.resource_package.in_bw_used-e.cloudDetailInfo.default_bw_group.in_bw):r+=e.cloudDetailInfo.resource_package.in_bw_used,a>i&&i&&o(new Error(e.$t("common.perMachine")+i)),a>s&&e.cloudDetailInfo.resource_package.in_bw&&o(new Error(r))}e.$validate.validateScope(t,a,o,0,3e4,e.$t("common.bandwidth"))}}],out_bw:[{required:!0,message:this.$t("common.bandwidthLimit"),trigger:"blur"},{validator:function(t,a,o){if(e.isAgent){e.cloudDetailInfo.resource_package.out_bw&&!parseInt(a)&&o(new Error(e.$t("common.outbandwidth")+e.$t("common.mustBig0")));var s=e.cloudDetailInfo.resource_package.out_bw-e.cloudDetailInfo.resource_package.out_bw_used,i=e.cloudDetailInfo.resource_package.out_bw_limit,r=e.$t("common.outBandwidthAllotTotal")+e.cloudDetailInfo.resource_package.out_bw+","+e.$t("common.used1");"addFloatIP"!==e.dataType?(s+=e.cloudDetailInfo.default_bw_group.out_bw,r+=e.cloudDetailInfo.resource_package.out_bw_used-e.cloudDetailInfo.default_bw_group.out_bw):r+=e.cloudDetailInfo.resource_package.out_bw_used,a>i&&i&&o(new Error(e.$t("common.perMachine")+i)),a>s&&e.cloudDetailInfo.resource_package.out_bw&&o(new Error(r))}e.$validate.validateScope(t,a,o,0,3e4,e.$t("common.bandwidth"))}}]},dialog:{tiltle:"",type:"",show:!1,width:"620px",row:{}},openSsh:0,sshList:[],formData:{id:"",cpu:1,memory:1,ip_num:1,system_disk_size:0,create_data_disk:0,port:null,data_disk_config:[],ssh_key:"",name:"",vpc:0,agree:!1,vpc_ips:"",remark:"",type:0,temp_pass:"",dynamic_memory:!1,disk:[],keep_backup:0,store_id:"",type1:"system",cloud:"",senior:!1,ipv6_num:0},formDataRule:{temp_pass:[{required:!0,message:this.$t("common.iptPwd"),trigger:"blur"},{validator:function(t,a,o){var s=/^(?!\/)(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z])[A-Za-z\d~!@#$&*()_\-+=|{}[\];:<>?,./]{6,}$/;s.test(a)?o():o(new Error(e.$t("cloud.pleaseEnterTheCorrectPassword")))},trigger:"blur"}],cpu:[{required:!0,message:this.$t("common.pleaseEnterTheSizeOfTheCpu"),trigger:"blur"},{validator:function(t,a,o){if(e.isAgent){var s=e.cloudDetailInfo.resource_package.cpu-e.cloudDetailInfo.resource_package.cpu_used;a>s&&e.cloudDetailInfo.resource_package.cpu&&o(new Error(e.$t("common.cpuAllotTotal")+e.cloudDetailInfo.resource_package.cpu+", "+e.$t("common.used1")+e.cloudDetailInfo.resource_package.cpu_used))}o()},trigger:"blur"}],memory:[{required:!0,message:this.$t("common.pleaseEnterTheMemorySize"),trigger:"blur"},{validator:function(t,a,o){if(e.isAgent){var s=e.cloudDetailInfo.resource_package.memory-e.cloudDetailInfo.resource_package.memory_used/1024;a>s&&e.cloudDetailInfo.resource_package.memory&&o(new Error(e.$t("common.memoryAllotTotal")+1024*e.cloudDetailInfo.resource_package.memory+"MB ,"+e.$t("common.used1")+e.cloudDetailInfo.resource_package.memory_used+"MB"))}o()},trigger:"blur"}],ip_num:[{required:!0,message:this.$t("common.numberOfIP"),trigger:"blur"},{validator:function(t,a,o){e.isAgent||o(),e.cloudDetailInfo.resource_package.ip_num||o();var s=e.cloudDetailInfo.resource_package.ip_num-e.cloudDetailInfo.resource_package.ip_num_used;a>s&&o(new Error(e.$t("common.ipNumAllocated")+e.cloudDetailInfo.resource_package.ip_num+","+e.$t("common.used1")+e.cloudDetailInfo.resource_package.ip_num_used)),o()},trigger:"blur"}],system_disk_size:[{required:!0,message:this.$t("common.EnterDiskSize"),trigger:"blur"},{validator:function(t,a,o){e.isAgent||o(),0===e.cloudDetailInfo.resource_package.disk&&o(),a>e.cloudDetailInfo.resource_package.disk-e.cloudDetailInfo.resource_package.disk_used&&o(new Error(e.$t("common.diskAllotTotal")+e.cloudDetailInfo.resource_package.disk+","+e.$t("common.used1")+e.cloudDetailInfo.resource_package.disk_used)),o()},trigger:"blur"}],name:[{required:!0,message:this.$t("common.please2"),trigger:"blur"}],vpc:[{required:!0,message:this.$t("common.please4"),trigger:"blur"}],vpc_ips:{required:!0,message:this.$t("cloud.enterInternalIpSegment"),trigger:"blur"},agree:[{required:!0,message:this.$t("common.checkAgreeForced"),trigger:"change"},{validator:t,trigger:"change"}],isAgree:[{validator:function(t,a,o){!0!==e.isAgree&&o(new Error(e.$t("common.please5"))),o()},trigger:"change"}]},vpcNetwork:[],diskFormRule:{agree:[{required:!0,message:this.$t("common.checkAgreeForced"),trigger:"change"},{validator:t,trigger:"change"}],size:[{required:!0,message:this.$t("common.please6"),trigger:"blur"},{validator:function(t,a,o){if(e.isAgent){var s=e.cloudDetailInfo.resource_package.disk-e.cloudDetailInfo.resource_package.disk_used;a-e.editInfo.size>s&&e.cloudDetailInfo.resource_package.disk&&o(new Error(e.$t("common.diskAllotTotal")+e.cloudDetailInfo.resource_package.disk+","+e.$t("common.used1")+(e.cloudDetailInfo.resource_package.disk_used-e.editInfo.size)))}e.$validate.validateScope(t,a,o,1,1048576,e.$t("cloud.disk"))}}],read_bytes_sec:[{validator:function(t,a,o){e.isAgent&&e.cloudDetailInfo.resource_package.read_bytes_sec&&(a||o(new Error(e.$t("common.readRestriction")+e.$t("common.mustBig0"))),a>e.cloudDetailInfo.resource_package.read_bytes_sec&&o(new Error(e.$t("common.readAllotTotal")+e.cloudDetailInfo.resource_package.read_bytes_sec))),e.$validate.validateScope(t,a,o,0,9999999)}}],write_bytes_sec:[{validator:function(t,a,o){e.isAgent&&e.cloudDetailInfo.resource_package.write_bytes_sec&&(o(),a||o(new Error(e.$t("common.writeRestriction")+e.$t("common.mustBig0"))),a>e.cloudDetailInfo.resource_package.write_bytes_sec&&o(new Error(e.$t("common.writeRestriction")+e.cloudDetailInfo.resource_package.write_bytes_sec))),e.$validate.validateScope(t,a,o,0,9999999)}}],read_iops_sec:[{validator:function(t,a,o){e.isAgent&&e.cloudDetailInfo.resource_package.read_iops_sec&&(a||o(new Error(e.$t("common.readRestriction")+e.$t("common.mustBig0"))),a>e.cloudDetailInfo.resource_package.read_iops_sec&&o(new Error(e.$t("common.readAllotTotal")+e.cloudDetailInfo.resource_package.read_iops_sec))),e.$validate.validateScope(t,a,o,0,9999999)}}],write_iops_sec:[{validator:function(t,a,o){e.isAgent&&e.cloudDetailInfo.resource_package.write_iops_sec&&(a||o(new Error(e.$t("common.writeRestriction")+e.$t("common.mustBig0"))),a>e.cloudDetailInfo.resource_package.write_iops_sec&&o(new Error(e.$t("common.")+e.cloudDetailInfo.resource_package.write_iops_sec))),e.$validate.validateScope(t,a,o,0,9999999)}}],read_bytes_sec_max:[{validator:function(t,a,o){e.isAgent&&e.cloudDetailInfo.resource_package.read_bytes_sec_max&&(a||o(new Error(e.$t("common.readRestrictionMost")+e.$t("common.mustBig0"))),a>e.cloudDetailInfo.resource_package.read_bytes_sec_max&&o(new Error(e.$t("common.readRestrictionMost")+e.cloudDetailInfo.resource_package.read_bytes_sec_max))),e.$validate.validateScope(t,a,o,0,9999999)}}],write_bytes_sec_max:[{validator:function(t,a,o){e.isAgent&&e.cloudDetailInfo.resource_package.write_bytes_sec_max&&(a||o(new Error(e.$t("common.writeRestrictionMost")+e.$t("common.mustBig0"))),a>e.cloudDetailInfo.resource_package.write_bytes_sec_max&&o(new Error(e.$t("common.writeRestrictionMost")+e.cloudDetailInfo.resource_package.write_bytes_sec_max))),e.$validate.validateScope(t,a,o,0,9999999)}}],read_iops_sec_max:[{validator:function(t,a,o){e.isAgent&&e.cloudDetailInfo.resource_package.read_iops_sec_max&&(a||o(new Error(e.$t("common.readRestrictionMost")+e.$t("common.mustBig0"))),a>e.cloudDetailInfo.resource_package.read_iops_sec_max&&o(new Error(e.$t("common.readRestrictionMost")+e.cloudDetailInfo.resource_package.read_iops_sec_max))),e.$validate.validateScope(t,a,o,0,9999999)}}],write_iops_sec_max:[{validator:function(t,a,o){e.isAgent&&e.cloudDetailInfo.resource_package.write_iops_sec_max&&(a||o(new Error(e.$t("common.writeRestrictionMost")+e.$t("common.mustBig0"))),a>e.cloudDetailInfo.resource_package.write_iops_sec_max&&o(new Error(e.$t("common.writeRestrictionMost")+e.cloudDetailInfo.resource_package.write_iops_sec_max))),e.$validate.validateScope(t,a,o,0,9999999)}}]},addDiskFormRules:{store:[{required:!0,message:this.$t("common.please7"),trigger:"blur"}],size:[{required:!0,message:this.$t("common.please6"),trigger:"blur"},{validator:function(t,a,o){if(e.isAgent){var s=e.cloudDetailInfo.resource_package.disk-e.cloudDetailInfo.resource_package.disk_used;a>s&&e.cloudDetailInfo.resource_package.disk&&o(new Error(e.$t("common.diskAllotTotal"),+e.cloudDetailInfo.resource_package.disk+","+e.$t("common.used1")+e.cloudDetailInfo.resource_package.disk_used)),o()}e.$validate.validateScope(t,a,o,1,1048576,e.$t("cloud.disk"))}}],agree:[{required:!0,message:this.$t("common.checkAgreeForced"),trigger:"change"},{validator:t,trigger:"change"}],disk_id:[{required:!0,message:this.$t("common.select")+this.$t("common.disk"),trigger:"change"}],store_id:[{required:!0,message:this.$t("common.select")+this.$t("common.storageType"),trigger:"change"}]},deleteRowInfo:void 0,formLabelWidth:"30%",ipshow:!1,interfaceList:[],diskRadio:0,diskSizeShow:!1,addIpshowDom:!1,isOnClound:!1,hostname:this.$route.params.hostname?"-"+this.$route.params.hostname:"",activeEchartsName:"cloudCpu",flowStatistics:[{type:this.$t("common.toDay"),accept:"0B",send:"0B",total:"0B",percent:"0%"},{type:this.$t("common.sevenDay1"),accept:"0B",send:"0B",total:"0B",percent:"0%"},{type:this.$t("common.thisMonth"),accept:"0B",send:"0B",total:"0B",percent:"0%"},{type:1+this.$t("common.month1")+1+this.$t("common.number7")+this.$t("common.toNow"),accept:"0B",send:"0B",total:"0B",percent:"0%"}],flowInfo:{tmp_traffic:0,traffic_type:1,traffic_quota:0},flowInfoModel:{show:!1,title:this.$t("common.reviseLimit"),type:"limit",tmp_traffic:0,traffic_quota:0,traffic_type:1,reset_flow_day:1},flowInfoModelRule:{traffic_quota:[{required:!0,message:this.$t("common.cannotEmpty"),trigger:"blur"},{validator:function(t,a,o){e.isAgent||o(),e.cloudDetailInfo.resource_package.flow||o(),a||o(new Error(e.$t("common.limitTraffic")+e.$t("common.mustBig0")));var s=e.flowInfoModel.traffic_quota+e.flowInfoModel.tmp_traffic-e.flowInfo.traffic_quota-e.flowInfo.tmp_traffic;s>e.cloudDetailInfo.resource_package.flow-e.cloudDetailInfo.resource_package.flow_used&&o(new Error(e.$t("common.flowAllotTotal")+e.cloudDetailInfo.resource_package.flow+","+e.$t("common.used1")+(e.cloudDetailInfo.resource_package.flow_used-e.flowInfo.traffic_quota-e.flowInfo.tmp_traffic))),o()},trigger:"blur"}],tmp_traffic:[{required:!0,message:this.$t("common.cannotEmpty1"),trigger:"blur"},{validator:function(t,a,o){e.isAgent||o(),e.cloudDetailInfo.resource_package.flow||o();var s=e.flowInfoModel.traffic_quota+e.flowInfoModel.tmp_traffic-e.flowInfo.traffic_quota-e.flowInfo.tmp_traffic;s>e.cloudDetailInfo.resource_package.flow-e.cloudDetailInfo.resource_package.flow_used&&o(new Error(e.$t("common.flowAllotTotal")+e.cloudDetailInfo.resource_package.flow+","+e.$t("common.used1")+(e.cloudDetailInfo.resource_package.flow_used-e.flowInfo.traffic_quota-e.flowInfo.tmp_traffic))),o()},trigger:"blur"}]},rescue:0,exportRescue:!1,taskStatus:0,diskList:[],storeList:[],diskDisable:!1,isShowFloatIpGroup:!1,floatIpRule:{ip:[{required:!0,message:this.$t("common.pleaseChoose"),trigger:"change"}],agree:[{required:!0,message:this.$t("common.checkAgreeForced"),trigger:"change"},{validator:t,trigger:"change"}]},floatIpForm:{id:"",ip:[]},ipRadio:0,curIpSelectOptions:[],dialogVisible:!1,ruleForm:{agree:!1},delRules:{agree:[{required:!0,message:this.$t("common.checkAgreeForced"),trigger:"change"},{validator:t,trigger:"change"}]},enableIp:[],activeNames:[],defaultProps:{children:"ip",label:"ip_name",isLeaf:"leaf"},defaultProps1:{children:"ipArr",label:"ip"},selectValue:[],curCheck:[]}},methods:{changeIp:function(e){var t=this;if("object"===Object(c["a"])(e)){var a=this.enableIp.reduce((function(t,a){return t.push.apply(t,Object(n["a"])(a.ip.reduce((function(t,a){return e.includes(a.ip_name)&&t.push(a.id),t}),[]))),t}),[]);this.$nextTick((function(){var o=[];t.enableIp.forEach((function(e){var t=e.ip.reduce((function(e,t){return e.push(t.id),e}),[]);t.every((function(e){return a.includes(e)}))?a.push(e.id):t.some((function(e){return a.includes(e)}))&&o.push(e.id)})),t.$refs.tree.setCheckedKeys(a),o.forEach((function(e){var a=t.$refs.tree.getNode(e);a&&(a.indeterminate=!0)})),t.curCheck=t.curCheck.filter((function(t){return e.includes(t.ip_name)}))}))}else e&&this.$refs.tree.filter(e)},hideSelect:function(e){this.$refs.tree.filter("")},clearIp:function(){this.curCheck=[],this.arrLable=[],this.selectValue=[],this.$refs.tree.setCheckedKeys([])},filterNode:function(e,t){return-1!==t.ip_name.indexOf(e)},loadNode:function(e,t){var a=this.enableIp.reduce((function(e,t){return e.push({id:t.id,ip_name:t.ip_name}),e}),[]);if(0===e.level)return t(a);var o,s=null===(o=this.enableIp.filter((function(t){return t.id===e.data.id}))[0])||void 0===o?void 0:o.ip;return t(s)},handlerCheckChange:function(e){var t=this.$refs.tree.getCheckedNodes().indexOf(e)>-1;if(e.leaf)t?this.curCheck.push(e):this.curCheck=this.curCheck.filter((function(t){return t.id!==e.id}));else if(t){var a;(a=this.curCheck).push.apply(a,Object(n["a"])(this.enableIp.filter((function(t){return t.id===e.id}))[0].ip))}else{var o=this.enableIp.filter((function(t){return t.id===e.id}))[0].ip.reduce((function(e,t){return e.push(t.id),e}),[]);this.curCheck=this.curCheck.filter((function(e){return!o.includes(e.id)}))}var s=[],i=[];this.curCheck.forEach((function(e){i.push(e.ip_name),s.push(e.id)})),this.floatIpForm.ip=Array.from(new Set(i)),this.selectValue=Array.from(new Set(s))},closeIpDialog:function(){this.$refs.ipselected&&this.$refs.ipselected.clearSelection(),this.$refs.ruleForm&&this.$refs.ruleForm.resetFields()},handelDisabeld:function(e,t){return e.ipaddress!==this.cloudDetailInfo.mainip},deleteBatchIp:function(){this.dialogVisible=!0,this.ruleForm.agree=!1},deleteFloatIP:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a=e.$refs.delTree.getCheckedKeys(!0),a.length){t.next=4;break}return t.abrupt("return",e.$message.warning(e.$t("common.pleaseSelect")));case 4:e.$refs.ruleForm.validate((function(t){if(!t)return!1;var o={id:e.id,ip:a};e.$swal.fire({title:e.$t("common.msg165"),icon:"warning",showCancelButton:!0,confirmButtonText:e.$t("common.sure"),cancelButtonText:e.$t("common.cancel")}).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.value&&e.$api.deleteCloudIp(o).then((function(t){e.refreshCloudInfo(),setTimeout((function(){e.$notify({title:e.$t("common.success"),message:e.$t("common.deletedIpSuccessfully"),type:"success",offset:80})}),3e3),e.dialogVisible=!1})).catch((function(t){e.$notify({title:e.$t("common.fail"),message:t.data.error,type:"error",offset:80})}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$message.error(t.t0.data.error);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},addResetFloatGroupForm:function(){var e=this;setTimeout((function(){e.$refs.floatIpForm.clearValidate()}),0)},addtabsInfo:function(e){this.isShowFloatIpGroup=!0,this.floatIpForm.ip=[]},getEnableIp:function(e,t,a){var o=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:try{i={node:e,hostid:t,vlan:a},o.$api.getIpByNode(i).then((function(e){e.forEach((function(e){e.ip_name="".concat(e.ip_name,"（").concat(o.$t("area.ipQuantity"),":").concat(e.ip.length,"）"),e.ip=e.ip.map((function(e){return e.ip_name=e.ip,e.leaf=!0,delete e.ip,e}))})),o.enableIp=e}))}catch(r){}case 1:case"end":return s.stop()}}),s)})))()},submitAddFloatGroup:function(){var e=this;this.$refs.floatIpForm.validate(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=14;break}return o={id:e.id,ip:e.floatIpForm.ip,bw_group:e.cloudDetailInfo.default_bw_group.id,ip_type:"normal"},e.$refs.tree&&(o.ip=e.$refs.tree.getCheckedKeys(!0)),t.prev=3,t.next=6,e.$api.addFloatIP(o);case 6:e.$message({message:e.$t("common.addSuccess"),type:"success"}),e.refreshCloudInfo(),e.isShowFloatIpGroup=!1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),e.$message.error(t.t0.data.error);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}())},changeType:function(){this.$refs.addDiskForm.resetFields()},chooseDisk:function(e){if(e){var t=this.diskList.filter((function(t){return t.id===e}))[0].store_id;this.addDiskForm.store_id=t,this.diskDisable=!!t}},getDiskList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.diskList=[],a={page:1,node:[e.cloudDetailInfo.node_id],status:0,per_page:1e3,create_with_host:0,uid:e.cloudDetailInfo.user_id},t.next=5,h["a"].getDiskList(a);case 5:o=t.sent,e.diskList=o.data,t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getStoreList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.storeList=[],a={node:e.cloudDetailInfo.node_id,area:e.cloudDetailInfo.area_id,list_type:"all"},t.next=5,h["a"].getStoreList(a);case 5:o=t.sent,s=o.data.reduce((function(e,t){return e.push({id:t.id,show_name:t.show_name}),e}),[]),s.unshift({id:0,show_name:e.$t("common.automatic")}),e.storeList=s,t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})))()},delCloud:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isShowDelDialog=!0;case 1:case"end":return t.stop()}}),t)})))()},submitDeleteRow:function(){var e=this,t={id:this.cloudDetailInfo.id,force:this.checked?1:0};this.$api.cloudsDelete(t).then((function(a){e.isShowDelDialog=!1,e.$message.success(1===t.force?e.$t("common.forcedDeleteSuccess"):e.$t("common.successfullyDeleted")),e.$router.push("/clouds")})).catch((function(t){e.$message.error(t.data.error)}))},isBtnShow:function(e){if("edit"===e){if("vpc"===this.cloudInfo.network_type&&"host"!==this.$store.state.userInfo.login_type&&1!==this.cloudDetailInfo.support_nat)return!0}else if("add"===e){if((this.isAgent||!this.isCursomerVersion)&&"host"===this.cloudDetailInfo.type)return!0}else if("toggle"===e){if((!this.isCursomerVersion||this.isAgent)&&"host"===this.cloudDetailInfo.type)return!0}else if("del"===e&&"host"===this.cloudDetailInfo.type)return!0;return!1},changeVpc3:function(){switch(this.vpc_ips.vpc6.value){case 16:this.vpc_ips.vpc3=0;break;case 17:this.vpc_ips.vpc3=this.near([0,128],this.vpc_ips.vpc3);break;case 18:this.vpc_ips.vpc3=this.near([0,64,128,192],this.vpc_ips.vpc3);break;case 19:this.vpc_ips.vpc3=this.near([0].concat(Object(n["a"])(this.productArr(32,224))),this.vpc_ips.vpc3);break;case 20:this.vpc_ips.vpc3=this.near([0].concat(Object(n["a"])(this.productArr(16,240))),this.vpc_ips.vpc3);break;case 21:this.vpc_ips.vpc3=this.near([0].concat(Object(n["a"])(this.productArr(8,248))),this.vpc_ips.vpc3);break;case 22:this.vpc_ips.vpc3=this.near([0].concat(Object(n["a"])(this.productArr(4,252))),this.vpc_ips.vpc3);break;case 23:this.vpc_ips.vpc3=this.near([0].concat(Object(n["a"])(this.productArr(2,254))),this.vpc_ips.vpc3);break}},changeVpc4:function(){switch(this.vpc_ips.vpc6.value){case 25:this.vpc_ips.vpc4=this.near([0,128],this.vpc_ips.vpc4);break;case 26:this.vpc_ips.vpc4=this.near([0,64,128,192],this.vpc_ips.vpc4);break;case 27:this.vpc_ips.vpc4=this.near([0].concat(Object(n["a"])(this.productArr(32,224))),this.vpc_ips.vpc4);break;case 28:this.vpc_ips.vpc4=this.near([0].concat(Object(n["a"])(this.productArr(16,240))),this.vpc_ips.vpc4);break}},productArr:function(e,t){for(var a=[],o=e;o<t+1;o+=e)a.push(o);return a},near:function(e,t){return e.sort((function(e,a){return Math.abs(e-t)-Math.abs(a-t)})),e[0]},changeVpcMask:function(e){switch(e){case 16:this.vpc_ips.vpc3=0,this.vpc_ips.vpc4=0;break;case 17:this.vpc_ips.vpc3=this.near([0,128],this.vpc_ips.vpc3),this.vpc_ips.vpc3Tips=this.$t("cloud.range2"),this.vpc_ips.vpc4=0;break;case 18:this.vpc_ips.vpc3=this.near([0,64,128,192],this.vpc_ips.vpc3),this.vpc_ips.vpc3Tips=this.$t("cloud.range3"),this.vpc_ips.vpc4=0;break;case 19:this.vpc_ips.vpc3=this.near([0].concat(Object(n["a"])(this.productArr(32,224))),this.vpc_ips.vpc3),this.vpc_ips.vpc3Tips=this.$t("cloud.range4"),this.vpc_ips.vpc4=0;break;case 20:this.vpc_ips.vpc3=this.near([0].concat(Object(n["a"])(this.productArr(16,240))),this.vpc_ips.vpc3),this.vpc_ips.vpc3Tips=this.$t("cloud.range5"),this.vpc_ips.vpc4=0;break;case 21:this.vpc_ips.vpc3=this.near([0].concat(Object(n["a"])(this.productArr(8,248))),this.vpc_ips.vpc3),this.vpc_ips.vpc3Tips=this.$t("cloud.range6"),this.vpc_ips.vpc4=0;break;case 22:this.vpc_ips.vpc3=this.near([0].concat(Object(n["a"])(this.productArr(4,252))),this.vpc_ips.vpc3),this.vpc_ips.vpc3Tips=this.$t("cloud.range7"),this.vpc_ips.vpc4=0;break;case 23:this.vpc_ips.vpc3=this.near([0].concat(Object(n["a"])(this.productArr(2,254))),this.vpc_ips.vpc3),this.vpc_ips.vpc3Tips=this.$t("cloud.range8"),this.vpc_ips.vpc4=0;break;case 24:this.vpc_ips.vpc3Tips=this.$t("cloud.range9"),this.vpc_ips.vpc4=0;break;case 25:this.vpc_ips.vpc4=this.near([0,128],this.vpc_ips.vpc4),this.vpc_ips.vpc4Tips=this.$t("cloud.range2"),this.vpc_ips.vpc3Tips=this.$t("cloud.range1");break;case 26:this.vpc_ips.vpc4=this.near([0,64,128,192],this.vpc_ips.vpc4),this.vpc_ips.vpc4Tips=this.$t("cloud.range3"),this.vpc_ips.vpc3Tips=this.$t("cloud.range9");break;case 27:this.vpc_ips.vpc4=this.near([0].concat(Object(n["a"])(this.productArr(32,224))),this.vpc_ips.vpc4),this.vpc_ips.vpc4Tips=this.$t("cloud.range4"),this.vpc_ips.vpc3Tips=this.$t("cloud.range1");break;case 28:this.vpc_ips.vpc4=this.near([0].concat(Object(n["a"])(this.productArr(16,240))),this.vpc_ips.vpc4),this.vpc_ips.vpc4Tips=this.$t("cloud.range5"),this.vpc_ips.vpc3Tips=this.$t("cloud.range1");break}},changeVpcIp:function(){switch(this.vpc_ips.vpc1.value){case 10:this.vpc_ips.vpc1.tips=this.$t("cloud.range1"),this.vpc_ips.min=0,this.vpc_ips.max=255;break;case 172:this.vpc_ips.vpc1.tips=this.$t("cloud.range10"),(this.vpc_ips.vpc2<16||this.vpc_ips.vpc2>31)&&(this.vpc_ips.vpc2=16),this.vpc_ips.min=16,this.vpc_ips.max=31;break;case 192:this.vpc_ips.vpc1.tips=this.$t("cloud.range11"),this.vpc_ips.vpc2=168,this.vpc_ips.min=168,this.vpc_ips.max=168;break}},changeNiccard:function(){this.networkForm.niccard!==this.dataRow.niccard?this.isCardMsgShow=!0:this.isCardMsgShow=!1},randomMac:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,u["a"].getRandomNetworkMacReq();case 2:o=a.sent,t[e].mac=o.mac,"addNetWorkForm"===e&&t.changeEdit("mac");case 5:case"end":return a.stop()}}),a)})))()},callPolice:function(e){var t=e.row,a=(e.column,e.rowIndex,e.columnIndex);if(4===a&&parseFloat(t.percent)>100)return"callPolice"},refreshCloudStatus:function(e){this.refreshStatus(),this.exceptStatus="on"},resetAddDiskForm:function(){var e=this;this.addDiskForm.size=null,this.addDiskForm.id=null,setTimeout((function(){e.$refs.addDiskForm.clearValidate()}),0)},resetForm:function(){var e=this;setTimeout((function(){e.$refs.upgradeForm.resetFields()}),0)},isSuspend:function(){return"suspend"===this.status&&(this.$message({message:this.$t("common.msg16"),type:"error"}),!0)},changePassType:function(){0===this.$store.state.config.edition&&this.reInstallForm.password_type?this.$message(this.$t("common.msg8")):2===this.$store.state.config.edition&&this.reInstallForm.password_type?this.$message(this.$t("common.msg228")):this.sshList.length&&(this.reInstallForm.ssh_key=this.sshList[0].id)},reInstallDialog:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.reInstallForm={os:"",gid:"",osGroupSvg:"",randomPassWord:"",port:3389===e.cloudDetailInfo.port||22===e.cloudDetailInfo.port?3389:e.cloudDetailInfo.port,system_disk_size:0,password_type:0,ssh_key:"",template:""},e.template={isTemplate:!1,client:"",list:[],clientSelectOptions:[]},e.cloudDetailInfo.ssh_key&&e.cloudDetailInfo.ssh_key.id&&!e.isCursomerVersion&&(e.reInstallForm.ssh_key=e.cloudDetailInfo.ssh_key.id,e.reInstallForm.password_type=1),!e.isCursomerVersion||e.isCursomerVersion&&e.isAgent,e.getTemplateList(),e.randomPassWord(),setTimeout((function(){e.$refs.reInstallForm.clearValidate()}),0);case 6:case"end":return t.stop()}}),t)})))()},getUserList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.usersList({list_type:"all",user:e.isCursomerVersion?e.cloudDetailInfo.user_id:""});case 2:a=t.sent,o=JSON.parse(JSON.stringify(a.data)),s={},e.template.clientSelectOptions=o.filter((function(t){if(t.id!==e.cloudDetailInfo.user_id)return t;s=Object(i["a"])({},t)})),s&&e.template.clientSelectOptions.unshift(s),e.template.client=e.cloudDetailInfo.user_id,e.getTemplateList();case 9:case"end":return t.stop()}}),t)})))()},getTemplateList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o,s,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.template.list=[],e.reInstallForm.template=void 0,a={list_type:"all",status:1,node:e.cloudDetailInfo.node_id,rid:e.cloudDetailInfo.rid},t.next=5,u["a"].modelListReq(a);case 5:if(o=t.sent,s=o.data,s){t.next=9;break}return t.abrupt("return",!1);case 9:e.template.list=s,e.template.list&&e.template.list.length>0&&(e.reInstallForm.template=e.template.list[0].id),i=s.reduce((function(e,t){return e[t.uid]=t.username,e}),{}),r=Object.entries(i).map((function(e){return{id:1*e[0],username:e[1]}})),e.template.clientSelectOptions=r,e.template.client=e.cloudDetailInfo.user_id;case 15:case"end":return t.stop()}}),t)})))()},randomPassWord:function(){var e=this.genEnCode(10,1,1,0,1);this.reInstallForm.randomPassWord=e},randomTempPassword:function(){var e=this.genEnCode(10,1,1,0,1);this.formData.temp_pass=e},genEnCode:function(e,t,a,o,s,i){var r="";if(0===t&&0===a&&0===o)return r;for(var n=e;n>=0;n--){var c=Math.floor(94*Math.random()+33);0===t&&c>=48&&c<=57||0===a&&(c>=65&&c<=90||c>=97&&c<=122)||0===o&&(c>=33&&c<=47||c>=58&&c<=64||c>=91&&c<=96||c>=123&&c<=127)?n++:r+=String.fromCharCode(c)}return r+=String.fromCharCode(Math.floor(10*Math.random()+65)),r+=String.fromCharCode(Math.floor(10*Math.random()+97)),0===s&&(r=0===i?r.toUpperCase():r.toLowerCase()),Math.floor(10*Math.random()+1)+r},submitReInstall:function(){var e=this;this.$refs.reInstallForm.validate((function(t){if(!t)return!1;e.isShowReInstall=!1,(e.osSelectOptions||[]).forEach((function(t){e.reInstallForm.os,t.id})),e.$swal.fire({title:e.fastPhotoData.length>0?e.$t("common.msg17"):e.$t("common.msg18"),icon:"warning",showCancelButton:!0,confirmButtonText:e.$t("common.sure"),cancelButtonText:e.$t("common.cancel")}).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.value&&(o={id:e.id,password_type:e.reInstallForm.password_type,port:e.reInstallForm.port,system_disk_size:e.reInstallForm.system_disk_size,format_data_disk:e.reInstallForm.format_data_disk},e.template.isTemplate?o.template=e.reInstallForm.template:o.os=e.reInstallForm.os,e.reInstallForm.password_type?o.ssh_key=e.reInstallForm.ssh_key:o.password=e.reInstallForm.randomPassWord,e.system_disk||delete o.system_disk_size,e.$swal.fire("",e.$t("common.reloading"),"success"),e.$api.mainframeReInstall(o).then((function(t){e.refreshStatus(),e.exceptStatus="on",e.getCloudComputerInfo()})).catch((function(t){e.$notify({title:e.$t("common.fail"),message:t.data.error,type:"error",offset:80})})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))},handleUpdateComputer:function(){this.isSuspend()||this.clickUpCloudButton()},clickUpReInstallButton:Object(v["b"])(Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isSuspend()){e.next=2;break}return e.abrupt("return");case 2:this.isShowReInstall=!0,this.system_disk=!1,this.getImageList(),this.getSsh();case 6:case"end":return e.stop()}}),e,this)}))),2e3),clickUpCloudButton:function(){this.isShowUpgradeForm=!0},openVpcDialog:function(){"vpc"!==this.cloudInfo.network_type&&this.getVpcList(),this.isAgent&&this.cloudDetailInfo.resource_package&&-1===this.cloudDetailInfo.resource_package.vpc_num&&(this.formData.vpc="")},submitUpgradeForm:Object(v["b"])((function(){var e=this;this.$refs.upgradeForm.validate((function(t){if(t){var a={id:e.id,cpu:parseInt(e.upgradeForm.cpu),memory:parseInt(1024*e.upgradeForm.memory)};e.$api.upCloud(a).then((function(t){e.isShowUpgradeForm=!1,e.refreshStatus(),e.getCloudComputerInfo(),e.$message({message:e.$t("common.configurationSuccess"),type:"success"})}),(function(t){e.$message.error(t.data.error)}))}}))}),2e3),changeNetId:function(e){0===this.addNetWorkForm.net_id&&-1===this.addNetWorkForm.network_id&&(this.addNetWorkForm.network_type="private"),this.curBrigeType=this.interfaceList.filter((function(t){return t.id===e}))[0].bridge_type},changeNetType:function(){"public"===this.addNetWorkForm.network_type&&0===this.addNetWorkForm.net_id&&(this.interfaceList.length?(this.addNetWorkForm.net_id=this.interfaceList[0].id,this.curBrigeType=this.interfaceList[0].bridge_type):this.addNetWorkForm.net_id="")},changeNetworkId:function(){var e=this;if(-1!==this.addNetWorkForm.network_id){var t=this.netWorkList.find((function(t){return e.addNetWorkForm.network_id===t.id}));if(this.addNetWorkForm.vlan=t.vlan,this.addNetWorkForm.network_type=t.network_type,this.addNetWorkForm.ips=t.ips,this.cloudDetailInfo.node_id){var a=t.net.find((function(t){return e.cloudDetailInfo.node_id===t.node_id}));a?(this.addNetWorkForm.net_id=a.id,this.isNetDisabled=!!a.id):(this.addNetWorkForm.net_id=0,this.isNetDisabled=!1)}}else this.isNetDisabled=!1},getImageList:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$api.getNodeImages({id:this.node_id||this.area_id,type:this.node_id?"node":"area",rid:this.cloudDetailInfo.resource_package.id}).then((function(t){if(e.imageGroupOptions=t,t.length){var a=t.find((function(t){return t.image.find((function(t){return t.id===e.systemId}))}));e.reInstallForm.gid=a.id||t[0].id,e.reInstallForm.osGroupSvg=a.svg||t[0].svg,e.imageGroupSelectChange(e.reInstallForm.gid,!0)}else e.reInstallForm.gid=void 0,e.reInstallForm.osGroupSvg=void 0,e.imageGroupOptions=[],e.reInstallForm.os=void 0,e.imageOptions=[],e.$message.warning(e.$t("common.msg19"));e.reInstallForm.system_disk_size=1===e.reInstallForm.gid?e.$store.state.config.system_disk_size_for_windows:e.$store.state.config.system_disk_size_for_other}))},changeTemplate:function(){0===this.$store.state.config.edition&&this.template.isTemplate&&(this.$message(this.$t("common.msg8")),this.template.isTemplate=!1),2===this.$store.state.config.edition&&this.template.isTemplate&&(this.$message(this.$t("common.msg228")),this.template.isTemplate=!1)},imageGroupSelectChange:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$refs.reInstallForm.clearValidate("port"),22!==this.cloudDetailInfo.port&&3389!==this.cloudDetailInfo.port&&0!==this.cloudDetailInfo.port||(1===this.reInstallForm.gid?this.reInstallForm.port=3389:this.reInstallForm.port=22),(this.imageGroupOptions||[]).forEach((function(a){e===a.id&&(t.reInstallForm.osGroupSvg=a.svg,t.imageOptions=[],t.reInstallForm.os=void 0,t.imageOptions=a.image,a.image.length&&(t.reInstallForm.os=a.image[0].id))})),this.systemId&&a&&(this.reInstallForm.os=this.systemId),this.reInstallForm.system_disk_size=1===this.reInstallForm.gid?this.$store.state.config.system_disk_size_for_windows:this.$store.state.config.system_disk_size_for_other,this.imageOptions[0]&&(1===this.imageOptions[0].image_group_id?this.minDiskNum=27:this.minDiskNum=8)},getSsh:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={page:1,per_page:9999,uid:e.cloudDetailInfo.user_id},t.next=3,f["a"].sshListReq(a);case 3:o=t.sent,e.sshList=o.data||[],e.sshList.length&&(e.formData.ssh_key=e.sshList[0].id);case 6:case"end":return t.stop()}}),t)})))()},showOpertionButton:function(e,t){var a;return"uninstall"===e?a=1:"mount"===e&&(a=0),t.status===a},showDeleteDiskButton:function(e){return!1===this.isOnClound&&2!==e.status&&"system"!==e.type},getCloudComputerInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={id:e.id},t.next=3,e.$api.cloudsDeatil(a).then((function(t){e.getEnableIp(t.node_id,t.id,t.vlan),"on"===t.status&&(e.isOnClound=!0),e.systemId=t.system,e.nodeId=t.node,e.id=t.id,e.area_id=t.area_id,e.cloudInfo.svg=t.svg,"adsl"!==t.type&&(e.cloudInfo.ip=t.mainip),e.cloudInfo.kvm=t.kvmid,e.cloudInfo.cpu=t.cpu,e.cloudInfo.memory=t.memory,t.dynamic_memory=!0,e.cloudDetailInfo.dynamic_memory=t.dynamic_memory,e.cloudDetailInfo.trunk=t.trunk,e.cloudDetailInfo.vlan=t.vlan,e.upgradeForm.cpu=t.cpu,e.upgradeForm.memory=t.memory,e.cloudInfo.os_name=t.os_name,e.cloudInfo.operate_system=t.operate_system,e.cloudInfo.network_type=t.network_type,e.cloudInfo.osuser=t.osuser,e.cloudInfo.ip_num=t.ip_num,e.cloudInfo.status=t.status,e.cloudInfo.vpc_name=t.vpc_name,e.cloudInfo.vpc_mac=t.vpc_mac,e.mainIpSelectOptions=t.ip,e.cloudDetailInfo.id=e.id,e.cloudDetailInfo.ip=t.ip,e.cloudDetailInfo.type=t.type,e.cloudDetailInfo.queues=t.queues,e.cloudDetailInfo.gpu=t.gpu,e.cloudDetailInfo.vram=t.vram,e.cloudDetailInfo.ip_num=t.ip_num,e.cloudDetailInfo.cpu=t.cpu,e.cloudDetailInfo.memory=t.memory,e.cloudDetailInfo.user_id=t.user_id,e.cloudDetailInfo.iso=t.iso,e.cloudDetailInfo.mainip=t.mainip,e.cloudDetailInfo.default_bw_group=t.default_bw_group,e.cloudDetailInfo.area_id=t.area_id,e.cloudDetailInfo.rootpassword=t.rootpassword,e.cloudDetailInfo.vncpass=t.vncpass,e.cloudDetailInfo.os_name=t.os_name,e.cloudDetailInfo.osuser=t.osuser,e.cloudDetailInfo.kvmid=t.kvmid,e.cloudDetailInfo.adsl=t.adsl,e.cloudDetailInfo.hostname=t.hostname,e.cloudDetailInfo.skip_cold_backup=t.skip_cold_backup,e.cloudDetailInfo.ssh_key=t.ssh_key,e.cloudDetailInfo.username=t.username,e.cloudDetailInfo.parent_name=t.parent_name,e.cloudDetailInfo.cpuClock=t.bootorder,e.cloudDetailInfo.security=t.security,e.cloudDetailInfo.security_name=t.security_name,e.cloudDetailInfo.node_id=t.node_id,e.cloudDetailInfo.backup_num=t.backup_num,e.cloudDetailInfo.snap_num=t.snap_num,e.cloudDetailInfo.snap_used=t.snap_used,e.cloudDetailInfo.backup_used=t.backup_used,e.cloudDetailInfo.support_nat=t.support_nat,e.cloudDetailInfo.nat_acl_limit=t.nat_acl_limit,e.cloudDetailInfo.nat_web_limit=t.nat_web_limit,e.cloudDetailInfo.nat_acl_used=t.nat_acl_used,e.cloudDetailInfo.nat_web_used=t.nat_web_used,e.cloudDetailInfo.cross_area_migrate=t.cross_area_migrate,e.cloudDetailInfo.security_rand_port_delete=t.security_rand_port_delete,e.cloudDetailInfo.cpu_limit=t.cpu_limit,e.cloudDetailInfo.suspend_type=t.suspend_type,e.cloudDetailInfo.resource_package=t.resource_package,e.cloudDetailInfo.internet=t.internet,e.cloudDetailInfo.over_flow_limit_bw=t.over_flow_limit_bw,e.node_id=t.node_id,e.cloudDetailInfo.remark=t.remark,e.cloudDetailInfo.create_time=t.create_time,e.cloudDetailInfo.uuid=t.uuid,e.cloudDetailInfo.node_name=t.node_name,e.cloudDetailInfo.bootorder=t.bootorder,e.cloudDetailInfo.cpumodel=t.cpumodel,e.cloudDetailInfo.clock=parseInt(t.clock),e.cloudDetailInfo.svg=t.svg,e.cloudDetailInfo.lock=t.lock,e.cloudDetailInfo.ipv6=t.ipv6,e.cloudDetailInfo.acpi=parseInt(t.acpi),e.cloudDetailInfo.apic=parseInt(t.apic),e.cloudDetailInfo.vnc=parseInt(t.vnc),e.cloudDetailInfo.pae=parseInt(t.pae),e.cloudDetailInfo.vncport=t.vncport,e.cloudDetailInfo.bootorder=t.bootorder,e.cloudDetailInfo.startDisk=t.disk||t.disk[0].type,e.cloudDetailInfo.bootorder=t.bootorder,e.cloudDetailInfo.disk=t.disk,e.cloudDetailInfo.network_type=t.network_type,e.cloudDetailInfo.port=t.port,e.cloudDetailInfo.rescue=t.rescue,e.cloudDetailInfo.cpusockets=t.cpusockets,e.cloudDetailInfo.cpucores=t.cpucores,e.cloudDetailInfo.cputhreads=t.cputhreads,e.cloudDetailInfo.cputopcheck=t.cputopcheck,e.cloudDetailInfo.cputunecheck=t.cputunecheck,e.cloudDetailInfo.cpunumacheck=t.cpunumacheck,e.cloudDetailInfo.cputune=t.cputune,e.cloudDetailInfo.cpunumatop=t.cpunumatop,e.cloudDetailInfo.advanced_bw=t.advanced_bw,e.cloudDetailInfo.advanced_cpu=t.advanced_cpu,e.cloudDetailInfo.panel_pass=t.panel_pass,e.cloudDetailInfo.link_clone=t.link_clone,e.cloudDetailInfo.link_id=t.link_id,e.cloudDetailInfo.link_type=t.link_type,e.cloudDetailInfo.link_file=t.link_file,e.cloudDetailInfo.console=t.console,e.cloudDetailInfo.transparent=t.transparent,e.cloudDetailInfo.image_group_id=t.image_group_id,e.cloudDetailInfo.reset_flow_day=t.reset_flow_day,e.cloudDetailInfo.traffic_start_time=t.traffic_start_time.substr(5,5).replace("-",e.$t("common.month1")),-1!==t.operate_system.indexOf("window")||-1!==t.operate_system.indexOf("Window")?e.cloudDetailInfo.isWindows=!0:e.cloudDetailInfo.isWindows=!1,e.cloudDetailInfo.video2d=parseInt(t.video2d),e.cloudDetailInfo.video3d=parseInt(t.video3d),e.cloudDetailInfo.qemu=t.qemu,e.cloudDetailInfo.qemu_version=t.qemu_version,e.cloudDetailInfo.default_qemu_version_show=t.default_qemu_version_show,e.cloudDetailInfo.simulate_physical_machine=t.simulate_physical_machine,t.network.forEach((function(t,a){if(t.bridge="ovs-ext"===t.bridge?e.$t("common.Extranet"):"ovs-int"===t.bridge?e.$t("common.internalNetwork"):"/",t.type=a?e.$t("admin.classicNetwork"):e.$t("admin.vpcNetwork"),"object"===Object(c["a"])(t.ipaddress)){var o=t.ipaddress.reduce((function(e,t){return e.push(t.ip_name),e}),[]);t.clacip=Array.from(new Set(o)).reduce((function(e,a){return e.push({ip_name:a,ip:t.ipaddress.filter((function(e){return e.ip_name===a}))}),e}),[])}})),e.netTableData=t.network,t.ipv6.forEach((function(t){e.netTableData[0].ipaddress.push(t)})),t.ipv6.length>0&&e.netTableData[0].clacip.push({ip:-1,ipv6:t.ipv6}),e.diskTableData=t.disk,e.rescue=t.rescue,e.cloudDetailInfo.single_ip_nat=t.single_ip_nat,"host"!==e.cloudDetailInfo.type||e.isCursomerVersion||(e.getInterfaceList(),e.getNetList(),e.getIpByCloud(),e.getElasticByCloud()),e.diskTableData.forEach((function(t){var a="system"===t.type?e.$t("common.systemDisk"):"data"===t.type?e.$t("cloud.dataDisk"):"/";return t.typeAndSize="".concat(a,"{").concat(t.size,"G}"),t}));var a=e.netTableData[0].ipaddress,o=a.reduce((function(e,t){return e.push(t.ip_name),e}),[]);e.calcIpList=Array.from(new Set(o)).reduce((function(t,o,s){var i=a.filter((function(e){return e.ip_name===o}));return t.push({id:s,ip:"".concat(o,"（").concat(e.$t("area.ipQuantity"),":").concat(i.length,"）"),ipArr:i.map((function(e){return e.ip=e.ipaddress,e}))}),t}),[]),setTimeout((function(){e.$refs.ComputerInfoLogData.getTaskInfo(),e.$refs.computerInfoMoudle.created(),e.$refs.ComputerInfoMoudleIp.created()}),0)}),(function(e){}));case 3:case"end":return t.stop()}}),t)})))()},getCloudUseStore:function(){var e=this;if(0!==this.id){var t={id:this.id};this.$api.getUseStore(t).then((function(t){e.diskStoreSelectOptions=t||[],t.length&&(e.addDiskForm.store=t[0].id)}))}},getIPV6Config:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p["a"].getIPConfigReq();case 2:a=t.sent,e.ipv6_enable=a.ipv6_enable;case 4:case"end":return t.stop()}}),t)})))()},handleClickVnc:function(){var e=this;if(!this.isSuspend()){var t={id:this.id};this.$api.mainframeVnc(t).then((function(t){var a;if(e.isCursomerVersion){var o=t.url.indexOf("?");a=-1!==o?"&":"?",window.open(t.url+a+"lang="+e.$i18n.locale)}else if(t.vnc_url&&!t.redirect){var s=encodeURIComponent(t.password);window.open("".concat(d["a"],"/novnc?token=").concat(t.token,"&vnc_token=").concat(t.vnc_pass,"&host_token=").concat(s,"&path=").concat(t.path,"&lang=").concat(e.$i18n.locale,"&ip=").concat(t.ip))}else{var i=window.location.protocol,r=i.indexOf("https");if(-1!==r){var n=t.vnc_url_https.indexOf("?");a=-1!==n?"&":"?",window.open(t.vnc_url_https+a+"lang="+e.$i18n.locale)}else{var c=t.vnc_url_http.indexOf("?");a=-1!==c?"&":"?",window.open(t.vnc_url_http+a+"lang="+e.$i18n.locale)}}})).catch((function(t){t.data.error=t.data.error===e.$t("common.vncIsNotEnabled")?e.$t("common.notEnableConsole"):t.data.error,e.$message.error(t.data.error)}))}},deleteNetwork:function(e){this.deleteRowInfo=e,this.isSuspend()||(this.dialogDeleteShow=!0)},deleteIntranetNetWork:function(){var e=this,t={id:this.deleteRowInfo.id};this.$api.deleteIntranetNetWork(t).then((function(t){setTimeout((function(){e.refreshNetwork(),e.$message({message:e.$t("common.deleteSuccess"),type:"success"})}),2e3)})).catch((function(t){e.$message.error(t.data.error)}))},bwFormatter:function(e){return e.in_bw||(e.in_bw=0),e.out_bw||(e.out_bw=0),"".concat(e.in_bw," / ").concat(e.out_bw,"Mbps")},deleteDisk:function(e){var t=this;if(!this.isSuspend()){var a={id:e.id};1===e.create_with_host?this.$swal.fire({title:this.$t("common.msg20")+e.name+this.$t("common.msg21"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.value&&t.$api.deleteDisk(a).then((function(e){t.getCloudComputerInfo(),t.$message({message:t.$t("common.deleteSuccess"),type:"success"})})).catch((function(e){t.$message.error(e.data.error)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):(this.rowInfo=e,this.isShowDelDisk=!0,this.custom=this.$t("nat.sure")+this.$t("common.disk")+e.name+this.$t("common.msg41"))}},submitDeleteDisk:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.rowInfo,o=e.diskChecked?1:0,t.next=5,h["a"].deleteDisk({id:a.id,force:o});case 5:e.$message({message:e.$t("common.deleteSuccess"),type:"success"}),e.getCloudComputerInfo(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.$message.error(t.t0.data.error);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},changeDisk:function(e){var t=this;this.isSuspend()||("system"!==e.type?e.status?this.$swal.fire({title:this.$t("common.msg23"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(o){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:o.value&&(s={id:e.id,cloud:t.id},t.$api.uninstallDisk(s).then((function(e){t.getCloudComputerInfo(),t.$notify({title:t.$t("common.success"),message:t.$t("common.msg24"),type:"success",offset:80})})).catch((function(e){t.$notify({title:t.$t("common.fail"),message:e.data.error,type:"error",offset:80})})));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()):(this.handleClickDialogShow(this.$t("admin.mount1"),"mount",!0,e),this.formData.cloud=this.cloudDetailInfo.hostname,this.getCloudList()):this.$message({type:"warning ",message:this.$t("common.msg22")}))},getCloudList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.clouds({user:e.cloudDetailInfo.user_id,node:e.cloudDetailInfo.node_id,page:1,per_page:1e3});case 3:a=t.sent,a.data?e.cloudList=a.data.filter((function(t){return t.isActive=!1,t.id===e.cloudDetailInfo.id&&(t.isActive=!0),t})):e.cloudList=[],t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},reviseNetwork:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var o,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.isSuspend()){a.next=2;break}return a.abrupt("return");case 2:if(t.dataRow=e,t.isCardMsgShow=!1,e.type!==t.$t("admin.vpcNetwork")){a.next=19;break}t.networkTableEdit=!0,t.networkForm.id=e.id,t.ipshow=e.bridge===t.$t("common.internalNetwork"),t.networkForm.mac=e.mac,t.networkForm.ipaddress=e.ipaddress,t.networkForm.niccard_name=e.niccard_name,t.networkForm.in_bw=t.cloudDetailInfo.default_bw_group.in_bw,t.networkForm.out_bw=t.cloudDetailInfo.default_bw_group.out_bw,t.networkForm.mainip=t.cloudDetailInfo.mainip,t.networkForm.niccard=e.niccard,t.networkForm.bind_mac=e.bind_mac,t.cloudDetailInfo.ip.forEach((function(e){e.ipaddress===t.cloudDetailInfo.mainip&&(t.networkForm.mainip=e.id)})),a.next=39;break;case 19:return s=t.netWorkList.find((function(t){return t.id===e.vpc})),a.next=22,t.getIpByCloud(e.id,e.mac);case 22:e.ipaddress.forEach((function(e){t.ipSelectOptions.forEach((function(a,o){var s=a.ip.findIndex((function(t){return t.id===e.id}));-1!==s&&(t.addNetWorkForm.ip_id1=o)})),e.id&&t.addNetWorkForm.ip_id.push(e.id)})),t.isAddNetwork=!1,t.addNetWorkForm.name=s.name,t.addNetWorkForm.network_id=s.id,t.addNetWorkForm.vlan=s.vlan,i=s.net.find((function(e){return e.node_id===t.cloudDetailInfo.node_id})),t.addNetWorkForm.net_id=i.id||0,t.curBrigeType=null===(o=t.interfaceList.filter((function(e){return e.id===t.addNetWorkForm.net_id}))[0])||void 0===o?void 0:o.bridge_type,t.isNetDisabled=!!i.id,t.addNetWorkForm.network_type=s.network_type,t.addNetWorkForm.ips=s.ips,t.addNetWorkForm.niccard=e.niccard,t.addNetWorkForm.in_bw=e.in_bw,t.addNetWorkForm.out_bw=e.out_bw,t.addNetWorkForm.mac=e.mac,t.addNetWorkForm.bind_mac=e.bind_mac,t.networkTableAdd=!0;case 39:case"end":return a.stop()}}),a)})))()},editDisk:function(e){this.isSuspend()||("system"===e.type?this.diskSizeShow=!1:this.diskSizeShow=!0,this.oldRow=e,this.oldRow.agree=!1,this.diskTableEdit=!0,this.diskForm.id=e.id,this.diskForm.size=e.size,this.editInfo.size=e.size,this.dataRow=e,this.diskForm.driver=e.driver,this.diskForm.cache=e.cache,this.diskForm.io=e.io,this.diskForm.read_bytes_sec=e.read_bytes_sec,this.diskForm.write_bytes_sec=e.write_bytes_sec,this.diskForm.read_iops_sec=e.read_iops_sec,this.diskForm.write_iops_sec=e.write_iops_sec,this.diskForm.read_bytes_sec_max=e.read_bytes_sec_max,this.diskForm.write_bytes_sec_max=e.write_bytes_sec_max,this.diskForm.read_iops_sec_max=e.read_iops_sec_max,this.diskForm.write_iops_sec_max=e.write_iops_sec_max,this.diskForm.iops_max=e.iops_max,this.diskForm.iops_min=e.iops_min,this.diskForm.create_with_host=e.create_with_host,this.diskForm.delete_with_host=e.delete_with_host)},editMianIp:function(e,t){var a=this,o={id:this.id,ip:parseInt(e),version:t};this.$api.settingMainIp(o).then((function(e){a.refreshCloudInfo()}),(function(e){e.data&&a.$message.error(e.data.error)})).catch((function(e){e.data&&a.$message.error(e.data.error)}))},submitNetworkEdit:function(){var e=this;this.$refs.networkForm.validate(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){var o,s,i,r,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=38;break}if(t.prev=1,o=!1,s=!0,r={},"adsl"!==e.cloudDetailInfo.type){t.next=10;break}r.mac=e.networkForm.mac,r.id=e.cloudDetailInfo.default_bw_group.id,t.next=20;break;case 10:if(r={id:e.cloudDetailInfo.default_bw_group.id,in_bw:parseInt(e.networkForm.in_bw),out_bw:parseInt(e.networkForm.out_bw)},e.cloudDetailInfo.ip.forEach((function(t){t.id===e.networkForm.mainip&&(i=t.ipaddress,i!==e.cloudDetailInfo.mainip&&e.editMianIp(t.id,"v4"))})),e.cloudDetailInfo.ipv6.forEach((function(t){t.id===e.networkForm.mainip&&(i=t.ipv6,i!==e.cloudDetailInfo.mainip&&e.editMianIp(t.id,"v6"))})),e.isAgent||!e.isCursomerVersion){t.next=18;break}return e.networkTableEdit=!1,e.$message.success(e.$t("common.updateSuccess")),e.refreshCloudStatus(),t.abrupt("return");case 18:return t.next=20,e.$api.editRateLimitGroup(r).then((function(e){o=!0}));case 20:if(e.networkForm.mac===e.dataRow.mac&&!e.isCardMsgShow){t.next=26;break}return s=!1,n={id:e.networkForm.id,mac:e.networkForm.mac,niccard:e.networkForm.niccard},t.next=25,u["a"].updateNetworkMacReq(n);case 25:s=!0;case 26:if(e.networkForm.bind_mac===e.dataRow.bind_mac){t.next=32;break}return s=!1,c={id:e.cloudDetailInfo.id,bind_mac:e.networkForm.bind_mac},t.next=31,u["a"].updateIPMacCloudReq(c);case 31:s=!0;case 32:(o||s)&&(e.networkTableEdit=!1,e.$message.success(e.$t("common.updateSuccess")),e.refreshCloudInfo(),e.refreshCloudStatus()),t.next=38;break;case 35:t.prev=35,t.t0=t["catch"](1),e.$message.error(t.t0.data.error);case 38:case"end":return t.stop()}}),t,null,[[1,35]])})));return function(e){return t.apply(this,arguments)}}())},submitDiskEdit:function(){var e=this;this.$refs.diskForm.validate((function(t){if(t){var a={id:parseInt(e.diskForm.id),size:parseInt(e.diskForm.size),driver:e.diskForm.driver,cache:e.diskForm.cache,io:e.diskForm.io,read_bytes_sec:e.diskForm.read_bytes_sec,write_bytes_sec:e.diskForm.write_bytes_sec,read_iops_sec:e.diskForm.read_iops_sec,write_iops_sec:e.diskForm.write_iops_sec,read_bytes_sec_max:e.diskForm.read_bytes_sec_max,write_bytes_sec_max:e.diskForm.write_bytes_sec_max,read_iops_sec_max:e.diskForm.read_iops_sec_max,write_iops_sec_max:e.diskForm.write_iops_sec_max,iops_max:e.diskForm.iops_max,iops_min:e.diskForm.iops_min};e.$api.editDisk(a).then((function(t){e.diskTableEdit=!1,e.getCloudComputerInfo(),e.$message({message:e.$t("common.updateSuccess"),type:"success"})}),(function(t){e.$message.error(t.data.error)}))}}))},addNetWork:function(){var e=this;this.isSuspend()||(this.addNetWorkForm.niccard=3,this.netTableData.forEach((function(t){return t.bridge===e.$t("common.Extranet")&&(e.networkSelectOptions=[{name:e.$t("common.internalNetwork"),type:0}]),t})),this.randomMac("addNetWorkForm"),this.isNetMsgShow=!0,this.isAddNetwork=!0,this.networkTableAdd=!0)},changeEdit:function(e){var t=[];this.dataRow.ipaddress&&this.dataRow.ipaddress.forEach((function(e){t.push(e.id)})),"mac"===e&&this.dataRow.mac!==this.addNetWorkForm.mac||"ip"===e&&JSON.stringify(t)!==JSON.stringify(this.addNetWorkForm.ip_id)?this.isNetMsgShow=!0:this.isNetMsgShow=!1},getInterfaceList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m["a"].getNetworkData(e.cloudDetailInfo.node_id,{type:"bridge",is_add:1,remote_get:!1});case 3:a=t.sent,o=a.data,e.interfaceList=o,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},getNetList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].getNetList({uid:e.cloudDetailInfo.user_id,node:e.cloudDetailInfo.node_id,per_page:999999});case 3:a=t.sent,o=a.data,e.netWorkList=o,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},getIpByCloud:function(e,t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){var s;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return s={interfaceid:e||"",mac:t||"",node:a.cloudDetailInfo.node_id,rid:a.cloudDetailInfo.resource_package?a.cloudDetailInfo.resource_package.id:""},o.next=3,a.$api.getIpByNode(s);case 3:a.ipSelectOptions=o.sent;case 4:case"end":return o.stop()}}),o)})))()},getElasticByCloud:function(e,t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){var s;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return s={interfaceid:e||"",mac:t||"",node:a.cloudDetailInfo.node_id,rid:a.cloudDetailInfo.resource_package?a.cloudDetailInfo.resource_package.id:"",uid:a.cloudDetailInfo.user_id},o.next=3,a.$api.getIpByNode(s);case 3:a.elasticSelectOptions=o.sent;case 4:case"end":return o.stop()}}),o)})))()},changeNetWork:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a="","vpc"===e.cloudInfo.network_type?e.$refs.formData.validateField(["isAgree"],(function(e){a=e})):e.$refs.formData.validateField(["isAgree","vpc","vpc_ips"],(function(e){a=e})),!a){t.next=4;break}return t.abrupt("return");case 4:return o={vpc:e.formData.vpc,vpc_ips:e.formData.vpc_ips},t.prev=5,t.next=8,u["a"].changeNetworkType(e.id,o);case 8:e.isChangeNetworkShow=!1,e.$message.success(e.$t("common.switch1")),e.getCloudComputerInfo(),t.next=15;break;case 13:t.prev=13,t.t0=t["catch"](5);case 15:case"end":return t.stop()}}),t,null,[[5,13]])})))()},cancelNetAdd:function(){this.networkTableAdd=!1},submitAddNetwork:function(){var e=this,t={};this.$refs.addNetWorkForm.validate((function(a){if(a){for(var o in e.addNetWorkForm)-1!==e.addNetWorkForm[o]&&"ip_id1"!==o&&(t[o]=e.addNetWorkForm[o]);"private"===t.network_type?(delete t.ip_id,0===t.net_id&&delete t.vlan):"public"===t.network_type&&delete t.ips,t.ip_type=-1===e.addNetWorkForm.ip_id1?"elastic":"normal",!0===e.isAddNetwork?(t.id=e.id,e.$api.addIntranetNetwork(t).then((function(t){e.networkTableAdd=!1,setTimeout((function(){e.getCloudComputerInfo(),e.refreshCloudStatus(),e.$message({message:e.$t("common.addCardSuccess"),type:"success"})}),8e3)}),(function(t){e.$message.error(t.data.error)}))):(t.ip_id=(t.ip_id||[]).filter((function(e){return null!==e&&void 0!==e})),t.id=e.dataRow.id,e.$api.editIntranetNetwork(t).then((function(t){e.networkTableAdd=!1,setTimeout((function(){e.getCloudComputerInfo(),e.refreshCloudStatus(),e.$message({message:e.$t("common.editCardSuccess"),type:"success"})}),2e3)}),(function(t){e.$message.error(t.data.error)})))}}))},refreshNetwork:function(){var e=this,t={id:this.id};this.$api.cloudsDeatil(t).then((function(t){e.netTableData=t.network,e.netTableData.forEach((function(t,a){return t.bridge="ovs-ext"===t.bridge?e.$t("common.Extranet"):"ovs-int"===t.bridge?e.$t("common.internalNetwork"):"/",t.type=a?e.$t("admin.classicNetwork"):e.$t("admin.vpcNetwork"),t}))}))},onCopy:Object(v["b"])((function(){this.$message({message:this.$t("common.copyIpSuccess"),type:"success"})})),onError:Object(v["b"])((function(){this.$message({message:this.$t("common.copyIpFailed"),type:"error"})})),addShowIp:function(e){return 1===parseInt(e)?(this.addIpshowDom=!0,!0):(this.addIpshowDom=!1,!1)},addDisk:function(){this.isSuspend()||(this.diskRadio=0,this.addDiskForm.driver=this.diskTableData[0].driver,this.addDiskForm.cache=this.diskTableData[0].cache,this.addDiskForm.io=this.diskTableData[0].io,this.diskTableAdd=!0,this.getDiskList(),this.getStoreList())},cancelDiskAdd:function(){this.diskTableAdd=!1,this.$refs.addDiskForm.resetFields()},submitAddDisk:function(){var e=this,t={id:this.id,size:parseInt(this.addDiskForm.size),store:parseInt(this.addDiskForm.store),driver:this.addDiskForm.driver,cache:this.addDiskForm.cache,io:this.addDiskForm.io};"hyperv"===this.cloudDetailInfo.type&&(t.driver="",t.cache="",t.io="");var a={id:this.addDiskForm.disk_id,cloud:this.id,store_id:parseInt(this.addDiskForm.store_id),driver:this.addDiskForm.driver,cache:this.addDiskForm.cache,io:this.addDiskForm.io};this.$refs.addDiskForm.validate((function(o){if(!o)return!1;0===e.diskRadio?e.$api.addDisk(t).then((function(t){e.diskTableAdd=!1,e.$message.success(e.$t("common.msg27")),setTimeout((function(){e.getCloudComputerInfo()}),2e3),setTimeout((function(){e.getCloudComputerInfo(),e.$message.success(e.$t("common.msg28"))}),28e3),e.addDiskForm.size=null,e.addDiskForm.id=null}),(function(t){e.$message.error(t.data.error)})):e.mountDiskProduct(a)}))},mountDiskProduct:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h["a"].cloudMountDisk(e);case 3:t.$message.success(t.$t("common.msg27")),t.diskTableAdd=!1,setTimeout((function(){t.getCloudComputerInfo()}),2e3),setTimeout((function(){t.getCloudComputerInfo(),t.$message.success(t.$t("common.msg26"))}),28e3),t.addDiskForm.size=null,t.addDiskForm.id=null,t.addDiskForm.store_id="",t.addDiskForm.disk_id="",a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](0),t.$message.error(a.t0.data.error);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})))()},residue:function(e){var t=0;return!!this.cloudDetailInfo.resource_package&&(!this.cloudDetailInfo.resource_package[e]||(t=this.cloudDetailInfo.resource_package[e]-this.cloudDetailInfo.resource_package[e+"_used"],t>0))},changeMigShow:function(){this.migShow=!1},handleClickSystem:function(e){var t=this,a={id:this.id};switch(e){case"restart":if(this.isSuspend())return;this.$swal.fire({title:this.$t("common.msg29"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.value&&(t.$swal.fire("",t.$t("common.restarting"),"success"),t.$api.mainframeReStart(a).then((function(){t.refreshStatus(),t.exceptStatus="on",t.$api.cloudsDeatil(a).then((function(){}))})).catch((function(e){t.$notify({title:t.$t("common.fail"),message:e.data.error,type:"error",offset:80})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());break;case"hardRestart":if(this.isSuspend())return;this.$swal.fire({title:this.$t("common.msg29"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.value&&(t.$swal.fire("",t.$t("common.hardting"),"success"),t.$api.mainframeHardReboot({id:t.id}).then((function(e){t.refreshStatus(),t.exceptStatus="on"})).catch((function(e){t.$notify({title:t.$t("common.fail"),message:e.data.error,type:"error",offset:80})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());break;case"pause":this.$swal.fire({title:this.$t("common.msg30"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.value&&t.$api.mainframePause(a).then((function(e){t.$swal.fire("",t.$t("common.beSuspended"),"success"),t.refreshStatus(),t.exceptStatus="suspend",t.$api.cloudsDeatil(a).then((function(e){}))})).catch((function(e){t.$message.error(e.data.error)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());break;case"paused":this.$swal.fire({title:this.$t("common.msg31"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.value&&(t.$swal.fire("",t.$t("common.releaseHanging"),"success"),t.$api.mainframeResume(a).then((function(e){t.refreshStatus(),t.exceptStatus="on",t.$api.cloudsDeatil(a).then((function(e){}))})).catch((function(e){t.$notify({title:t.$t("common.fail"),message:e.data.error,type:"error",offset:80})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());break;case"unSuspend":this.$swal.fire({title:this.$t("common.msg32"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.value&&(t.$swal.fire("",t.$t("common.cancellation"),"success"),t.$api.mainframeCancelPause(a).then((function(e){t.refreshStatus(),t.exceptStatus="on",t.$api.cloudsDeatil(a).then((function(e){}))})).catch((function(e){t.$notify({title:t.$t("common.fail"),message:e.data.error,type:"error",offset:80})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());break;case"close":this.$swal.fire({title:this.$t("common.determineShutdown"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.value&&(t.$swal.fire("",t.$t("common.shutdown1"),"success"),t.$api.mainframeClose(a).then((function(e){t.refreshStatus(),t.exceptStatus="off",t.$api.cloudsDeatil(a).then((function(e){}))})).catch((function(e){t.$notify({title:t.$t("common.fail"),message:e.data.error,type:"error",offset:80})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());break;case"hardoff":this.$swal.fire({title:this.$t("common.msg33"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.value&&(t.$swal.fire("",t.$t("common.shutdown1"),"success"),t.$api.hardOff(a).then((function(e){t.refreshStatus(),t.exceptStatus="off",t.$api.cloudsDeatil(a).then((function(e){}))})).catch((function(e){t.$notify({title:t.$t("common.fail"),message:e.data.error,type:"error",offset:80})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());break;case"open":this.$swal.fire({title:this.$t("common.msg34"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.value&&(t.$swal.fire("",t.$t("common.boot"),"success"),t.$api.mainframeOpen(a).then((function(e){t.refreshStatus(),t.exceptStatus="on",t.$api.cloudsDeatil(a).then((function(e){}))})).catch((function(e){t.$notify({title:t.$t("common.fail"),message:e.data.error,type:"error",offset:80})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());break;case"migration":this.refreshStatus(),this.exceptStatus="off";break;case"rescue":if(this.isSuspend())return;this.$api.mainframeRescue(Object(i["a"])({type:this.formData.type,temp_pass:this.formData.temp_pass},a)).then((function(){t.$swal.fire("",t.$t("common.msg35"),"success"),t.dialog.show=!1,t.loadingStatus=!0,t.refreshStatus(!1),t.exceptStatus="on",t.exportRescue=!0})).catch((function(e){t.$notify({title:t.$t("common.fail"),message:e.data.error})}));break;case"offRescue":if(this.isSuspend())return;this.$swal.fire({title:this.$t("common.msg36"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.value&&(t.$swal.fire("",t.$t("common.msg37"),"success"),t.$api.mainframeRescued(a).then((function(){t.loadingStatus=!0,t.refreshStatus(!1),t.exceptStatus="on",t.exportRescue=!0})).catch((function(e){t.$notify({title:t.$t("common.fail"),message:e.data.error})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());break;default:break}},storeFormatter:function(e){return"local"===e.store_type?"".concat(e.store_name," - ").concat(this.$t("common.local")):"".concat(e.store_name," - ").concat(e.store_type)},rowStyle:function(e){e.row,e.rowIndex;var t={height:"43px"};return t},refreshStatus:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];clearTimeout(this.timeOut),clearInterval(this.timeInterval),t&&this.getCloundStatus(),this.timeInterval=setInterval(this.getCloundStatus,3e3),this.timeOut=setTimeout((function(){clearInterval(e.timeInterval)}),12e4)},resetFloatGroupForm:function(){var e=this;this.networkForm={id:null,mac:null,bridge:null,ipaddress:"",niccard_name:"",in_bw:null,out_bw:null,mainip:null,bind_mac:1},this.isAddFloatGourp=!1,this.floatIpForm={id:void 0,ip:void 0,agree:!1},setTimeout((function(){e.$refs.floatIpForm&&e.$refs.floatIpForm.clearValidate(),e.$refs.networkForm&&e.$refs.networkForm.clearValidate()}),0),this.floatIpForm.ip=[],this.selectValue=[],this.curCheck=[],this.$refs.tree.setCheckedKeys([]),this.$refs.tree.filter("")},handleClickMainbutton:function(){this.loadingStatus=!0,this.refreshStatus()},getCloundStatus:function(e){var t=this;this.$api.getCloundStatus(this.id).then((function(a){t.loadingStatus=!1,"[object Function]"===Object.prototype.toString.call(e)&&e(a),a.task?(t.taskStatus=2,"on"===a.task?(t.status="waitOn",t.mainbuttonAlt=t.$t("common.waitingForBoot")):"off"===a.task?(t.status="waitOff",t.mainbuttonAlt=t.$t("common.waitingToShutDown")):"cloud_create"===a.task?(t.status="init",t.mainbuttonAlt=t.$t("common.exampleCreates")):"cloud_reinstall"===a.task?(t.status="reinstall",t.mainbuttonAlt=t.$t("common.instanceReload")):"migrate"===a.task?(t.status="migrate",t.mainbuttonAlt=t.$t("common.instanceMigration")):"snap_restore"===a.task?(t.status="snap_restore",t.mainbuttonAlt=t.$t("common.snapshotRestore")):"backup_restore"===a.task?(t.status="backup_restore",t.mainbuttonAlt=t.$t("common.backupRestore")):"rescue"===a.task?(t.loadingStatus=!0,t.status="rescue",t.mainbuttonAlt=t.$t("common.enterTheRescueSystem")):"close_rescue"===a.task?(t.loadingStatus=!0,t.status="close_rescue",t.mainbuttonAlt=t.$t("common.exitTheRescueSystem")):(t.loadingStatus=!0,t.status=a.status,t.mainbuttonAlt=a.task_name)):("on"===a.status?(t.mainbuttonAlt=t.$t("common.startingUp"),t.exportRescue&&t.$api.cloudsDeatil({id:t.id}).then((function(e){return t.rescue=e.rescue}))):"off"===a.status?(t.mainbuttonAlt=t.$t("common.shutDown1"),t.exportRescue&&(t.$api.cloudsDeatil({id:t.id}).then((function(e){return t.rescue=e.rescue})),t.exportRescue=!1)):"unknown"===a.status?t.mainbuttonAlt=t.$t("common.unknown"):"wait_reboot"===a.status?t.mainbuttonAlt=t.$t("common.waitingToRestart"):"suspend"===a.status?(t.mainbuttonAlt=t.$t("common.suspend"),"traffic"===t.cloudDetailInfo.suspend_type&&(t.mainbuttonAlt=t.$t("common.excessiveTraffic1"))):"paused"===a.status?t.mainbuttonAlt=t.$t("common.hang"):"hot_migrate"===a.status?t.mainbuttonAlt=t.$t("common.hotMigration"):"cold_migrate"===a.status&&(t.mainbuttonAlt=t.$t("common.coldMigration")),2===t.taskStatus&&(t.getCloudComputerInfo(),t.taskStatus=0),t.status=a.status)}))},refreshCloudInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCloudComputerInfo();case 2:"adsl"===e.cloudDetailInfo.type&&e.getCloudNatTranspond(),e.isCursomerVersion||e.getCloudUseStore();case 4:case"end":return t.stop()}}),t)})))()},resize:function(){var e=this;setTimeout((function(){e.$refs.flowEcharts.resize(e.activeEchartsName)}),200),"en-us"===this.$i18n.locale&&document.body.clientWidth<=1730||document.body.clientWidth<=1350?this.spanNum=24:this.spanNum=12},getStatistics:function(){var e=this,t={host_id:this.id};this.netTableData.length&&(t.kvm_ifname=this.netTableData.filter((function(t){return t.bridge===e.$t("common.Extranet")}))[0].name),this.$api.getNetInfo(t).then((function(t){if(t.constructor===Object||t.length){for(var a in e.flowInfo.tmp_traffic=t.meta.tmp_traffic,e.flowInfo.traffic_quota=t.meta.traffic_quota,e.flowInfo.traffic_type=t.meta.traffic_type,t.info)for(var o in t.info[a]){var s=e.$refs.flowEcharts.getLogNum(t.info[a][o],0),i="B";0===s.power?i="B":1===s.power?i="KB":2===s.power?i="MB":3===s.power?i="GB":4===s.power&&(i="TB"),"float"!==o&&(t.info[a][o]=(t.info[a][o]/s.divisor).toFixed(2)+i)}e.flowStatistics=[{type:e.$t("common.toDay"),accept:t.info.to_day.accept,send:t.info.to_day.send,total:t.info.to_day.total,percent:t.info.to_day.float.toFixed(2)+"%"},{type:e.$t("common.sevenDay1"),accept:t.info["7_day"].accept,send:t.info["7_day"].send,total:t.info["7_day"].total,percent:t.info["7_day"].float.toFixed(2)+"%"},{type:e.$t("common.thisMonth"),accept:t.info.to_month.accept,send:t.info.to_month.send,total:t.info.to_month.total,percent:t.info.to_month.float.toFixed(2)+"%"},{type:e.cloudDetailInfo.traffic_start_time+e.$t("common.number7")+e.$t("common.toNow"),accept:t.info["30_day"].accept,send:t.info["30_day"].send,total:t.info["30_day"].total,percent:t.info["30_day"].float.toFixed(2)+"%"}]}}))},clearFlow:function(e){var t=this;this.flowInfoModel.type=e,"clear"===e?this.$swal.fire({title:this.$t("common.msg38"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then((function(e){e.isConfirmed&&(t.flowInfoModel.type="clear",t.updateCloud())})):"limit"===e&&(this.flowInfoModel.tmp_traffic=this.flowInfo.tmp_traffic,this.flowInfoModel.traffic_quota=this.flowInfo.traffic_quota,this.flowInfoModel.traffic_type=this.flowInfo.traffic_type,this.flowInfoModel.reset_flow_day=this.cloudDetailInfo.reset_flow_day,this.flowInfoModel.show=!0,this.flowInfoModel.title=this.$t("common.billingSettings"))},ResetNet:function(){var e=this;this.$confirm(this.$t("common.resetTrafficMsg")+"?",this.$t("common.tips"),{confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel"),type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={id:e.id,resume:0},t.next=3,u["a"].resetTrafficReq(a);case 3:e.getStatistics(),e.$message.success(e.$t("common.resetTraffic")+e.$t("common.success"));case 5:case"end":return t.stop()}}),t)})))).catch((function(){}))},RestoreNet:function(){var e=this;this.$swal.fire({title:this.$t("common.determine")+this.$t("common.RestoreTheNetwork"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.isConfirmed){t.next=3;break}return t.next=3,u["a"].RestoreNetworkReq(e.id);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},ResetBw:function(){var e=this;this.$swal.fire({title:this.$t("common.determine")+this.$t("common.RecoveryBw"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.isConfirmed){t.next=4;break}return t.next=3,u["a"].resetBw(e.id);case 3:e.getCloudComputerInfo();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},updateCloud:function(){var e=this;this.$refs.flowInfoModelRef.validate((function(t){if(t){var a={id:e.id};"clear"===e.flowInfoModel.type?a.tmp_traffic=0:"limit"===e.flowInfoModel.type&&(a.tmp_traffic=e.flowInfoModel.tmp_traffic,a.traffic_type=e.flowInfoModel.traffic_type,a.traffic_quota=e.flowInfoModel.traffic_quota,a.reset_flow_day=e.flowInfoModel.reset_flow_day),e.flowInfoModel.show=!1,e.$api.upCloud(a).then((function(t){"clear"===e.flowInfoModel.type?e.$message.success(e.$t("common.clearSuccess")):"limit"===e.flowInfoModel.type&&(e.$message.success(e.$t("common.updateSuccess")),e.cloudDetailInfo.reset_flow_day=a.reset_flow_day),e.getStatistics()})).catch((function(t){e.$message.error(t.data.error)}))}}))},getVpcList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].vpcNetworksReq({node:e.cloudDetailInfo.node_id,user:e.cloudDetailInfo.user_id,list_type:"all"});case 2:a=t.sent,a&&(e.vpcNetwork=a.data.filter((function(t){return t.name!==e.cloudInfo.vpc_name})));case 4:case"end":return t.stop()}}),t)})))()},handleClickDialogShow:function(e,t){var a=arguments,o=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(i=!(a.length>2&&void 0!==a[2])||a[2],n=a.length>3?a[3]:void 0,"lock"!==t&&"unlock"!==t||o.isAgent||!o.isCursomerVersion){s.next=4;break}return s.abrupt("return");case 4:if(i&&(o.dialog.show=!0,o.dialog.title=e,o.dialog.type=t,o.dialog.width="620px",o.dialog.row=n),"clone"!==t){s.next=14;break}o.openSsh=0,o.formData.cpu=o.cloudInfo.cpu,o.formData.memory=o.cloudInfo.memory,o.formData.ip_num=o.cloudInfo.ip_num,o.getSsh(),o.formData.data_disk_config=o.cloudDetailInfo.disk.map((function(e){return{id:e.id,size:e.size,copy:!1}})),s.next=45;break;case 14:if("updateVpc"!==t){s.next=18;break}o.getVpcList(),s.next=45;break;case 18:if("remark"!==t){s.next=22;break}o.formData.remark=o.cloudDetailInfo.remark,s.next=45;break;case 22:if("rescue"!==t){s.next=27;break}o.formData.type=1===o.cloudDetailInfo.svg?1:2,o.randomTempPassword(),s.next=45;break;case 27:if("lock"!==t){s.next=31;break}o.$confirm(o.$t("common.msg39"),o.$t("common.tips"),{confirmButtonText:o.$t("common.sure"),cancelButtonText:o.$t("common.cancel"),type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["a"].lockCloudReq(o.cloudDetailInfo.id);case 3:o.$message.success(o.$t("common.lockInstanceSuccess")),o.refreshCloudInfo(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),o.$message.error(o.$t("common.lockFailed"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),s.next=45;break;case 31:if("unlock"!==t){s.next=44;break}return s.prev=32,s.next=35,u["a"].unLockCloudReq(o.cloudDetailInfo.id);case 35:o.$message.success(o.$t("common.releaseInstanceSuccess")),o.refreshCloudInfo(),s.next=42;break;case 39:s.prev=39,s.t0=s["catch"](32),o.$message.error(o.$t("common.releaseInstanceFailed"));case 42:s.next=45;break;case 44:"mount"===t?o.dialog.width="440px":"migrate"===t&&(o.migShow=!0);case 45:case"end":return s.stop()}}),s,null,[[32,39]])})))()},closeDialog:function(){this.$refs.addNetWorkForm?(this.addNetWorkForm={name:"",network_id:-1,vlan:"",net_id:0,network_type:"private",ip_id1:0,ip_id:[],niccard:1,in_bw:0,out_bw:0,mac:"",bind_mac:1,agree:!1},this.isNetMsgShow=!1,this.isNetDisabled=!1,this.$refs.addNetWorkForm.clearValidate()):this.$refs.formData&&(this.$refs.formData.resetFields(),this.formData.disk=[]),this.isCardMsgShow=!1,this.vpc_ips={vpc1:{tips:this.$t("common.range255"),value:10,select:[10,172,192]},vpc2:0,vpc3:0,vpc3Tips:"",vpc4:0,vpc4Tips:"",vpc6:{value:16,select:[16,17,18,19,20,21,22,23,24,25,26,27,28]},min:0,max:255}},changeSen:function(){this.formData.senior?this.formData.cloud="":this.formData.cloud=this.cloudDetailInfo.hostname+(this.cloudDetailInfo.mainip?"("+this.cloudDetailInfo.mainip+")":"")},submitFormDialog:function(){var e=this;this.$refs.formData.validate((function(t){if(t)switch(e.dialog.type){case"clone":e.cloneCloud();break;case"createModel":e.createModel();break;case"updateVpc":e.updateVpc();break;case"remark":e.updateRemark();break;case"rescue":e.handleClickSystem("rescue");break;case"mount":e.mountDisk();break}}))},mountDisk:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.$store.state.config.edition||!e.formData.senior){t.next=3;break}return e.$message(e.$t("common.msg8")),t.abrupt("return");case 3:if(2!==e.$store.state.config.edition||!e.formData.senior){t.next=6;break}return e.$message(e.$t("common.msg228")),t.abrupt("return");case 6:return t.prev=6,a={id:e.dialog.row.id},e.formData.senior?a.cloud=e.formData.cloud:a.cloud=e.cloudDetailInfo.id,t.next=11,e.$api.mountDisk(a);case 11:o=t.sent,s={id:o.taskid,callback:function(){this.$notify({title:this.$t("common.success"),message:this.$t("common.msg26"),type:"success",offset:80}),this.getCloudComputerInfo()},showMessage:!1},e.$tool.executeTask(e,s),e.dialog.show=!1,t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](6),e.$notify({title:e.$t("common.fail"),message:t.t0.data.error,type:"error",offset:80});case 20:case"end":return t.stop()}}),t,null,[[6,17]])})))()},randomPortClick:function(){this.$refs.reInstallForm.clearValidate("port"),this.reInstallForm.port=this.$tool.randomNum(1e4,2e4)},cloneCloud:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={cpu:e.formData.cpu,memory:e.formData.memory,ip_num:e.formData.ip_num,system_disk_size:e.formData.system_disk_size,create_data_disk:e.formData.create_data_disk,data_disk_config:{},dynamic_memory:e.formData.dynamic_memory?1:0,ipv6_num:e.formData.ipv6_num,ssh_key:e.formData.ssh_key},e.cloudDetailInfo.transparent&&(delete a.ipv6_num,delete a.ip_num),1===e.formData.create_data_disk&&e.formData.data_disk_config.forEach((function(e){a.data_disk_config[e.id]=e})),1!==e.cloudDetailInfo.image_group_id&&"hyperv"!==e.cloudDetailInfo.type&&0!==e.openSsh||delete a.ssh_key,t.next=6,u["a"].cloneCloudReq(Object(i["a"])({id:e.id},a));case 6:e.$message.success(e.$t("common.cloningSuccess")),e.dialog.show=!1,e.$router.push({name:"Clouds"});case 9:case"end":return t.stop()}}),t)})))()},createModel:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={name:e.formData.name},t.next=3,u["a"].createModelReq(Object(i["a"])({id:e.id},a));case 3:e.$message.success(e.$t("common.createTaskSuccess")),e.dialog.show=!1,setTimeout((function(){e.$router.push({name:"Template"})}),2e3);case 6:case"end":return t.stop()}}),t)})))()},updateVpc:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={id:e.cloudDetailInfo.id,vpc:e.formData.vpc,vpc_ips:e.formData.vpc_ips},t.next=3,u["a"].updateVpcNetworksReq(a);case 3:e.$message.success(e.$t("common.switchingVpcNetwork")),e.dialog.show=!1,e.loadingStatus=!0,e.refreshStatus(!1);case 7:case"end":return t.stop()}}),t)})))()},updateRemark:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={id:e.cloudDetailInfo.id,remark:e.formData.remark},t.next=3,u["a"].updateCloudBzReq(a);case 3:e.$message.success(e.$t("common.modifyRemarks")),e.dialog.show=!1,e.cloudDetailInfo.remark=e.formData.remark;case 6:case"end":return t.stop()}}),t)})))()},getCloudNatTranspond:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.getCloudNatTranspond({id:e.id,list_type:"all"});case 2:a=t.sent,a&&(e.cloudInfo.ip=a.nat_host_ip+":"+a.data[0].ext_port);case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$route.query.id&&(e.id=parseInt(e.$route.query.id)),t.next=3,e.getCloudComputerInfo();case 3:"adsl"===e.cloudDetailInfo.type&&e.getCloudNatTranspond(),e.isCursomerVersion||(e.getCloudUseStore(),e.getIPV6Config()),e.getCloundStatus((function(t){"cloud_create"===t.task&&(e.refreshStatus(),e.exceptStatus="on")})),setTimeout((function(){e.$refs.flowEcharts.init()}),0),e.getStatistics(),window.addEventListener("resize",e.resize),e.resize();case 10:case"end":return t.stop()}}),t)})))()},destroyed:function(){window.removeEventListener("resize",this.resize),clearTimeout(this.timeOut),clearInterval(this.timeInterval)}},ee=K,te=(a("7b4e"),a("c7c6"),Object(x["a"])(ee,o,s,!1,null,"52d2203c",null));t["default"]=te.exports},d7b4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAAUCAMAAAAEAbViAAAA8FBMVEVHcExLS0tKSkpmZmZbW1tkZGRhYWFoaGhXV1dNTU1sbGxmZmZnZ2djY2M8PDwCAgJERESYmJg7OztmZmZlZWXW1tZsbGxUVFRhYWFubm5qampXV1dUVFQeHh5UVFRdXV1WVlZERERra2tISEhYWFhPT08zMzMCAgIiIiLOzs57e3tERERoaGgpKSlFRUVmZmYCAgJMTEw1NTUCAgICAgIICAgCAgIFBQUuLi49PT1EREQCAgJdRDlKSko8PDxvb29RUVFdXV1ra2toaGhERERkZGRhYWH7+/uMjIy5ubmmpqbFxcV0dHTm5uYTExPy8vKYhukcAAAAPXRSTlMAgBiAAweyEP4fDUP4WNn+r/4z7qP2lpcn92roqhRJ7L/8ue5l/cBL/fn4WE3TbtTg2vE+XHGg9Jx4xrn+8Vz/4AAAAc5JREFUOMu1k2lz2jAQhhefssEYAjW4gMEBAuQgJRdtOjp8yBgI5P//m0pO+gHSzrR0+n7QvqOdR7uy1gD/pOrluvKXiPbTpHRDT2VvWIRPbvrs6+kXfu9gmG9OPoLV16gwtmnrplmcqIkovP3ube03bIoibInoUf+6Takj9z5TaqqU+vqb93/R9OPTA0CPkFiwXuyXAW5pU2bO43NNpXF8Xfg4/og+uO5+AjBPBOsllbIskshaZiV2QE0aSVP6RpIcghd0m9+u8+0TQCPklscLFEzORS0nadigcqPS0MDhTc4P2SnP/VmSz76Dxwg3smz09umNrAmaXEDNDCMrg8FHWXbI9ggmF3n9Zd/eLMeRUN8s9p2or9lRJJpQI2MUtfR+vx1FH0ZjMczpbloPHxHqtjtoUDyE3kFBgDrClVDXRJ0AdS2EjupWt/XN6+uMLO+VMbO0gLFWkWixVndckizragM2YIHF2CG7vKvc7Var3dq1FCzft4TxVdEOXgxxW7K4BnOMh7qFj+b+i+tOV1L7iZKmcjZqaXgmM4s0fJaxlNZACcVipenRdXuTy09SN/cKIZYcvSqpKiLxjZB5wZIawDO5AouQP/k7NPjP+gEvCT1dSZrJTwAAAABJRU5ErkJggg=="},d808:function(e,t,a){},e930:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("el-card",{staticStyle:{position:"relative"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticClass:"font-weight font16",staticStyle:{"margin-bottom":"30px"}},[e._v(" "+e._s(e.$t("cloud.createAnInstance"))+" ")]),a("el-checkbox",{model:{value:e.isAdvance,callback:function(t){e.isAdvance=t},expression:"isAdvance"}},[e._v(e._s(e.$t("cloud.advanced"))+" ")])],1),a("el-form",{ref:"addCloudsForm",attrs:{model:e.addCloudsForm,rules:e.addCloudFormRuls,"label-width":"zh-cn"===e.$i18n.locale?"160px":"220px","label-position":e.$globalConfig.labelPosition}},[e.isAgent?a("el-form-item",{attrs:{label:e.$t("cloud.selectResourcePackage"),prop:e.isAgent?"rid":""}},[a("el-select",{on:{change:e.changeRid},model:{value:e.addCloudsForm.rid,callback:function(t){e.$set(e.addCloudsForm,"rid",t)},expression:"addCloudsForm.rid"}},e._l(e.packageList,(function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1):e._e(),a("el-form-item",{attrs:{label:e.$t("common.nodeType")}},[a("el-select",{on:{change:e.changeType},model:{value:e.addCloudsForm.type,callback:function(t){e.$set(e.addCloudsForm,"type",t)},expression:"addCloudsForm.type"}},e._l(e.filterNodeType,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1)],1),a("el-form-item",{attrs:{label:e.$t("cloud.selectDataCenter"),prop:"area"}},[a("div",{staticClass:"data_center_box maxw-1500 box-test"},[a("div",e._l(e.areaSelectOptions,(function(t,o){return a("div",{key:"area"+o,staticClass:"center_box_item",on:{click:function(a){return e.areaSelectChange(t.id)}}},[a("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.activeId===t.id,expression:"activeId === areaItem.id"}],attrs:{effect:"dark",content:e.$t("common.msg184"),placement:"top"}},[a("i",{class:e.refresh?"el-icon-loading":"el-icon-refresh",on:{click:function(a){return e.refreshArea(t)}}})]),a("div",{staticClass:"box_item_country",class:{box_item_country_actvie:t.id===e.activeId}},[a("img",{attrs:{src:e.$globalUrl+"/common/country/"+t.country_code+".png",alt:""}}),a("div",[e._v(e._s(t.name))])]),a("div",{staticClass:"box_item_node"},[a("el-select",{attrs:{placeholder:e.$t("cloud.selectNode"),size:"mini"},on:{change:function(a){return e.nodeSelectChange(a,t.id)}},model:{value:t.selectNode,callback:function(a){e.$set(t,"selectNode",a)},expression:"areaItem.selectNode"}},e._l(t.node,(function(t,o){return a("el-option",{key:"node"+o,attrs:{label:t.name,value:t.id,disabled:!t.status}},[t.status?a("span",{staticStyle:{"margin-left":"7px"}}):a("span",{staticStyle:{color:"red"}},[e._v("! ")]),a("span",[e._v(e._s(t.name))]),t.status?e._e():a("span",[e._v("("+e._s(e.$t("common.node")+e.$t("common.offline"))+")")])])})),1)],1)],1)})),0),[a("el-form-item",{attrs:{prop:"num"}},[a("div",{staticClass:"advanceAndNum mr-5"},[a("div",{staticClass:"num-decore"},[e._v(e._s(e.$t("cloud.createQuantity")))]),a("el-input-number",{staticStyle:{height:"30px"},attrs:{disabled:this.addCloudsForm.ipaddress.length>=1,min:1,max:9999},model:{value:e.addCloudsForm.num,callback:function(t){e.$set(e.addCloudsForm,"num",t)},expression:"addCloudsForm.num"}})],1)])]],2)]),a("el-form-item",{attrs:{label:e.$t("cloud.numberOfCpUs"),prop:"cpu"}},[a("div",{staticClass:"slider_box ml-10"},[a("el-slider",{staticClass:"fl mr-20 slider_box_slider",attrs:{min:1,max:240},model:{value:e.addCloudsForm.cpu,callback:function(t){e.$set(e.addCloudsForm,"cpu",t)},expression:"addCloudsForm.cpu"}}),a("el-input-number",{staticClass:"fl mr-20",staticStyle:{width:"120px"},attrs:{controls:!1,precision:0,min:1,max:240},model:{value:e.addCloudsForm.cpu,callback:function(t){e.$set(e.addCloudsForm,"cpu",t)},expression:"addCloudsForm.cpu"}}),a("div",{staticClass:"slider_box_unit fl"},[e._v(e._s(e.$t("cloud.core")))])],1)]),a("el-form-item",{attrs:{label:e.$t("common.ram"),prop:"memory"}},[a("div",{staticClass:"slider_box ml-10"},[a("el-slider",{staticClass:"fl mr-20 slider_box_slider",class:"hyperv"===e.addCloudsForm.type&&e.dynamicMemory?"MemoryBtn":"",attrs:{min:"GB"===e.memoryUnit?1:128,max:"GB"===e.memoryUnit?512:524288},model:{value:e.tempMemory,callback:function(t){e.tempMemory=t},expression:"tempMemory"}}),a("el-input-number",{staticClass:"fl mr-20",staticStyle:{width:"120px"},attrs:{controls:!1,precision:0,min:"GB"===e.memoryUnit?1:128,max:"GB"===e.memoryUnit?512:524288},model:{value:e.tempMemory,callback:function(t){e.tempMemory=t},expression:"tempMemory"}}),a("div",{staticClass:"slider_box_unit fl"},[a("el-select",{model:{value:e.memoryUnit,callback:function(t){e.memoryUnit=t},expression:"memoryUnit"}},[a("el-option",{attrs:{value:"GB"}},[e._v("GB")]),a("el-option",{attrs:{value:"MB"}},[e._v("MB")])],1)],1),"hyperv"===e.addCloudsForm.type?a("el-checkbox",{staticClass:"dynamicMemory",model:{value:e.dynamicMemory,callback:function(t){e.dynamicMemory=t},expression:"dynamicMemory"}},[e._v(" "+e._s(e.$t("common.DynamicMemory")))]):e._e()],1)]),a("el-form-item",{attrs:{label:e.$t("cloud.bandwidth"),prop:"in_bw"}},[a("div",{staticClass:"slider_box ml-10"},[a("el-slider",{staticClass:"fl mr-20 slider_box_slider",attrs:{min:0,max:"Mbps"===e.bandwidthUnit?1e3:10},model:{value:e.bandwidth,callback:function(t){e.bandwidth=t},expression:"bandwidth"}}),a("el-input-number",{staticClass:"fl mr-20",staticStyle:{width:"120px"},attrs:{controls:!1,precision:0,min:0},model:{value:e.bandwidth,callback:function(t){e.bandwidth=t},expression:"bandwidth"}}),a("div",{staticClass:"slider_box_unit fl",staticStyle:{width:"90px"}},[a("el-select",{model:{value:e.bandwidthUnit,callback:function(t){e.bandwidthUnit=t},expression:"bandwidthUnit"}},[a("el-option",{attrs:{value:"Mbps"}},[e._v("Mbps")]),a("el-option",{attrs:{value:"Gbps"}},[e._v("Gbps")])],1)],1)],1)]),"adsl"!==e.addCloudsForm.type?a("el-form-item",{attrs:{prop:e.ip.isIpAddress?"ip_group":"ip_num"}},[a("el-select",{staticClass:"select-title-system",on:{change:e.changeIpProp},model:{value:e.ip.isIpAddress,callback:function(t){e.$set(e.ip,"isIpAddress",t)},expression:"ip.isIpAddress"}},[!e.isAgent||e.isShowIPNum?a("el-option",{attrs:{label:e.$t("cloud.ipQuantity"),value:0}}):e._e(),e.isAgent&&e.isShowIPNum?e._e():a("el-option",{attrs:{label:e.$t("cloud.ipAddress"),value:1}}),(e.isAgent?e.isShowIPNum:1!==e.$store.state.functionSwitch.fs_elastic_ip_product||1!==e.$store.state.config.edition)?e._e():a("el-option",{attrs:{label:e.$t("elastic.elastic_ip"),value:2}})],1),a("div",{staticClass:"fboxRow Ystart"},[e.isAgent?e._e():a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",clearable:"",placeholder:e.$t("cloud.ipGroup")},on:{change:e.changeIpGroup},model:{value:e.addCloudsForm.ip_group,callback:function(t){e.$set(e.addCloudsForm,"ip_group",t)},expression:"addCloudsForm.ip_group"}},e._l(e.ip.grouplist,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),e.ip.isIpAddress?a("el-select",{staticClass:"ml-20",staticStyle:{width:"250px"},attrs:{filterable:"",multiple:"","filter-method":e.changeIp,"value-key":"id",placeholder:e.$t("cloud.ipAddress"),clearable:"","popper-class":"tree-select","collapse-tags":"","reserve-keyword":""},on:{change:e.changeIp,"hook:created":e.changeIpGroup,clear:e.clearIp,"visible-change":e.hideSelect},model:{value:e.addCloudsForm.ipaddress,callback:function(t){e.$set(e.addCloudsForm,"ipaddress",t)},expression:"addCloudsForm.ipaddress"}},[a("el-option",{staticStyle:{height:"auto"},attrs:{value:e.selectValue}},[a("el-tree",{ref:"tree",attrs:{data:e.ip.list,"show-checkbox":"","node-key":"id",lazy:"",load:e.loadNode,props:e.defaultProps,"filter-node-method":e.filterNode},on:{check:e.handlerCheckChange}})],1)],1):a("el-input",{staticClass:"ml-10",staticStyle:{width:"250px"},model:{value:e.addCloudsForm.ip_num,callback:function(t){e.$set(e.addCloudsForm,"ip_num",t)},expression:"addCloudsForm.ip_num"}})],1)],1):a("el-form-item",{attrs:{prop:"adsl",label:"ADSL"+e.$t("login.account")}},[a("el-select",{staticStyle:{width:"250px"},on:{change:e.changeAdsl},model:{value:e.addCloudsForm.adsl,callback:function(t){e.$set(e.addCloudsForm,"adsl",t)},expression:"addCloudsForm.adsl"}},[a("el-option",{attrs:{label:e.$t("cloud.automatic"),value:0}}),e._l(e.adslList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})}))],2),a("span",{staticClass:"ml-10"},[e._v("VLAN: "+e._s(e.checkVlan))])],1),!e.ipv6_enable||!e.isAdvance||"normal"!==e.addCloudsForm.network_type||e.natAcl||e.natWeb||"hyperv"===e.addCloudsForm.type||"adsl"===e.addCloudsForm.type||1!==e.$store.state.config.edition||e.trunk?e._e():a("el-form-item",{attrs:{label:"IPV6"+e.$t("common.number"),prop:"ipv6_num"}},[a("el-input",{staticStyle:{width:"250px"},model:{value:e.addCloudsForm.ipv6_num,callback:function(t){e.$set(e.addCloudsForm,"ipv6_num",e._n(t))},expression:"addCloudsForm.ipv6_num"}}),a("span",{staticClass:"ml-10"},[e._v(e._s(e.$t("common.a")))])],1),a("el-form-item",{attrs:{label:e.$t("cloud.customer"),prop:"client"}},[a("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:e.loadMore,expression:"loadMore"}],staticStyle:{width:"250px"},attrs:{filterable:"",clearable:"",loading:e.loadingUser,remote:"","remote-method":e.remoteMethod,placeholder:e.$t("cloud.pleaseSelectTheGuestFirst")},on:{change:e.changeUser,clear:e.clearHandler},model:{value:e.addCloudsForm.client,callback:function(t){e.$set(e.addCloudsForm,"client",t)},expression:"addCloudsForm.client"}},e._l(e.clientSelectOptions,(function(t,o){return a("el-option",{key:"client"+o,attrs:{label:!e.isAgent&&t.parent?t.username+"("+t.parent+")":t.username,value:t.id}})})),1),0===e.addCloudsForm.client?a("el-input",{staticClass:"mr-10 ml-20",staticStyle:{width:"250px"},model:{value:e.addCloudsForm.client_name,callback:function(t){e.$set(e.addCloudsForm,"client_name",t)},expression:"addCloudsForm.client_name"}}):e._e()],1),"adsl"!==e.addCloudsForm.type?a("el-form-item",{attrs:{label:e.$t("cloud.selectNetwork"),prop:"network_type"}},[a("div",{staticClass:"choose_net_box"},[e.checkedPackage&&-1===e.checkedPackage.vpc_num||"host"!==e.addCloudsForm.type?e._e():[a("el-radio",{attrs:{label:"vpc"},on:{change:e.getVpc},model:{value:e.addCloudsForm.network_type,callback:function(t){e.$set(e.addCloudsForm,"network_type",t)},expression:"addCloudsForm.network_type"}},[e._v(" "+e._s(e.$t("cloud.vpcNetwork"))+" ")]),a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:e.$t("cloud.recommendedChoice")}},[a("i",{staticClass:"el-icon-question",staticStyle:{color:"#cccccc","margin-right":"40px"},attrs:{slot:"reference"},slot:"reference"})])],-1===e.addCloudsForm.nat_web_limit&&-1===e.addCloudsForm.nat_acl_limit||"lightHost"===e.addCloudsForm.type?[a("el-radio",{attrs:{label:"normal"},on:{change:e.netChange},model:{value:e.addCloudsForm.network_type,callback:function(t){e.$set(e.addCloudsForm,"network_type",t)},expression:"addCloudsForm.network_type"}},[e._v(" "+e._s(e.$t("cloud.classicNetwork")))]),a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:e.$t("cloud.notRecommended")}},[a("i",{staticClass:"el-icon-question",staticStyle:{color:"#cccccc","margin-right":"40px"},attrs:{slot:"reference"},slot:"reference"})])]:e._e(),-1===e.addCloudsForm.nat_web_limit&&-1===e.addCloudsForm.nat_acl_limit||"lightHost"===e.addCloudsForm.type?[a("el-radio",{attrs:{label:"transparent"},on:{change:e.changeTransparent},model:{value:e.addCloudsForm.network_type,callback:function(t){e.$set(e.addCloudsForm,"network_type",t)},expression:"addCloudsForm.network_type"}},[e._v(" "+e._s(e.$t("cloud.transparentNetwork")))]),a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:e.$t("cloud.transparentTip")}},[a("i",{staticClass:"el-icon-question",staticStyle:{color:"#cccccc"},attrs:{slot:"reference"},slot:"reference"})])]:e._e()],2),"vpc"===e.addCloudsForm.network_type?a("p",{staticClass:"vpc-tips"},[e._v(" "+e._s(e.$t("cloud.suggestedClassicNetwork"))+" ")]):e._e(),"transparent"===e.addCloudsForm.network_type?a("p",{staticClass:"vpc-tips",staticStyle:{width:"auto","padding-right":"20px"}},[e._v(" "+e._s(e.$t("common.msg221"))+" ")]):e._e()]):e._e(),e.isAdvance?a("el-form-item",{attrs:{label:e.$t("common.networkDrive")}},[a("el-select",{staticStyle:{width:"250px"},model:{value:e.addCloudsForm.niccard,callback:function(t){e.$set(e.addCloudsForm,"niccard",t)},expression:"addCloudsForm.niccard"}},e._l(e.driveSelectOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.type}})})),1)],1):e._e(),"vpc"===e.addCloudsForm.network_type&&-1===e.addCloudsForm.nat_web_limit&&-1===e.addCloudsForm.nat_acl_limit?a("el-form-item",{attrs:{label:e.$t("common.optionalNetwork"),prop:0!==e.addCloudsForm.vpc?"vpc":"vpc_name"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",placeholder:e.$t("cloud.pleaseSelectANetwork")},on:{change:e.netWorkChange},model:{value:e.addCloudsForm.vpc,callback:function(t){e.$set(e.addCloudsForm,"vpc",t)},expression:"addCloudsForm.vpc"}},e._l(e.networkSelectOptions,(function(e,t){return a("el-option",{key:"store"+t,attrs:{label:e.name,value:e.id}})})),1),0===e.addCloudsForm.vpc?a("el-input",{staticClass:"mr-10 ml-20 network-input",staticStyle:{width:"250px"},model:{value:e.addCloudsForm.vpc_name,callback:function(t){e.$set(e.addCloudsForm,"vpc_name",t)},expression:"addCloudsForm.vpc_name"}}):e._e()],1):e._e(),e.isAdvance?[0===e.addCloudsForm.vpc&&"vpc"===e.addCloudsForm.network_type&&-1===e.addCloudsForm.nat_web_limit&&-1===e.addCloudsForm.nat_acl_limit?a("el-form-item",{attrs:{label:e.$t("cloud.internalIpSegment"),prop:"vpc_ips"}},[a("el-select",{staticStyle:{width:"70px"},on:{change:e.changeVpcIp},model:{value:e.vpc_ips.vpc1.value,callback:function(t){e.$set(e.vpc_ips.vpc1,"value",t)},expression:"vpc_ips.vpc1.value"}},e._l(e.vpc_ips.vpc1.select,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1),a("span",[e._v("·")]),a("el-tooltip",{attrs:{content:e.vpc_ips.vpc1.tips,placement:"top"}},[a("el-input-number",{staticStyle:{width:"60px"},attrs:{disabled:192===e.vpc_ips.vpc1.value,step:1,controls:!1,min:e.vpc_ips.min,max:e.vpc_ips.max},model:{value:e.vpc_ips.vpc2,callback:function(t){e.$set(e.vpc_ips,"vpc2",t)},expression:"vpc_ips.vpc2"}})],1),a("span",{staticClass:"mr-5 ml-5"},[e._v("·")]),a("el-tooltip",{attrs:{content:e.vpc_ips.vpc3Tips,placement:"top",disabled:!e.vpc_ips.vpc3Tips}},[a("el-input-number",{staticStyle:{width:"60px"},attrs:{disabled:16===e.vpc_ips.vpc6.value,step:1,controls:!1,min:0,max:255},on:{blur:e.changeVpc3},model:{value:e.vpc_ips.vpc3,callback:function(t){e.$set(e.vpc_ips,"vpc3",t)},expression:"vpc_ips.vpc3"}})],1),a("span",{staticClass:"mr-5 ml-5"},[e._v("·")]),a("el-tooltip",{attrs:{content:e.vpc_ips.vpc4Tips,placement:"top",disabled:!e.vpc_ips.vpc4Tips}},[a("el-input-number",{staticStyle:{width:"60px"},attrs:{disabled:e.vpc_ips.vpc6.value<25,step:1,controls:!1,min:0,max:255},on:{blur:e.changeVpc4},model:{value:e.vpc_ips.vpc4,callback:function(t){e.$set(e.vpc_ips,"vpc4",t)},expression:"vpc_ips.vpc4"}})],1),a("span",{staticClass:"mr-5 ml-5"},[e._v("/")]),a("el-select",{staticStyle:{width:"70px"},on:{change:e.changeVpcMask},model:{value:e.vpc_ips.vpc6.value,callback:function(t){e.$set(e.vpc_ips.vpc6,"value",t)},expression:"vpc_ips.vpc6.value"}},e._l(e.vpc_ips.vpc6.select,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1):"vpc"===e.addCloudsForm.network_type&&0!==e.addCloudsForm.client&&-1===e.addCloudsForm.nat_web_limit&&-1===e.addCloudsForm.nat_acl_limit?a("el-form-item",{attrs:{label:e.$t("cloud.internalIpSegment")}},[a("div",[e._v(e._s(e.vpcName))])]):e._e(),a("el-form-item",{attrs:{label:e.$t("cloud.selectStorage"),prop:"store"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:e.$t("cloud.automatic"),"no-data-text":e.$t("common.noStore")},model:{value:e.addCloudsForm.store,callback:function(t){e.$set(e.addCloudsForm,"store",t)},expression:"addCloudsForm.store"}},e._l(e.storeSelectOptions,(function(t,o){return a("el-option",{key:"store"+o,attrs:{label:t.show_name,value:t.id,disabled:!t.status||!parseInt(t.free)}},[t.status&&parseInt(t.free)?a("span",{staticStyle:{"margin-left":"7px"}}):a("span",{staticStyle:{color:"red"}},[e._v("! ")]),a("span",[e._v(e._s(t.show_name))]),t.status?parseInt(t.free)?e._e():a("span",[e._v("("+e._s(e.$t("common.CapacityIsInsufficient"))+")")]):a("span",[e._v("("+e._s(e.$t("common.offline"))+")")])])})),1)],1)]:e._e(),a("el-form-item",{attrs:{prop:e.template.isTemplate?"template":"os"}},[a("el-select",{staticClass:"select-title-system",on:{change:e.changeTemplate},model:{value:e.template.isTemplate,callback:function(t){e.$set(e.template,"isTemplate",t)},expression:"template.isTemplate"}},[a("el-option",{attrs:{label:e.$t("cloud.operatingSystem"),value:!1}}),a("el-option",{attrs:{label:e.$t("cloud.stencil"),value:!0}})],1),e.template.isTemplate?[a("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:e.loadMore,expression:"loadMore"}],staticClass:"mr-20 os_template",staticStyle:{width:"250px"},attrs:{filterable:"",clearable:"",loading:e.loadingUser,remote:"","remote-method":e.remoteMethod},on:{clear:e.clearHandler},model:{value:e.template.client,callback:function(t){e.$set(e.template,"client",t)},expression:"template.client"}},e._l(e.template.clientSelectOptions,(function(e,t){return a("el-option",{key:"client"+t,attrs:{label:e.username,value:e.id}})})),1),a("el-select",{staticStyle:{width:"250px"},model:{value:e.addCloudsForm.template,callback:function(t){e.$set(e.addCloudsForm,"template",t)},expression:"\n\n            addCloudsForm.template"}},e._l(e.template.list,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"("+e.create_time+")",value:e.id}})})),1)]:[a("el-select",{staticClass:"mr-20 os_template",staticStyle:{width:"250px"},on:{change:e.imageGroupSelectChange},model:{value:e.addCloudsForm.gid,callback:function(t){e.$set(e.addCloudsForm,"gid",t)},expression:"addCloudsForm.gid"}},[e.addCloudsForm.osGroupSvg?a("template",{staticStyle:{"line-height":"20px"},slot:"prefix"},[a("img",{staticStyle:{height:"20px",marginright:"5px"},attrs:{src:e.$globalUrl+"/common/system/"+e.addCloudsForm.osGroupSvg+".svg",alt:""}})]):e._e(),e._l(e.imageGroupOptions,(function(t,o){return a("el-option",{key:"imageGroup"+o,staticStyle:{padding:"0 5px !important"},attrs:{label:t.name,value:t.id}},[a("div",{staticClass:"select_box"},[a("img",{staticStyle:{height:"20px",marginright:"10px"},attrs:{src:e.$globalUrl+"/common/system/"+t.svg+".svg",alt:""}}),e._v(e._s(t.name)+" ")])])}))],2),a("el-select",{staticClass:"mr-20 os_template",staticStyle:{width:"250px"},on:{change:e.filterStore},model:{value:e.addCloudsForm.os,callback:function(t){e.$set(e.addCloudsForm,"os",t)},expression:"addCloudsForm.os"}},e._l(e.imageOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("el-select",{model:{value:e.addCloudsForm.link_clone,callback:function(t){e.$set(e.addCloudsForm,"link_clone",t)},expression:"addCloudsForm.link_clone"}},[a("el-option",{attrs:{label:e.$t("cloud.complete"),value:0}}),a("el-option",{attrs:{label:e.$t("cloud.linkCreation"),value:1}})],1)]],2),a("el-form-item",{staticClass:"host_name",attrs:{label:e.$t("common.hostName"),prop:"hostname"}},[a("el-input",{staticClass:"mr-20",staticStyle:{width:"250px"},model:{value:e.addCloudsForm.hostname,callback:function(t){e.$set(e.addCloudsForm,"hostname",t)},expression:"addCloudsForm.hostname"}}),a("span",{staticStyle:{color:"#777777"}},[e._v(e._s(e.$t("cloud.errMsg")))])],1),a("el-form-item",{staticClass:"host_name",attrs:{prop:0===e.addCloudsForm.password_type?"rootpass":0===e.addCloudsForm.ssh_key?"ssh_key_name":"ssh_key"}},[a("template",{slot:"label"},[a("span",[a("el-select",{staticStyle:{width:"105px"},on:{change:e.changePassType},model:{value:e.addCloudsForm.password_type,callback:function(t){e.$set(e.addCloudsForm,"password_type",t)},expression:"addCloudsForm.password_type"}},[a("el-option",{attrs:{label:e.$t("common.password"),value:0}}),e.isAgent?e._e():[1!==e.addCloudsForm.osGroupSvg&&"hyperv"!==e.addCloudsForm.type?a("el-option",{attrs:{label:"SSH"+e.$t("config.notificationSettings.key"),value:1}}):e._e()]],2),a("el-popover",{attrs:{placement:"top-start",width:"250",trigger:"hover"}},[e.addCloudsForm.password_type?a("div",[e._v(" "+e._s(e.$t("common.msg178"))+" ")]):a("div",[a("div",[e._v(e._s(e.$t("cloud.lowercaseLetters1")))]),a("div",[e._v(e._s(e.$t("cloud.lowercaseLetters2")))]),a("div",[e._v(e._s(e.$t("cloud.lowercaseLetters3")))]),a("div",[e._v(e._s(e.$t("cloud.lowercaseLetters4")))])]),a("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1)]),e.addCloudsForm.password_type?a("div",[a("el-select",{staticStyle:{width:"250px"},on:{change:e.changeSSH},model:{value:e.addCloudsForm.ssh_key,callback:function(t){e.$set(e.addCloudsForm,"ssh_key",t)},expression:"addCloudsForm.ssh_key"}},[a("el-option",{attrs:{label:e.$t("common.newConstruction"),value:0}}),e._l(e.sshList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],2),0===e.addCloudsForm.ssh_key?a("el-input",{staticClass:"ml-20",staticStyle:{width:"250px"},attrs:{placeholder:e.$t("config.notificationSettings.key")+e.$t("common.name")},model:{value:e.addCloudsForm.ssh_key_name,callback:function(t){e.$set(e.addCloudsForm,"ssh_key_name",t)},expression:"addCloudsForm.ssh_key_name"}}):e._e()],1):a("div",{staticClass:"pass_random_box"},[a("el-input",{staticClass:"mr-20",staticStyle:{width:"250px"},attrs:{"show-password":""},model:{value:e.addCloudsForm.rootpass,callback:function(t){e.$set(e.addCloudsForm,"rootpass",t)},expression:"addCloudsForm.rootpass"}}),a("div",{staticClass:"fboxRow Ycenter"},[a("span",{staticClass:"icon-random mr-10",staticStyle:{cursor:"pointer","font-size":"18px"},on:{click:e.createRandomPassHandleClick}})]),e.addCloudsForm.num>1?[a("el-checkbox",{attrs:{"true-label":1,"false-label":0},on:{change:e.changeSamePass},model:{value:e.addCloudsForm.the_same_pass,callback:function(t){e.$set(e.addCloudsForm,"the_same_pass",t)},expression:"addCloudsForm.the_same_pass"}}),a("span",{staticClass:"ml-10"},[e._v(" "+e._s(e.$t("cloud.samePass"))+" ")])]:e._e()],2)],2),e.template.isTemplate?e._e():a("el-form-item",{attrs:{label:1===e.addCloudsForm.gid?e.$t("cloud.rdpPort"):e.$t("cloud.sshPort"),prop:"port"}},[a("div",{staticClass:"pass_random_box"},[a("el-tooltip",{attrs:{content:0===e.$store.state.config.edition?e.$t("common.msg137"):e.$t("common.msg229"),disabled:e.$hasAuthority("random_port"),placement:"top"}},[a("el-input",{staticClass:"mr-20",staticStyle:{width:"250px"},attrs:{disabled:!e.$hasAuthority("random_port")},model:{value:e.addCloudsForm.port,callback:function(t){e.$set(e.addCloudsForm,"port",e._n(t))},expression:"addCloudsForm.port"}})],1),e.$hasAuthority("random_port")?a("span",{staticClass:"icon-random mr-10",staticStyle:{cursor:"pointer","font-size":"18px"},on:{click:e.randomPortClick}}):e._e()],1)]),e.isAdvance?[a("el-form-item",{attrs:{label:e.$t("cloud.cpuMode")}},[a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",placeholder:e.$t("cloud.pleaseChoose")},model:{value:e.addCloudsForm.cpu_model,callback:function(t){e.$set(e.addCloudsForm,"cpu_model",t)},expression:"addCloudsForm.cpu_model"}},[a("el-option",{attrs:{label:e.$t("cloud.mirror"),value:"0"}}),"hyperv"!=e.addCloudsForm.type?[a("div",[a("el-option",{attrs:{label:"host-passthrough",value:"1"}}),a("el-option",{attrs:{label:"host-model",value:"2"}}),a("el-option",{attrs:{label:"custom",value:"3"}})],1)]:e._e()],2)],1),e.isAgent?a("el-form-item",{attrs:{label:e.$t("cloud.limitTraffic"),prop:"traffic_quota"}},[a("el-input",{staticClass:"mr-20",staticStyle:{width:"250px"},model:{value:e.addCloudsForm.traffic_quota,callback:function(t){e.$set(e.addCloudsForm,"traffic_quota",e._n(t))},expression:"addCloudsForm.traffic_quota"}}),e._v(" GB ")],1):e._e(),a("el-form-item",{attrs:{label:e.$t("cloud.systemDisk"),prop:"systemDisk"}},[a("div",{staticClass:"slider_box"},[a("el-input-number",{staticClass:"fl mr-20",staticStyle:{width:"250px"},attrs:{controls:!1,precision:0,min:e.minSystemDisk,max:1048576},model:{value:e.systemDisk,callback:function(t){e.systemDisk=t},expression:"systemDisk"}}),a("div",{staticClass:"slider_box_unit fl"},[e._v("GB")])],1)]),a("el-form-item",{attrs:{label:e.$t("cloud.dataDisk"),prop:"data_disk_size"}},[a("div",{staticClass:"slider_box fboxRow Ycenter"},[a("el-switch",{staticClass:"mr-20",on:{change:function(t){return e.changeSwitch("disk")}},model:{value:e.dataDisk,callback:function(t){e.dataDisk=t},expression:"dataDisk"}}),e.dataDisk?[a("el-input-number",{staticClass:"mr-20",staticStyle:{width:"190px"},attrs:{controls:!1,precision:0,min:1},model:{value:e.addCloudsForm.data_disk_size,callback:function(t){e.$set(e.addCloudsForm,"data_disk_size",t)},expression:"addCloudsForm.data_disk_size"}}),a("div",{staticClass:"slider_box_unit"},[e._v("GB")]),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.isAgent||e.checkedPackage&&e.addCloudsForm.other_data_disk.length<e.checkedPackage.disk_num-e.checkedPackage.disk_num_used-1,expression:"\n                isAgent\n                  ? checkedPackage &&\n                  addCloudsForm.other_data_disk.length <\n                  checkedPackage.disk_num -\n                  checkedPackage.disk_num_used -\n                  1\n                  : true\n              "}],staticClass:"el-icon-circle-plus icons-disk",on:{click:e.addDisk}})]:e._e()],2)]),e.dataDisk?e._l(e.addCloudsForm.other_data_disk,(function(t,o){return a("el-form-item",{key:o,attrs:{label:e.$t("cloud.dataDisk")+(o+2),prop:"other_data_disk["+o+"].size",rules:[{validator:function(t,a,o){e.isAgent&&e.checkedPackage.disk&&e.testDisk&&o(e.$t("common.diskAllotTotal")+e.checkedPackage.disk+","+e.$t("common.used1")+e.checkedPackage.disk_used),e.$validate.validateScope(t,a,o,1,1048576,e.$t("common.disk"))}}]}},[a("div",{staticClass:"slider_box fboxRow Ycenter"},[a("el-input-number",{staticClass:"mr-20",staticStyle:{width:"190px","margin-left":"59px"},attrs:{controls:!1,precision:0,min:0},model:{value:e.addCloudsForm.other_data_disk[o].size,callback:function(t){e.$set(e.addCloudsForm.other_data_disk[o],"size",t)},expression:"addCloudsForm.other_data_disk[index].size"}}),a("div",{staticClass:"slider_box_unit"},[e._v("GB")]),a("i",{staticClass:"el-icon-remove icons-disk",on:{click:function(t){return e.removeDisk(o)}}})],1)])})):e._e(),a("el-form-item",{attrs:{label:e.$t("cloud.cpuRestriction"),prop:"cpu_limit"}},[a("template",{slot:"label"},[a("span",[e._v(e._s(e.$t("cloud.cpuRestriction")))]),a("el-popover",{attrs:{placement:"top-start",width:"220",trigger:"hover",content:e.$t("cloud.cpuRestriction1")}},[a("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.cpu_limit,callback:function(t){e.cpu_limit=t},expression:"cpu_limit"}}),a("el-input-number",{directives:[{name:"show",rawName:"v-show",value:e.cpu_limit,expression:"cpu_limit"}],staticClass:"ml-20",staticStyle:{width:"190px"},attrs:{precision:0,min:0,max:100,controls:!1},model:{value:e.addCloudsForm.cpu_limit,callback:function(t){e.$set(e.addCloudsForm,"cpu_limit",t)},expression:"addCloudsForm.cpu_limit"}})],2),"hyperv"===e.addCloudsForm.type||e.isCostomer?e._e():a("el-form-item",{attrs:{label:e.$t("cloud.gpuQuantity"),prop:"gpu_num"}},[a("template",{slot:"label"},[a("span",[e._v(e._s(e.$t("cloud.gpuQuantity")))]),a("el-popover",{attrs:{placement:"top-start",width:"220",trigger:"hover",content:e.$t("cloud.gpuQuantity1")}},[a("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.gpuLimit,callback:function(t){e.gpuLimit=t},expression:"gpuLimit"}}),a("el-input-number",{directives:[{name:"show",rawName:"v-show",value:e.gpuLimit,expression:"gpuLimit"}],staticClass:"ml-20",staticStyle:{width:"190px"},attrs:{precision:0,min:1,max:100,controls:!1},model:{value:e.addCloudsForm.gpu_num,callback:function(t){e.$set(e.addCloudsForm,"gpu_num",t)},expression:"addCloudsForm.gpu_num"}})],2),!e.isAgent||e.checkedPackage&&-1!==e.checkedPackage.backup_num?a("el-form-item",{attrs:{label:e.$t("cloud.backupQuantity"),prop:"backup_num"}},[a("el-switch",{on:{change:function(t){return e.changeSwitch("backup")}},model:{value:e.backup,callback:function(t){e.backup=t},expression:"backup"}}),a("el-input-number",{directives:[{name:"show",rawName:"v-show",value:e.backup,expression:"backup"}],staticClass:"ml-20",staticStyle:{width:"190px"},attrs:{controls:!1,"step-strictly":"",min:-1,max:9999},model:{value:e.addCloudsForm.backup_num,callback:function(t){e.$set(e.addCloudsForm,"backup_num",t)},expression:"addCloudsForm.backup_num"}})],1):e._e(),(!e.isAgent||e.checkedPackage&&-1!==e.checkedPackage.snap_num)&&"hyperv"!==e.addCloudsForm.type?a("el-form-item",{attrs:{label:e.$t("cloud.snapshotQuantity"),prop:"snap_num"}},[a("el-switch",{on:{change:function(t){return e.changeSwitch("snap")}},model:{value:e.snap,callback:function(t){e.snap=t},expression:"snap"}}),a("el-input-number",{directives:[{name:"show",rawName:"v-show",value:e.snap,expression:"snap"}],staticClass:"ml-20",staticStyle:{width:"190px"},attrs:{controls:!1,"step-strictly":"",min:-1,max:9999},model:{value:e.addCloudsForm.snap_num,callback:function(t){e.$set(e.addCloudsForm,"snap_num",t)},expression:"addCloudsForm.snap_num"}})],1):e._e(),(e.isAgent?e.checkedPackage&&-1!==e.checkedPackage.security_num:"adsl"!==e.addCloudsForm.type)?a("el-form-item",{attrs:{label:e.$t("cloud.selectSecurityGroup"),prop:"security_group"}},[a("el-switch",{model:{value:e.safeGroup,callback:function(t){e.safeGroup=t},expression:"safeGroup"}}),a("el-select",{directives:[{name:"show",rawName:"v-show",value:e.safeGroup,expression:"safeGroup"}],staticClass:"ml-20",staticStyle:{width:"190px"},attrs:{filterable:"",placeholder:e.$t("cloud.pleaseChoose")},model:{value:e.addCloudsForm.security_group,callback:function(t){e.$set(e.addCloudsForm,"security_group",t)},expression:"addCloudsForm.security_group"}},e._l(e.safeSelectOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1),a("el-input",{directives:[{name:"show",rawName:"v-show",value:0===e.addCloudsForm.security_group&&e.safeGroup,expression:"addCloudsForm.security_group === 0 && safeGroup"}],staticClass:"mr-10 ml-20",staticStyle:{width:"250px"},model:{value:e.addCloudsForm.security_group_name,callback:function(t){e.$set(e.addCloudsForm,"security_group_name",t)},expression:"addCloudsForm.security_group_name"}})],1):e._e(),"hyperv"!=e.addCloudsForm.type?[a("div",["adsl"!==e.addCloudsForm.type?[(e.isAgent?1===e.node.nat_acl&&e.checkedPackage&&-1!==e.checkedPackage.nat_acl_num:1===e.node.nat_acl)?a("el-form-item",{attrs:{label:e.$t("cloud.natForwardingQuantity").replace("NAT",""),prop:"nat_acl_limit"}},[a("div",{staticClass:"choose_nat_box"},[a("el-switch",{on:{change:function(t){return e.changeSwitch("natAcl")}},model:{value:e.natAcl,callback:function(t){e.natAcl=t},expression:"natAcl"}}),a("el-input-number",{directives:[{name:"show",rawName:"v-show",value:e.natAcl,expression:"natAcl"}],staticClass:"ml-20",staticStyle:{width:"190px"},attrs:{controls:!1,"step-strictly":"",min:-1,max:9999},model:{value:e.addCloudsForm.nat_acl_limit,callback:function(t){e.$set(e.addCloudsForm,"nat_acl_limit",t)},expression:"addCloudsForm.nat_acl_limit"}})],1)]):e._e(),(e.isAgent?1===e.node.nat_web&&e.checkedPackage&&-1!==e.checkedPackage.nat_web_num:1===e.node.nat_web)?a("el-form-item",{attrs:{label:e.$t("cloud.natSiteQuantity").replace("NAT",""),prop:"nat_web_limit"}},[a("div",{staticClass:"choose_nat_box"},[a("el-switch",{on:{change:function(t){return e.changeSwitch("natWeb")}},model:{value:e.natWeb,callback:function(t){e.natWeb=t},expression:"natWeb"}}),a("el-input-number",{directives:[{name:"show",rawName:"v-show",value:e.natWeb,expression:"natWeb"}],staticClass:"ml-20",staticStyle:{width:"190px"},attrs:{controls:!1,"step-strictly":"",min:-1,max:9999},model:{value:e.addCloudsForm.nat_web_limit,callback:function(t){e.$set(e.addCloudsForm,"nat_web_limit",t)},expression:"addCloudsForm.nat_web_limit"}})],1)]):e._e()]:e._e(),a("el-form-item",{attrs:{label:e.$t("common.advance")+e.$t("common.bandwidth"),prop:"advanced_bw"}},[a("div",{staticClass:"choose_nat_box"},[a("el-select",{model:{value:e.addCloudsForm.advanced_bw,callback:function(t){e.$set(e.addCloudsForm,"advanced_bw",t)},expression:"addCloudsForm.advanced_bw"}},[a("el-option",{attrs:{label:e.$t("common.notHave"),value:0}}),e._l(e.smartBwList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],2)],1)]),a("el-form-item",{attrs:{label:e.$t("common.advance")+"CPU",prop:"advanced_cpu"}},[a("div",{staticClass:"choose_nat_box"},[a("el-select",{model:{value:e.addCloudsForm.advanced_cpu,callback:function(t){e.$set(e.addCloudsForm,"advanced_cpu",t)},expression:"addCloudsForm.advanced_cpu"}},[a("el-option",{attrs:{label:e.$t("common.notHave"),value:0}}),e._l(e.smartCPUList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],2)],1)])],2)]:e._e()]:e._e(),a("el-form-item",{attrs:{size:"large"}},[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary",loading:e.loading},on:{click:e.submitForm}},[e._v(" "+e._s(e.$t("cloud.create")))]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:0===e.$store.state.config.edition?e.$t("common.msg8"):e.$t("common.msg228"),placement:"top",disabled:1===e.$store.state.config.edition}},[a("el-checkbox",{attrs:{disabled:1!==e.$store.state.config.edition},model:{value:e.cloudExport,callback:function(t){e.cloudExport=t},expression:"cloudExport"}},[e._v(" "+e._s(e.$t("common.ExportByTxt"))+" ")])],1)],1)],2)],1)],1)},s=[],i=(a("99af"),a("a623"),a("4de4"),a("7db0"),a("c740"),a("4160"),a("a630"),a("caad"),a("c975"),a("d81d"),a("13d5"),a("45fc"),a("a434"),a("b0c0"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("6062"),a("2532"),a("3ca3"),a("4d90"),a("841c"),a("159b"),a("ddb0"),a("53ca")),r=a("2909"),n=(a("96cf"),a("1da1")),c=a("3995"),l=a("f61f"),d=a("8491"),u=a("9836"),m=a("f381"),p=a("dc57"),f={metaInfo:function(){return{title:this.$t("cloud.createAnInstance")}},data:function(){var e=this,t=function(t,a,o){e.isAgent||o(),e.checkedPackage.host_num||o(),e.addCloudsForm.num>e.checkedPackage.host_num-e.checkedPackage.host_num_used&&o(new Error(e.$t("common.cloudTotal")+e.checkedPackage.host_num+","+e.$t("common.used1")+e.checkedPackage.host_num_used)),o()},a=function(t,a,o){e.isAgent||o(),e.checkedPackage.cpu||o(),a*e.addCloudsForm.num>e.checkedPackage.cpu-e.checkedPackage.cpu_used&&o(new Error(e.$t("common.cpuAllotTotal")+e.checkedPackage.cpu+","+e.$t("common.used1")+e.checkedPackage.cpu_used)),o()},o=function(t,a,o){e.isAgent||o(),e.checkedPackage.memory||o();var s=1024;"MB"===e.memoryUnit&&(s=1),e.tempMemory*s*e.addCloudsForm.num>1024*e.checkedPackage.memory-e.checkedPackage.memory_used&&o(new Error(e.$t("common.memoryAllotTotal")+1024*e.checkedPackage.memory+"MB,"+e.$t("common.used1")+e.checkedPackage.memory_used)),o()},s=function(t,a,o){e.isAgent||o(),(e.checkedPackage.in_bw||e.checkedPackage.in_bw_limit||e.checkedPackage.out_bw_limit||e.checkedPackage.out_bw)&&!e.bandwidth&&o(new Error(e.$t("common.inBandwidth")+e.$t("common.mustBig0"))),(e.checkedPackage.in_bw||e.checkedPackage.out_bw)&&(e.checkedPackage.in_bw_limit||e.checkedPackage.out_bw_limit)||o();var s=1024;"Mbps"===e.bandwidthUnit&&(s=1);var i=[],r=[];0!==e.checkedPackage.in_bw&&(i.push(e.checkedPackage.in_bw-e.checkedPackage.in_bw_used),r.push(e.$t("common.inBandwidthAllotTotal")+e.checkedPackage.in_bw+","+e.$t("common.used1")+e.checkedPackage.in_bw_used)),0!==e.checkedPackage.out_bw&&(i.push(e.checkedPackage.out_bw-e.checkedPackage.out_bw_used),r.push(e.$t("common.outBandwidthAllotTotal")+e.checkedPackage.out_bw+","+e.$t("common.used1")+e.checkedPackage.out_bw_used)),0!==e.checkedPackage.in_bw_limit&&(i.push(e.checkedPackage.in_bw_limit),r.push(e.$t("common.inBandwidthlimit")+e.checkedPackage.in_bw_limit)),0!==e.checkedPackage.out_bw_limit&&(i.push(e.checkedPackage.out_bw_limit),r.push(e.$t("common.outBandwidthlimit")+e.checkedPackage.out_bw_limit));var n=Math.min.apply(Math,i),c=i.findIndex((function(e){return e===n}));e.bandwidth*s*e.addCloudsForm.num>n&&o(new Error(r[c])),o()},i=function(t,a,o){e.isAgent||o(),e.checkedPackage.ip_num||o(),"normal"===e.addCloudsForm.network_type&&a<1&&o(new Error(e.$t("cloud.LessThan_1"))),"vpc"===e.addCloudsForm.network_type&&a<0&&o(new Error(e.$t("cloud.LessThan_0"))),a*e.addCloudsForm.num>e.checkedPackage.ip_num-e.checkedPackage.ip_num_used&&o(new Error(e.$t("common.ipAllotTotal")+e.checkedPackage.ip_num+","+e.$t("common.used1")+e.checkedPackage.ip_num_used)),o()},r=function(t,a,o){e.isAgent||o(),e.checkedPackage.backup_num||o(),a||o(new Error(e.$t("common.backupNum")+e.$t("common.mustBig0"))),a*e.addCloudsForm.num>e.checkedPackage.backup_num-e.checkedPackage.backup_num_used&&o(new Error(e.$t("common.backupAllotTotal")+e.checkedPackage.backup_num+","+e.$t("common.used1")+e.checkedPackage.backup_num_used)),o()},n=function(t,a,o){e.isAgent||o(),e.checkedPackage.snap_num||o(),a||o(new Error(e.$t("common.snapNum")+e.$t("common.mustBig0"))),a*e.addCloudsForm.num>e.checkedPackage.snap_num-e.checkedPackage.snap_num_used&&o(new Error(e.$t("common.snapAllotTotal")+e.checkedPackage.snap_num+","+e.$t("common.used1")+e.checkedPackage.snap_num_used)),o()},c=function(t,a,o){e.isAgent||o(),e.checkedPackage.nat_acl_num&&e.natAcl||o(),a||o(new Error(e.$t("common.natAclLimit")+e.$t("common.mustBig0"))),a*e.addCloudsForm.num>e.checkedPackage.nat_acl_num-e.checkedPackage.nat_acl_num_used&&o(new Error(e.$t("common.natAllotTotal")+e.checkedPackage.nat_acl_num+","+e.$t("common.used1")+e.checkedPackage.nat_acl_num_used)),o()},l=function(t,a,o){e.isAgent||o(),e.checkedPackage.nat_web_num&&e.webAcl||o(),a||o(new Error(e.$t("common.natWebLimit")+e.$t("common.mustBig0"))),a*e.addCloudsForm.num>e.checkedPackage.nat_web_num-e.checkedPackage.nat_web_num_used&&o(new Error(e.$t("common.natWebAllotTotal")+e.checkedPackage.nat_web_num+","+e.$t("common.used1")+e.checkedPackage.nat_web_num_used)),o()};return{isCostomer:!0,isAgent:JSON.parse(localStorage.getItem("isAgent")),userInfo:this.$store.state.userInfo,isShowIPNum:!0,loading:!1,dynamicMemory:!1,activeId:0,tempMemory:0,bandwidth:0,cloudExport:!1,systemDisk:50,isAdvance:0,node:{nat_acl:1,nat_web:1},vpc_ips:{vpc1:{tips:this.$t("cloud.range1"),value:10,select:[10,172,192]},vpc2:0,vpc3:0,vpc3Tips:"",vpc4:0,vpc4Tips:"",vpc6:{value:16,select:[16,17,18,19,20,21,22,23,24,25,26,27,28]},min:0,max:255},checkedPackage:{},ipv6_enable:0,adslList:[],checkVlan:"",refresh:!1,trunk:0,sshList:[],addCloudsForm:{rid:"",type:"host",system_disk_size:void 0,area:1,node:0,cpu:1,memory:1,gid:void 0,osGroupSvg:void 0,os:void 0,in_bw:0,password_type:0,ssh_key:0,ssh_key_name:"",out_bw:1,network_type:"normal",vpc:void 0,vpc_name:void 0,store:void 0,client:void 0,client_name:"",hostname:"",rootpass:"",port:null,ip_num:1,ipSelectOptions:[],data_disk_size:0,ipType:"",ip:void 0,num:1,link_clone:0,the_same_pass:0,traffic_quota:0,ipaddress:[],transparent:0,ip_group:0,template:void 0,backup_num:3,snap_num:3,nat_acl_limit:-1,nat_web_limit:-1,security_group:0,security_group_name:"",other_data_disk:[],cpu_limit:this.$store.state.config.cpu_limit_percent,cpu_model:"0",vpc_ips:"",advanced_cpu:0,advanced_bw:0,adsl:0,ipv6_num:0,niccard:3,gpu_num:1},cpu_limit:this.$store.state.config.cpu_limit_switch,gpuLimit:0,template:{isTemplate:!1,client:0,list:[],clientSelectOptions:[]},ip:{isIpAddress:0,groupId:null,grouplist:[],list:[]},packageList:[],natAcl:!1,natWeb:!1,backup:!0,safeGroup:!1,snap:!0,dataDisk:!1,addCloudFormRuls:{ssh_key:[{required:!0,message:this.$t("common.inpleaseChooseput")+"SSH"+this.$t("config.notificationSettings.key"),trigger:"blur"}],ssh_key_name:[{required:!0,message:this.$t("common.input")+this.$t("config.notificationSettings.key")+this.$t("common.name"),trigger:"blur"},{pattern:/^[A-Za-z0-9\u4e00-\u9fa5_]*$/,message:this.$t("common.msg178"),trigger:"blur"}],num:{validator:t,trigger:"blur"},cpu:{validator:a,trigger:"change"},memory:{validator:o,trigger:"change"},in_bw:{validator:s,trigger:"change"},rid:{required:!0,message:this.$t("cloud.mustChooseResourcePackages"),trigger:"blur"},backup_num:[{required:!0,message:this.$t("cloud.pleaseEnterBackup"),trigger:"blur"},{validator:r,trigger:"blur"}],traffic_quota:[{validator:function(t,a,o){e.checkedPackage.flow||o(),a||o(new Error(e.$t("common.limitTraffic")+e.$t("common.mustBig0"))),a>e.checkedPackage.flow-e.checkedPackage.flow_used&&o(new Error(e.$t("common.limitTraffic")+e.checkedPackage.flow+e.$t("common.used1")+e.checkedPackage.flow_used)),o()},trigger:"blur"}],systemDisk:[{validator:function(t,a,o){e.isAgent||o(),0===e.checkedPackage.disk&&o(),e.testDisk&&o(new Error(e.$t("common.diskAllotTotal")+e.checkedPackage.disk+","+e.$t("common.used1")+e.checkedPackage.disk_used)),o()}}],template:{required:!0,message:this.$t("cloud.selectATemplate"),trigger:"blur"},snap_num:[{required:!0,message:this.$t("cloud.pleaseEnterASnapshot"),trigger:"blur"},{validator:n,trigger:"blur"}],nat_acl_limit:[{required:!0,message:this.$t("cloud.pleaseEnterNatForwarding"),trigger:"blur"},{validator:c,trigger:"blur"}],nat_web_limit:[{required:!0,message:this.$t("cloud.enterNatStation"),trigger:"blur"},{validator:l,trigger:"blur"}],vpc_name:[{required:!0,message:this.$t("cloud.NetworkName"),trigger:"blur"},{validator:this.$validate.validateVpcName,trigger:"blur"}],vpc:[{required:!0,message:this.$t("cloud.pleaseSelectANetwork"),trigger:"change"}],os:[{required:!0,message:this.$t("cloud.selectSystem"),trigger:"change"}],network_type:[{required:!0,message:this.$t("cloud.pleaseSelectANetwork"),trigger:"change"}],ip_num:[{required:!0,message:this.$t("common.enterIpSegment"),trigger:"blur"},{validator:i,trigger:"blur"}],port:[{required:!0,message:this.$t("common.enterPost"),trigger:"blur"},{validator:this.$validate.validatePort,trigger:"blur"}],hostname:[{required:!0,message:this.$t("cloud.pleaseEnterTheHostName"),trigger:"blur"},{pattern:/^\S*([a-zA-Z])([a-zA-Z0-9-_.]){5,}$/,message:this.$t("cloud.pleaseEnterTheCorrectHostName")}],rootpass:[{required:!0,message:this.$t("cloud.pleaseEnterYourPassword"),trigger:"blur"},{pattern:/^(?!\/)(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z])[A-Za-z\d~!@#$&*()_\-+=|{}[\];:<>?,./]{6,}$/,message:this.$t("cloud.pleaseEnterTheCorrectPassword")}],data_disk_size:[{validator:function(t,a,o){e.dataDisk||o(),e.isAgent&&e.testDisk&&e.checkedPackage.disk&&o(new Error(e.$t("common.diskAllotTotal")+e.checkedPackage.disk+","+e.$t("common.used1")+e.checkedPackage.disk_used)),e.$validate.validateScope(t,a,o,1,1048576,e.$t("common.disk"))}}],vpc_ips:{required:!0,message:this.$t("cloud.enterInternalIpSegment"),trigger:"blur"}},memoryUnit:"GB",bandwidthUnit:"Mbps",areaSelectOptions:[],imageGroupOptions:[],imageOptions:[],clientSelectOptions:[],networkSelectOptions:[],storeSelectOptions:[],safeSelectOptions:[],smartBwList:[],smartCPUList:[],noMemory:!1,ipTypeSelect:[{name:this.$t("cloud.ipQuantity"),id:"ipNum"}],userParams:{search:"",page:1,per_page:20,sort:"asc"},isLoading:!1,userTotal:0,searchTotal:0,loadingUser:!1,nodeType:[{value:"host",label:this.$t("common.fullVersion")},{value:"lightHost",label:this.$t("common.lightweightVersion")},{value:"hyperv",label:"Hyper-V"},{value:"adsl",label:this.$t("common.adsl")}],curNode:[],filterNodeType:[],driveSelectOptions:[{name:"Virtio",type:3},{name:"Realtek 8139",type:1},{name:"Intel PRO/1000",type:2}],selectValue:[],defaultProps:{children:"ip",label:"ip_name",isLeaf:"leaf"},curCheck:[]}},watch:{curNode:function(e){this.filterNodeType=this.nodeType.filter((function(t){return e.includes(t.value)}))},isAdvance:function(e,t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=a.$refs.addCloudsForm.fields,t.map((function(e){var t=[["ip_num","ipaddress","backup_num","snap_num","nat_acl_limit","nat_web_limit","store","data_disk_size"]];if(t.includes(e.prop))return e.resetField(),!1})),a.dataDisk=!1;case 3:case"end":return e.stop()}}),e)})))()},"addCloudsForm.nat_web_limit":function(e){e>=0&&"lightHost"!==this.addCloudsForm.type&&(this.addCloudsForm.network_type="vpc")},"addCloudsForm.nat_acl_limit":function(e){e>=0&&"lightHost"!==this.addCloudsForm.type&&(this.addCloudsForm.network_type="vpc")},"addCloudsForm.template":function(e){this.changeTemplate()},"template.client":{handler:function(e){this.getTemplateList(e)}},"addCloudsForm.gid":function(e){this.systemDisk=1===e?this.$store.state.config.system_disk_size_for_windows||60:this.$store.state.config.system_disk_size_for_other||40},vpcIps:{handler:function(e){this.addCloudsForm.vpc_ips=e},immediate:!0,deep:!0}},computed:{testDisk:function(){var e=0;return this.systemDisk&&(e+=this.systemDisk),this.dataDisk&&(e+=this.addCloudsForm.data_disk_size),this.addCloudsForm.other_data_disk.forEach((function(t){e+=t.size})),e>this.checkedPackage.disk-this.checkedPackage.disk_used},vpcName:function(){var e=this,t=this.networkSelectOptions.find((function(t){return t.id===e.addCloudsForm.vpc}));return t?t.ips:""},vpcIps:function(){if(void 0!==this.vpc_ips.vpc2&&void 0!==this.vpc_ips.vpc3&&void 0!==this.vpc_ips.vpc4){var e=this.vpc_ips.vpc1.value+"."+this.vpc_ips.vpc2+"."+this.vpc_ips.vpc3+"."+this.vpc_ips.vpc4+"/"+this.vpc_ips.vpc6.value;return e}return""},minSystemDisk:{get:function(){var e=this,t=5;if(this.template.isTemplate){if(this.template.isTemplate&&this.template.list&&this.template.list.length>0){var a=this.template.list.find((function(t){return t.id===e.addCloudsForm.template}));a&&(t=a.size)}}else this.imageOptions[0]&&(t=1===this.imageOptions[0].image_group_id?27:8);return t}}},methods:{getSsh:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={page:1,per_page:9999,uid:e.addCloudsForm.client},t.next=3,u["a"].sshListReq(a);case 3:o=t.sent,e.sshList=o.data||[];case 5:case"end":return t.stop()}}),t)})))()},changeSamePass:function(){var e=this;this.addCloudsForm.the_same_pass&&(this.addCloudsForm.the_same_pass=0,this.$swal.fire({title:this.$t("common.msg166"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.isConfirmed&&(e.addCloudsForm.the_same_pass=1);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},changeRid:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getTemplateList(),e.getVpc(),e.changeIpGroup(),t.next=5,e.getArea();case 5:a=e.packageList.findIndex((function(t){return e.addCloudsForm.rid===t.id})),e.checkedPackage=e.packageList[a],o=[],e.checkedPackage.flow-e.checkedPackage.flow_used<=0?e.addCloudsForm.traffic_quota=0:e.addCloudsForm.traffic_quota=parseInt((e.checkedPackage.flow-e.checkedPackage.flow_used)/10),e.areaSelectOptions.length>0&&(e.areaSelectOptions[0].node.forEach((function(t){e.checkedPackage.node.forEach((function(e){e.node_id===t.id&&o.push(t)}))})),o.unshift(e.areaSelectOptions[0].node[0]),e.areaSelectOptions[0].node=o),1===o.length?e.areaSelectOptions=[]:e.getImageByNode(),e.checkedPackage.ip.length?(e.isShowIPNum=!1,e.ip.isIpAddress=1):(e.isShowIPNum=!0,e.ip.isIpAddress=0),e.filterStore();case 13:case"end":return t.stop()}}),t)})))()},changeType:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.addCloudsForm.node=0,"hyperv"===e.addCloudsForm.type&&(e.addCloudsForm.network_type="normal",e.addCloudsForm.password_type=0),!e.isAgent){t.next=8;break}return t.next=5,e.changeRid();case 5:"adsl"===e.addCloudsForm.type&&e.areaSelectOptions.length&&e.getAdsl(e.addCloudsForm.node,e.areaSelectOptions[0].id),t.next=11;break;case 8:return t.next=10,e.getArea();case 10:"adsl"===e.addCloudsForm.type&&e.areaSelectOptions.length&&e.getAdsl(e.addCloudsForm.node,e.areaSelectOptions[0].id);case 11:case"end":return t.stop()}}),t)})))()},changeSSH:function(){0===this.$store.state.config.edition&&this.$message(this.$t("common.msg8")),2===this.$store.state.config.edition&&this.$message(this.$t("common.msg228"))},changePassType:function(){var e=this.randomPass(8,1,1,0,1,void 0,1);this.addCloudsForm.ssh_key_name="skey_"+e,this.sshList.length?this.addCloudsForm.ssh_key=this.sshList[0].id:1===this.$store.state.config.edition?this.addCloudsForm.ssh_key=0:this.addCloudsForm.ssh_key=""},filterStore:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(t&&(this.areaSelectOptions||[]).forEach((function(t){(t.node||[]).forEach((function(a){t.selectNode===a.id&&e.activeId===t.id&&(a.store.length?(e.storeSelectOptions=a.store,e.noMemory=!1,e.node=a):(e.noMemory=!0,e.addCloudsForm.store=void 0,e.storeSelectOptions=t.store,e.node={nat_web:1,nat_acl:1}))}))})),this.osChange(),this.isAgent){var a=[];this.storeSelectOptions.forEach((function(t){e.checkedPackage.store.forEach((function(e){e.store_id===t.id&&a.push(t)}))})),this.storeSelectOptions=a}},changeTransparent:function(e){this.addCloudsForm.ip_num=0,this.addCloudsForm.ipv6_num=0},osChange:function(){var e=this,t=this.imageOptions.find((function(t){return t.id===e.addCloudsForm.os})),a=[];t&&(a=t.store_id),this.storeSelectOptions.forEach((function(e){e.disabled=!0,a.forEach((function(t){("local"===e.type&&0===t||t===e.id)&&(e.disabled=!1)}))})),this.addCloudsForm.store&&this.storeSelectOptions.find((function(t){return t.id===e.addCloudsForm.store})).disabled&&(this.addCloudsForm.store=void 0),this.storeSelectOptions=this.storeSelectOptions.filter((function(e){if(!e.disabled)return e}))},changeVpc3:function(){switch(this.vpc_ips.vpc6.value){case 16:this.vpc_ips.vpc3=0;break;case 17:this.vpc_ips.vpc3=this.near([0,128],this.vpc_ips.vpc3);break;case 18:this.vpc_ips.vpc3=this.near([0,64,128,192],this.vpc_ips.vpc3);break;case 19:this.vpc_ips.vpc3=this.near([0].concat(Object(r["a"])(this.productArr(32,224))),this.vpc_ips.vpc3);break;case 20:this.vpc_ips.vpc3=this.near([0].concat(Object(r["a"])(this.productArr(16,240))),this.vpc_ips.vpc3);break;case 21:this.vpc_ips.vpc3=this.near([0].concat(Object(r["a"])(this.productArr(8,248))),this.vpc_ips.vpc3);break;case 22:this.vpc_ips.vpc3=this.near([0].concat(Object(r["a"])(this.productArr(4,252))),this.vpc_ips.vpc3);break;case 23:this.vpc_ips.vpc3=this.near([0].concat(Object(r["a"])(this.productArr(2,254))),this.vpc_ips.vpc3);break}},changeVpc4:function(){switch(this.vpc_ips.vpc6.value){case 25:this.vpc_ips.vpc4=this.near([0,128],this.vpc_ips.vpc4);break;case 26:this.vpc_ips.vpc4=this.near([0,64,128,192],this.vpc_ips.vpc4);break;case 27:this.vpc_ips.vpc4=this.near([0].concat(Object(r["a"])(this.productArr(32,224))),this.vpc_ips.vpc4);break;case 28:this.vpc_ips.vpc4=this.near([0].concat(Object(r["a"])(this.productArr(16,240))),this.vpc_ips.vpc4);break}},productArr:function(e,t,a){for(var o=[],s=e;s<t+1;s+=e)o.push(s);return o},near:function(e,t){return e.sort((function(e,a){return Math.abs(e-t)-Math.abs(a-t)})),e[0]},changeVpcMask:function(e){switch(e){case 16:this.vpc_ips.vpc3=0,this.vpc_ips.vpc4=0;break;case 17:this.vpc_ips.vpc3=this.near([0,128],this.vpc_ips.vpc3),this.vpc_ips.vpc3Tips=this.$t("cloud.range2"),this.vpc_ips.vpc4=0;break;case 18:this.vpc_ips.vpc3=this.near([0,64,128,192],this.vpc_ips.vpc3),this.vpc_ips.vpc3Tips=this.$t("cloud.range3"),this.vpc_ips.vpc4=0;break;case 19:this.vpc_ips.vpc3=this.near([0].concat(Object(r["a"])(this.productArr(32,224))),this.vpc_ips.vpc3),this.vpc_ips.vpc3Tips=this.$t("cloud.range4"),this.vpc_ips.vpc4=0;break;case 20:this.vpc_ips.vpc3=this.near([0].concat(Object(r["a"])(this.productArr(16,240))),this.vpc_ips.vpc3),this.vpc_ips.vpc3Tips=this.$t("cloud.range5"),this.vpc_ips.vpc4=0;break;case 21:this.vpc_ips.vpc3=this.near([0].concat(Object(r["a"])(this.productArr(8,248))),this.vpc_ips.vpc3),this.vpc_ips.vpc3Tips=this.$t("cloud.range6"),this.vpc_ips.vpc4=0;break;case 22:this.vpc_ips.vpc3=this.near([0].concat(Object(r["a"])(this.productArr(4,252))),this.vpc_ips.vpc3),this.vpc_ips.vpc3Tips=this.$t("cloud.range7"),this.vpc_ips.vpc4=0;break;case 23:this.vpc_ips.vpc3=this.near([0].concat(Object(r["a"])(this.productArr(2,254))),this.vpc_ips.vpc3),this.vpc_ips.vpc3Tips=this.$t("cloud.range8"),this.vpc_ips.vpc4=0;break;case 24:this.vpc_ips.vpc3Tips=this.$t("cloud.range9"),this.vpc_ips.vpc4=0;break;case 25:this.vpc_ips.vpc4=this.near([0,128],this.vpc_ips.vpc4),this.vpc_ips.vpc4Tips=this.$t("cloud.range2"),this.vpc_ips.vpc3Tips=this.$t("cloud.range1");break;case 26:this.vpc_ips.vpc4=this.near([0,64,128,192],this.vpc_ips.vpc4),this.vpc_ips.vpc4Tips=this.$t("cloud.range3"),this.vpc_ips.vpc3Tips=this.$t("cloud.range1");break;case 27:this.vpc_ips.vpc4=this.near([0].concat(Object(r["a"])(this.productArr(32,224))),this.vpc_ips.vpc4),this.vpc_ips.vpc4Tips=this.$t("cloud.range4"),this.vpc_ips.vpc3Tips=this.$t("cloud.range1");break;case 28:this.vpc_ips.vpc4=this.near([0].concat(Object(r["a"])(this.productArr(16,240))),this.vpc_ips.vpc4),this.vpc_ips.vpc4Tips="范围: 0,16...240",this.vpc_ips.vpc3Tips=this.$t("cloud.range1");break}},changeVpcIp:function(){switch(this.vpc_ips.vpc1.value){case 10:this.vpc_ips.vpc1.tips=this.$t("cloud.range1"),this.vpc_ips.min=0,this.vpc_ips.max=255;break;case 172:this.vpc_ips.vpc1.tips=this.$t("cloud.range10"),(this.vpc_ips.vpc2<16||this.vpc_ips.vpc2>31)&&(this.vpc_ips.vpc2=16),this.vpc_ips.min=16,this.vpc_ips.max=31;break;case 192:this.vpc_ips.vpc1.tips=this.$t("cloud.range11"),this.vpc_ips.vpc2=168,this.vpc_ips.min=168,this.vpc_ips.max=168;break}},addDisk:function(){if(this.addCloudsForm.other_data_disk.length>=15)this.$message.error(this.$t("cloud.onlyAdd16"));else{var e={size:1};this.addCloudsForm.other_data_disk.push(e)}},removeDisk:function(e){this.addCloudsForm.other_data_disk.splice(e,1)},randomPortClick:function(){this.$refs.addCloudsForm.clearValidate("port"),this.addCloudsForm.port=this.$tool.randomNum(1e4,2e4)},changeSwitch:function(e){switch(e){case"natAcl":this.addCloudsForm.nat_acl_limit=this.natAcl?10:-1;break;case"natWeb":this.addCloudsForm.nat_web_limit=this.natWeb?10:-1;break;case"backup":this.addCloudsForm.backup_num=this.backup?3:-1;break;case"disk":this.addCloudsForm.backup_num=this.backup?3:-1,this.checkedPackage.disk&&this.checkedPackage.disk_num?(this.isAgent&&this.checkedPackage.disk-this.checkedPackage.disk_used<=0&&(this.dataDisk=!1,this.$message.error(this.$t("cloud.diskCapacityIs0"))),this.isAgent&&this.checkedPackage.disk_num-this.checkedPackage.disk_num_used-1<=0&&(this.dataDisk=!1,this.$message.error(this.$t("cloud.theRemaining0")))):this.checkedPackage.disk?this.isAgent&&this.checkedPackage.disk-this.checkedPackage.disk_used<=0&&(this.dataDisk=!1,this.$message.error(this.$t("cloud.diskCapacityIs0"))):this.checkedPackage.disk_num&&this.isAgent&&this.checkedPackage.disk_num-this.checkedPackage.disk_num_used-1<=0&&(this.dataDisk=!1,this.$message.error(this.$t("cloud.theRemaining0")));break;case"snap":this.addCloudsForm.snap_num=this.snap?3:-1;break;default:break}},changeIpProp:function(e){this.$refs.tree&&this.$refs.tree.filter(""),this.$refs.tree&&this.$refs.tree.setCheckedKeys([]),this.selectValue=[],this.addCloudsForm.ipaddress=[],this.curCheck=[];var t=this.$refs.addCloudsForm.fields;t.map((function(e){if("ip_num"===e.prop||"ipaddress"===e.prop)return e.resetField(),!1})),1!==e&&2!==e||(this.addCloudsForm.ip_group=0,this.changeIpGroup())},getIpCreated:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].getIpGroupsReq({list_type:"all",area:e.activeId,node:e.addCloudsForm.node,rid:e.addCloudsForm.rid});case 2:a=t.sent,a?(a.data.unshift({id:0,name:e.$t("cloud.automatic")}),e.ip.grouplist=a.data):e.ip.grouplist=[];case 4:case"end":return t.stop()}}),t)})))()},changeIpGroup:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.addCloudsForm.ipaddress=[],e.ip.list=[],a=[],e.isAgent||e.areaSelectOptions.forEach((function(e){e.node.forEach((function(e){a.push(e.id)}))})),o={ip_group:e.addCloudsForm.ip_group,node:e.addCloudsForm.node||a,area:e.addCloudsForm.area,rid:e.addCloudsForm.rid},2===e.ip.isIpAddress&&(o.uid=e.addCloudsForm.client),t.next=8,c["a"].getIpFreeReq(o);case 8:s=t.sent,s.forEach((function(t){t.ip_name="".concat(t.ip_name,"（").concat(e.$t("area.ipQuantity"),":").concat(t.ip.length,"）"),t.ip=t.ip.map((function(e){return e.ip_name=e.ip,e.leaf=!0,delete e.ip,e}))})),e.ip.list=s;case 11:case"end":return t.stop()}}),t)})))()},changeIp:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.addCloudsForm.ipaddress.length>0&&(t.addCloudsForm.num=1),"object"===Object(i["a"])(e)?(o=t.ip.list.reduce((function(t,a){return t.push.apply(t,Object(r["a"])(a.ip.reduce((function(t,a){return e.includes(a.ip_name)&&t.push(a.id),t}),[]))),t}),[]),t.$nextTick((function(){var a=[];t.ip.list.forEach((function(e){var t=e.ip.reduce((function(e,t){return e.push(t.id),e}),[]);t.every((function(e){return o.includes(e)}))?o.push(e.id):t.some((function(e){return o.includes(e)}))&&a.push(e.id)})),t.$refs.tree.setCheckedKeys(o),a.forEach((function(e){var a=t.$refs.tree.getNode(e);a&&(a.indeterminate=!0)})),t.curCheck=t.curCheck.filter((function(t){return e.includes(t.ip_name)}))}))):e&&t.$refs.tree.filter(e);case 2:case"end":return a.stop()}}),a)})))()},hideSelect:function(){this.$refs.tree.filter("")},clearIp:function(){this.curCheck=[],this.arrLable=[],this.selectValue=[],this.$refs.tree.setCheckedKeys([])},loadNode:function(e,t){var a=this.ip.list.reduce((function(e,t){return e.push({id:t.id,ip_name:t.ip_name}),e}),[]);if(0===e.level)return t(a);var o,s=null===(o=this.ip.list.filter((function(t){return t.id===e.data.id}))[0])||void 0===o?void 0:o.ip;return t(s)},filterNode:function(e,t){return-1!==t.ip_name.indexOf(e)},handlerCheckChange:function(e){var t=this.$refs.tree.getCheckedNodes().indexOf(e)>-1;if(e.leaf)t?this.curCheck.push(e):this.curCheck=this.curCheck.filter((function(t){return t.id!==e.id}));else if(t){var a;(a=this.curCheck).push.apply(a,Object(r["a"])(this.ip.list.filter((function(t){return t.id===e.id}))[0].ip))}else{var o=this.ip.list.filter((function(t){return t.id===e.id}))[0].ip.reduce((function(e,t){return e.push(t.id),e}),[]);this.curCheck=this.curCheck.filter((function(e){return!o.includes(e.id)}))}var s=[],i=[];this.curCheck.forEach((function(e){i.push(e.ip_name),s.push(e.id)})),this.addCloudsForm.ipaddress=Array.from(new Set(i)),this.selectValue=Array.from(new Set(s))},getArea:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.getCloudsCreatePage({type:e.addCloudsForm.type,rid:e.addCloudsForm.rid}).then((function(t){if((t.data||[]).forEach((function(t,a){t.selectNode=0===a?0:void 0,t.node.unshift({id:0,name:e.$t("cloud.automatic"),store:[],status:1})})),e.curNode=t.node_type,e.areaSelectOptions=t.data,t.data.length)if(e.activeId=t.data[0].id,e.addCloudsForm.area=t.data[0].id,e.getVpc(),e.isAgent||e.getImageByNode(),t.data[0].store.length){var a=t.data[0].store;e.storeSelectOptions=a,e.addCloudsForm.store=void 0,e.noMemory=!1}else e.noMemory=!0}),(function(t){t.data.error&&e.$message.error(t.data.error)}));case 2:case"end":return t.stop()}}),t)})))()},getAdsl:function(){var e=arguments,t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var o,s,i,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=e.length>0&&void 0!==e[0]?e[0]:"",s=e.length>1&&void 0!==e[1]?e[1]:"",i={per_page:99999,used:0,node:o,area:s,lock:0},a.next=5,c["a"].getAdslListReq(i);case 5:r=a.sent,n=r.data,t.adslList=n;case 8:case"end":return a.stop()}}),a)})))()},changeAdsl:function(){var e=this;if(this.addCloudsForm.adsl){var t=this.adslList.find((function(t){return t.id===e.addCloudsForm.adsl}));t&&(this.checkVlan=t.vlan)}else this.checkVlan=""},refreshArea:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.refresh=!0,a.prev=1,a.next=4,t.$api.refreshAreaReq({area:e.id});case 4:t.$message.success(t.$t("common.renewal")+t.$t("systemUpgrade.nodeInfo")+t.$t("common.success")),t.getArea(),a.next=10;break;case 8:a.prev=8,a.t0=a["catch"](1);case 10:t.refresh=!1;case 11:case"end":return a.stop()}}),a,null,[[1,8]])})))()},areaSelectChange:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.activeId!==e&&(this.activeId=e,this.areaSelectOptions.forEach((function(o){e!==o.id?(o.selectNode=0,t.addCloudsForm.node=0):(t.addCloudsForm.area=o.id,a&&(o.selectNode=0),o.store.length?(t.storeSelectOptions=o.store,t.noMemory=!1):(t.noMemory=!0,t.storeSelectOptions=[],t.addCloudsForm.store=void 0))})),this.isAgent||this.getIpCreated(),a&&(this.getVpc(),this.getImageByNode(!1),"adsl"===this.addCloudsForm.type&&this.getAdsl(this.addCloudsForm.node,this.addCloudsForm.area)))},nodeSelectChange:function(e,t,a){var o=this;this.areaSelectChange(t,!1),this.addCloudsForm.node=e,this.areaSelectOptions.forEach((function(t){var a=t.node.find((function(t){return t.id===e}));a&&(o.trunk=a.trunk)})),"adsl"===this.addCloudsForm.type&&this.getAdsl(this.addCloudsForm.node,this.addCloudsForm.area),this.getVpc(),this.isAgent||this.getIpCreated(),this.getImageByNode(),this.ip.isIpAddress&&this.changeIpGroup(),this.getTemplateList(),this.filterStore()},changeTemplate:function(){var e=this;if(this.template.isTemplate){var t=this.template.list.find((function(t){return t.id===e.addCloudsForm.template}));t&&(this.systemDisk=t.size)}else 1===this.addCloudsForm.gid?this.systemDisk=this.$store.state.config.system_disk_size_for_windows||60:this.systemDisk=this.$store.state.config.system_disk_size_for_other||40},imageGroupSelectChange:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.$refs.addCloudsForm.clearValidate("port"),1===this.addCloudsForm.gid?this.addCloudsForm.port=3389:this.addCloudsForm.port=22,(this.imageGroupOptions||[]).forEach((function(o){e===o.id&&(t.addCloudsForm.osGroupSvg=o.svg,t.imageOptions=[],t.addCloudsForm.os=void 0,t.imageOptions=o.image,o.image.length&&(t.addCloudsForm.os=o.image[0].id,t.filterStore(a)))})),1===this.addCloudsForm.osGroupSvg&&(this.addCloudsForm.password_type=0)},getImageByNode:function(e){var t=this,a=null;this.addCloudsForm.node?this.areaSelectOptions.forEach((function(e){e.id===t.addCloudsForm.area&&e.node.forEach((function(e){a=e.has_store}))})):this.areaSelectOptions.forEach((function(e){e.id===t.addCloudsForm.area&&(a=e.has_store)}));var o=[];this.addCloudsForm.node?o.push(this.addCloudsForm.node):this.areaSelectOptions.forEach((function(e){e.id===t.addCloudsForm.area&&e.node.forEach((function(e){e.id&&o.push(e.id)}))})),this.$api.getNodeImages({id:o,type:"node",store_type:a,rid:this.addCloudsForm.rid}).then((function(a){if(t.imageGroupOptions=a,a.length){a.forEach((function(e,o){"CentOS"===e.name&&(t.addCloudsForm.gid=a[o].id,t.addCloudsForm.osGroupSvg=a[o].svg)}));var o=a.every((function(e){return"CentOS"!==e.name}));o&&(t.addCloudsForm.gid=a[0].id,t.addCloudsForm.osGroupSvg=a[0].svg),t.imageGroupSelectChange(t.addCloudsForm.gid,e)}else t.addCloudsForm.gid=void 0,t.addCloudsForm.osGroupSvg=void 0,t.imageGroupOptions=[],t.addCloudsForm.os=void 0,t.imageOptions=[]}),(function(e){t.$message.error(e.data.error)}))},remoteMethod:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var o,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(""===e){a.next=16;break}return t.loadingUser=!0,t.userTotal=0,t.userParams.search=e,t.userParams.page=1,t.clientSelectOptions=[],t.template.clientSelectOptions=[],a.next=9,t.$api.loadUserPage(t.userParams);case 9:o=a.sent,t.clientSelectOptions=o.data,t.template.clientSelectOptions=o.data,t.searchTotal=o.meta.total,t.loadingUser=!1,a.next=23;break;case 16:return t.userParams.page=1,t.userParams.search="",a.next=20,t.$api.loadUserPage(t.userParams);case 20:s=a.sent,t.clientSelectOptions=s.data,t.template.clientSelectOptions=s.data;case 23:case"end":return a.stop()}}),a)})))()},clearHandler:function(){this.userParams.search="",this.userParams.page=1,this.clientSelectOptions=[],this.template.clientSelectOptions=[],this.getUserList()},loadMore:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.clientSelectOptions.length<e.userTotal&&!e.isLoading||e.clientSelectOptions.length<e.searchTotal&&!e.isLoading)){t.next=8;break}return e.userParams.page+=1,e.isLoading=!0,t.next=5,e.$api.loadUserPage(e.userParams);case 5:a=t.sent,e.isLoading=!1,a.data.forEach((function(t){e.clientSelectOptions.push(t),e.template.clientSelectOptions.push(t)}));case 8:case"end":return t.stop()}}),t)})))()},getUserList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.userParams,a.user=e.isAgent?e.userInfo.id:"",t.next=4,e.$api.loadUserPage(a);case 4:o=t.sent,e.userTotal=o.meta.total,e.template.clientSelectOptions=JSON.parse(JSON.stringify(o.data)),e.template.clientSelectOptions.unshift({id:0,username:e.$t("cloud.allCustomers")}),o.data.unshift({id:0,username:e.$t("cloud.createNewCustomers")}),e.addCloudsForm.client=1,o.data.forEach((function(t){e.clientSelectOptions.push(t)})),1===o.data.length&&(e.addCloudsForm.client=0),e.isAgent&&(e.clientSelectOptions.push({id:e.userInfo.id,username:e.userInfo.username}),e.addCloudsForm.client=e.userInfo.id),e.getVpc();case 14:case"end":return t.stop()}}),t)})))()},changeUser:function(){this.getVpc(),this.isAgent||this.getSsh()},getVpc:function(){var e=this;if("vpc"===this.addCloudsForm.network_type&&(this.addCloudsForm.transparent=0),0===this.addCloudsForm.client)return this.networkSelectOptions=[],this.networkSelectOptions.unshift({id:0,name:this.$t("cloud.createANewNetwork")}),void(this.addCloudsForm.vpc=0);var t={area:this.addCloudsForm.area,user:this.addCloudsForm.client,enable:1,rid:this.addCloudsForm.rid};this.$api.getVpcNetworks(t).then((function(t){if(t&&t.data.length){e.addCloudsForm.vpc=0===e.addCloudsForm.client?0:t.data[0].id;var a=[];t.data.forEach((function(e){a.push(e)})),e.networkSelectOptions=a,(!e.isAgent||!e.checkedPackage.vpc_num||e.checkedPackage&&e.checkedPackage.vpc_num-e.checkedPackage.vpc_num_used>0)&&a.unshift({id:0,name:e.$t("cloud.createANewNetwork")})}else e.networkSelectOptions=[],(!e.isAgent||!e.checkedPackage.vpc_num||e.checkedPackage&&e.checkedPackage.vpc_num-e.checkedPackage.vpc_num_used>0)&&e.networkSelectOptions.unshift({id:0,name:e.$t("cloud.createANewNetwork")}),e.addCloudsForm.vpc=0}),(function(t){t.data&&e.$message.error(t.data.error)})),this.$api.getSafeGroupRes({list_type:"all",user:this.addCloudsForm.client,rid:this.addCloudsForm.rid}).then((function(t){t&&t.data.length?(e.addCloudsForm.security_group=0===e.addCloudsForm.client?0:t.data[0].id,e.safeSelectOptions=t.data):e.addCloudsForm.security_group=0;var a=e.safeSelectOptions.findIndex((function(e){return 0===e.id}));(-1===a&&e.isAgent&&e.checkedPackage.security_num-e.checkedPackage.security_num_used*e.addCloudsForm.num>0||!e.isAgent||e.checkedPackage&&!e.checkedPackage.security_num)&&e.safeSelectOptions.unshift({id:0,name:e.$t("cloud.createASecurityGroup")})})),this.addCloudsForm.vpc_name=0===this.addCloudsForm.client?"VPC-"+this.randomPass(6,1,1,0,1,void 0,0):this.addCloudsForm.vpc_name,this.addCloudsForm.security_group_name=this.randomPass(16,1,1,0,1,void 0,0),this.changeIpGroup()},netChange:function(e){this.addCloudsForm.vpc=void 0},netWorkChange:function(){if(0!==this.addCloudsForm.vpc)return!1;this.addCloudsForm.vpc_name="VPC-"+this.randomPass(6,1,1,0,1,void 0,0)},randomHostName:function(){for(var e=new Date,t=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getDate().toString().padStart(2,"0"),s="",i=0;i<6;i++){var r=Math.floor(10*Math.random());s+=r}this.addCloudsForm.hostname="C"+t+a+o+s},createRandomPassHandleClick:function(){this.addCloudsForm.rootpass=this.randomPass(12,1,1,0,1,void 0,1)},randomPass:function(e,t,a,o,s,i,r){var n="";if(0===t&&0===a&&0===o)return n;for(var c=e;c>=0;c--){var l=Math.floor(94*Math.random()+33);0===t&&l>=48&&l<=57||0===a&&(l>=65&&l<=90||l>=97&&l<=122)||0===o&&(l>=33&&l<=47||l>=58&&l<=64||l>=91&&l<=96||l>=123&&l<=127)?c++:n+=String.fromCharCode(l)}if(0===s&&(n=0===i?n.toUpperCase():n.toLowerCase()),r){var d=Math.floor(10*Math.random()+1)+n,u=new RegExp(/^\S*(?=\S{6,})(?=\S*\d)(?=\S*[A-Z])(?=\S*[a-z])\S*$/);return u.test(d)?d:d+"Az2"}return Math.floor(10*Math.random()+1)+n},getIpAdressList:function(){this.addCloudsForm.ipType=this.ipTypeSelect[0].id},getTemplateList:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var o,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.template.list=[],t.addCloudsForm.template=void 0,o={user:e,list_type:"all",status:1,area:t.addCloudsForm.area,node:0===t.addCloudsForm.node?void 0:t.addCloudsForm.node,rid:t.addCloudsForm.rid},a.next=5,d["a"].modelListReq(o);case 5:if(s=a.sent,i=s.data,i){a.next=9;break}return a.abrupt("return",!1);case 9:t.template.list=i,t.template.list&&t.template.list.length>0&&(t.$route.query.template&&0===t.template.client?(t.template.isTemplate=!0,t.addCloudsForm.template=parseInt(t.$route.query.template)):t.addCloudsForm.template=t.template.list[0].id);case 11:case"end":return a.stop()}}),a)})))()},submitForm:Object(p["b"])((function(){var e=this;if(this.addCloudsForm.ip_num=parseInt(this.addCloudsForm.ip_num),"GB"===this.memoryUnit?this.addCloudsForm.memory=1024*this.tempMemory:this.addCloudsForm.memory=this.tempMemory,"Gbps"===this.bandwidthUnit?this.addCloudsForm.in_bw=1024*this.bandwidth:this.addCloudsForm.in_bw=this.bandwidth,!this.isAgent||this.addCloudsForm.store||this.storeSelectOptions.length){this.addCloudsForm.out_bw=this.addCloudsForm.in_bw,this.addCloudsForm.system_disk_size=this.systemDisk;var t=JSON.parse(JSON.stringify(this.addCloudsForm));this.$refs.tree&&(t.ipaddress=this.$refs.tree.getCheckedKeys(!0)),2===this.ip.isIpAddress&&(t.ip_type="elastic"),this.dataDisk&&this.addCloudsForm.other_data_disk.forEach((function(t){if(t.size>1048576)return e.$message({message:e.$t("cloud.diskSizeIs"),type:"warning"})})),this.dataDisk||(delete t.data_disk_size,delete t.other_data_disk),this.template.isTemplate&&(delete t.os,delete t.port),0===this.node.nat_web&&delete t.nat_web_limit,0===this.node.nat_acl&&delete t.nat_acl_limit,this.cpu_limit||(t.cpu_limit=0),this.gpuLimit||delete t.gpu_num,this.isAdvance||(delete t.vpc_ips,delete t.nat_web_limit,delete t.store,delete t.cpu_model,delete t.advanced_cpu,delete t.traffic_quota,delete t.systemDisk,delete t.data_disk_size,delete t.advanced_bw,delete t.other_data_disk,delete t.cpu_limit,delete t.gpu_num,delete t.backup_num,delete t.snap_num,delete t.security_group,delete t.nat_acl_limit),t.ipaddress.length>0&&delete t.ip_num,this.safeGroup||(delete t.security_group,delete t.security_group_name),-1===this.checkedPackage.backup_num&&(t.backup_num=-1),-1===this.checkedPackage.snap_num&&(t.snap_num=-1),"hyperv"===this.addCloudsForm.type&&(t.dynamic_memory=this.dynamicMemory?1:0),"adsl"===this.addCloudsForm.type?(delete t.ipaddress,delete t.ip_num,delete t.ip_group,delete t.network_type,delete t.nat_acl_limit,delete t.nat_web_limit,delete t.security_group):delete t.adsl,t.password_type?(delete t.rootpass,0!==t.ssh_key?delete t.ssh_key_name:delete t.ssh_key):(delete t.ssh_key,delete t.ssh_key_name),(!this.ipv6_enable||!this.isAdvance||"normal"!==this.addCloudsForm.network_type||this.natAcl||this.natWeb||"hyperv"===this.addCloudsForm.type||"adsl"===this.addCloudsForm.type||0===this.$store.state.config.edition||2===this.$store.state.config.edition||this.trunk)&&delete t.ipv6_num,"transparent"===t.network_type&&(t.network_type="normal",t.transparent=1),this.$refs.addCloudsForm.validate(function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(o){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(o){a.next=2;break}return a.abrupt("return",!1);case 2:e.loading=!0,e.$api.createCloud(t).then((function(a){var o=[];if("string"!==typeof a.id?o=a.id.filter((function(e){return parseInt(e)})):o.push(parseInt(a.id)),t.password_type&&t.ssh_key_name&&a.ssh_key){var s=new Blob([a.ssh_key.key],{type:"text/plain;charset=utf-8"});e.$saveAs(s,t.ssh_key_name+".pem")}e.cloudExport&&e.cloudExportByTxt(o),e.$message.success(e.$t("cloud.createSuccess")),e.$router.push({path:"/clouds"})}),(function(t){e.$message.error(t.data.error)})).finally((function(){e.loading=!1}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}else this.$message.error(this.$t("common.noStore"))}),2e3),cloudExportByTxt:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var o,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,d["a"].exportCloudByTxt({id:e});case 2:o=a.sent,s=new Blob([o],{type:"text/plain;charset=utf-8"}),t.$saveAs(s,"实例信息.csv");case 5:case"end":return a.stop()}}),a)})))()},getResource:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getUserInfo();case 2:e.addCloudsForm.rid=e.packageList[0].id,e.checkedPackage=e.packageList[0],e.changeRid();case 5:case"end":return t.stop()}}),t)})))()},getUserInfo:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.getUserInfo();case 2:a=t.sent,e.isAgent&&a.resource_package.length&&a.resource_package.forEach((function(t){e.packageList.push(t)}));case 4:case"end":return t.stop()}}),t)})))()},getRuleslist:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m["a"].getSmartBw({per_page:99999});case 3:return a=t.sent,e.smartBwList=a.data.filter((function(e){return e.status}))||[],t.next=7,m["a"].getSmartCpu({per_page:99999});case 7:o=t.sent,e.smartCPUList=o.data.filter((function(e){return e.status}))||[],t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})))()},getIPV6:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["a"].getIPConfigReq();case 2:a=t.sent,e.ipv6_enable=a.ipv6_enable;case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return document.onkeydown=function(t){var a=t;13===a.keyCode&&e.submitForm()},t.next=3,e.getArea();case 3:if(e.getTemplateList(),e.randomHostName(),e.createRandomPassHandleClick(),e.getIpAdressList(),e.getIPV6(),e.isAgent||(e.getIpCreated(),e.getRuleslist()),e.addCloudsForm.vpc_name="VPC-"+e.randomPass(6,1,1,0,1,void 0,0),!e.isAgent){t.next=13;break}return t.next=13,e.getResource();case 13:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getUserList();case 2:e.changeUser();case 3:case"end":return t.stop()}}),t)})))()}},h=f,g=(a("4c68"),a("9143"),a("2877")),_=Object(g["a"])(h,o,s,!1,null,"49453740",null);t["default"]=_.exports},eb13:function(e,t,a){},f02f:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-card",[a("div",{staticClass:"crumbs-wrapper"},[a("crumbs")],1),a("metalTable",{ref:"tableRef",attrs:{tableLoading:e.tableLoading,tableData:e.tableData,total:e.total,orderby:e.orderby,sorting:e.sorting,page:e.page,pageSize:e.pageSize,search:e.search},on:{getTableData:e.getTableData,"selection-change":e.selectionChange,"update:orderby":function(t){e.orderby=t},"update:sorting":function(t){e.sorting=t},"update:page":function(t){e.page=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"update:search":function(t){e.search=t}},scopedSlots:e._u([{key:"button",fn:function(){return[a("cl-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.openDialog(e.option)}}},[e._v(e._s(e.$t("common.Setting"))+" ")])]},proxy:!0},{key:"table",fn:function(){return[a("el-table-column",{attrs:{"class-name":"selection",type:"selection",width:"20",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70"}}),a("el-table-column",{attrs:{prop:"hostname",label:e.$t("common.hostName"),"min-width":"160","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("router-link",{attrs:{to:{name:"CloudsHome",query:{id:o.id}}}},[a("el-link",{staticClass:"text-ellipsis",attrs:{type:"primary"}},[e._v(e._s(o.hostname))])],1)]}}])}),a("el-table-column",{attrs:{prop:"user.username",label:e.$t("common.user"),"min-width":"120","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("div",[e.isAgent?a("span",[e._v(e._s(o.user.username))]):o.user.parent?a("span",[e._v(e._s(o.user.username)+"("+e._s(o.user.parent_name)+")")]):a("span",[e._v(e._s(o.user.username))])])]}}])}),a("el-table-column",{attrs:{prop:"mainip",label:"IP","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[a("systemIcon",{attrs:{network_type:t.network_type,mainip:t.mainip,ipaddress:t.ipaddress}})]}}])}),a("el-table-column",{attrs:{prop:"os",label:e.$t("cloud.operatingSystem"),"min-width":"180","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("img",{staticStyle:{height:"20px","margin-right":"10px"},attrs:{src:e.$globalUrl+"/common/system/"+o.svg+".svg",alt:""}}),a("span",{staticClass:"text-ellipsis"},[e._v(e._s(o.os))])])]}}])}),a("el-table-column",{attrs:{prop:"node_name",label:e.$t("common.nodeArea"),"min-width":"100px","show-overflow-tooltip":"",formatter:function(e){return e.node_name+"("+(e.area.name||"")+")"}}}),a("el-table-column",{attrs:{prop:"recycle_time",label:e.$t("common.recycleStationTime"),width:"180"}}),a("el-table-column",{attrs:{prop:"delete_time",label:e.$t("common.deleteTime"),width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-tooltip",{attrs:{content:o.delete_time}},[a("div",{staticClass:"cursor"},[e._v(e._s(e.$tool.getDateDiff(o.delete_time)))])])]}}])}),a("el-table-column",{attrs:{label:e.$t("common.manage"),width:"158",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("div",{staticClass:"icon-wrapper"},[a("cl-button",{attrs:{type:"restore"},on:{click:function(t){return e.removeRow(o)}}}),a("cl-button",{attrs:{type:"delete"},on:{click:function(t){return e.deleteRow(o)}}})],1)]}}])})]},proxy:!0},{key:"batch",fn:function(){return[a("el-dropdown",{attrs:{szie:"small"}},[a("span",{staticClass:"el-dropdown-link delete-btn",staticStyle:{outline:"none",display:"inline-block","min-width":"70px"}},[e._v(" "+e._s(e.$t("common.batch"))+" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{on:{click:function(t){e.massOperation("restore",e.$t("common.restore"))}}},[e._v(e._s(e.$t("common.restore"))+" ")])]),a("el-dropdown-item",[a("div",{on:{click:function(t){e.massOperation("delete",e.$t("common.delete"))}}},[e._v(e._s(e.$t("common.removeCompletely"))+" ")])])],1)],1)]},proxy:!0}])}),a("el-dialog",{attrs:{title:e.$t("common.stationDeleteTime"),visible:e.form.formDialogVisable,width:"500px"},on:{"update:visible":function(t){return e.$set(e.form,"formDialogVisable",t)},closed:e.closeDialog}},[a("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.formRule,size:"medium","label-width":"140px","label-position":e.$globalConfig.labelPosition}},[a("el-form-item",{attrs:{label:e.$t("common.stationDeleteTime"),prop:"recycle_bin"}},[a("el-input-number",{staticClass:"fl mr-20",staticStyle:{width:"200px"},attrs:{controls:!1,precision:0,min:0,max:100},model:{value:e.formData.recycle_bin,callback:function(t){e.$set(e.formData,"recycle_bin",t)},expression:"formData.recycle_bin"}}),a("div",{staticClass:"slider_box_unit fl"},[e._v(e._s(e.$t("common.Day"))+" ")])],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.form.formDialogVisable=!1}}},[e._v(e._s(e.$t("common.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$t("common.sure")))])],1)],1)],1)],1)},s=[],i=(a("d81d"),a("dca8"),a("ac1f"),a("841c"),a("96cf"),a("1da1")),r=a("d9e2"),n=a("d75a"),c=a("8491"),l={metaInfo:function(){return{title:this.$t("common.recycleBin")}},mixins:[n["a"]],components:{systemIcon:r["a"]},data:function(){return{tableData:[],total:0,isAgent:JSON.parse(localStorage.getItem("isAgent")),tableLoading:!1,orderby:"recycle_time",checkRow:[],formData:{recycle_bin:1},formRule:{recycle_bin:{required:!0,message:this.$t("common.recycleStationTime"),trigger:"blur"}}}},computed:{},watch:{},mounted:function(){var e=this.$searchAlive.urlGetData();e.search&&(this.search=e.search,this.$refs.tableRef.metalSearch=e.search,this.$refs.tableRef.getTableData())},methods:{option:function(){this.formData.recycle_bin=this.$store.state.config.recycle_bin||1,this.form.type="optionRecyle"},getTableData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$searchAlive.urlUpdate({search:e.search},location.href,e.$route.query),t.prev=1,e.tableLoading=!0,a={orderby:e.orderby,sort:e.sorting,per_page:e.pageSize,search:e.search,page:e.page,status:"recycle"},t.next=6,c["a"].cloudListReq(a);case 6:o=t.sent,o||(e.tableData=[],e.page=1,e.total=0),e.tableData=Object.freeze(o.data),e.total=o.meta.total,t.next=14;break;case 12:t.prev=12,t.t0=t["catch"](1);case 14:return t.prev=14,e.tableLoading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,12,14,17]])})))()},deleteRow:function(e){var t=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$swal.fire({title:this.$t("common.msg45")+e.hostname+this.$t("common.why")+"？",icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(o){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!o.isConfirmed){a.next=5;break}return a.next=3,c["a"].deleteCloudReq({id:e.id});case 3:t.$message.success(t.$t("common.deleteSuccess")),t.getTableData();case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},massDeleteRow:function(){var e=this;this.$swal.fire({title:this.$t("common.msg46"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.isConfirmed){t.next=5;break}return t.next=3,c["a"].massDeleteCloudReq({id:e.checkRow});case 3:e.$message.success(e.$t("common.deleteSuccess")),e.getTableData();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},removeRow:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single",o="single"===a?this.$t("common.determineRecovery")+e.hostname+this.$t("common.why")+"？":this.$t("common.msg47"),s="single"===a?[e.id]:this.checkRow;this.$swal.fire({title:o,icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel")}).then(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=5;break}return e.next=3,c["a"].recycleBinReq({id:s});case 3:t.$message.success(t.$t("common.recoverySuccess")),t.getTableData();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},optionRecyle:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].setConfigReq(e.formData);case 2:e.form.formDialogVisable=!1,e.$message.success(e.$t("common.setSuccess")),e.$store.commit("setRecycleBin",e.formData.recycle_bin);case 5:case"end":return t.stop()}}),t)})))()},selectionChange:function(e){this.checkRow=e.map((function(e){return e.id}))},massOperation:function(e){if(0===this.checkRow.length)return this.$message.warning(this.$t("databaseBackup.chooseFirst")),!1;switch(e){case"restore":this.removeRow(null,"multiline");break;case"delete":this.massDeleteRow();break}}}},d=l,u=(a("0c06"),a("2877")),m=Object(u["a"])(d,o,s,!1,null,"5ad990bd",null);t["default"]=m.exports},f57e:function(e,t,a){e.exports=a.p+"img/update.e987cb59.svg"},fa85:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAKNJREFUOE/tk9ENgUEQhL/pQAsqQAkqoANUIjrQASVQASVcCTpABSMrJ3F/Iv968OaeNrmZby+ztyJxbI+BNTCv8gOwkVTU56/mEzDoaG/ANAOIbjPgCCwrZAssgHMG4GoaSrpEbTtec406DZDUaG0/wb8H9IUs2wUY9QnrfZE0edcG4BVSitHN4g+AbzO4S2p2IgDxv3epEcBK0r4ZY9L4UfYARyVN7paVh8IAAAAASUVORK5CYII="}}]);