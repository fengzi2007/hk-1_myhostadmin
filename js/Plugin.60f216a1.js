(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Plugin"],{"0b15":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"plugin"},[a("el-card",{staticClass:"box-card"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{staticClass:"areaList",attrs:{name:"natList"}},[a("div",{staticClass:"node-management-row"},[a("div",{staticClass:"management-left"},[a("h3",[e._v(e._s(e.$t("plugin.disk_io_limit")))])])]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":e.$t("common.loading"),data:e.ipData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"150"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("sortOrder",{attrs:{label:t.column.label,property:t.column.property},on:{callbackChangeOrder:e.handleCallbackChangeOrder}})]}}])}),a("el-table-column",{attrs:{prop:"show_name",label:e.$t("common.storageName")},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.show_name)+" ")]}}])}),a("el-table-column",{attrs:{prop:"type",label:e.$t("common.storageType")},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e.options[a.type])+" ")]}}])}),a("el-table-column",{attrs:{prop:"area_name",label:e.$t("common.area")},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.area_name)+" ")]}}])}),a("el-table-column",{attrs:{label:e.$t("common.manage"),width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("div",{staticClass:"icon-wrapper"},[a("cl-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleModify(i)}}},[e._v(" "+e._s(e.$t("cloudBackup.setting"))+" ")])],1)]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pageInfo.page,"page-sizes":[10,20,50,100],"page-size":e.pageInfo.per_page,layout:"total, sizes, prev, pager, next, jumper",total:e.pageInfo.total},on:{"size-change":e.getData,"current-change":e.getData,"update:currentPage":function(t){return e.$set(e.pageInfo,"page",t)},"update:current-page":function(t){return e.$set(e.pageInfo,"page",t)},"update:pageSize":function(t){return e.$set(e.pageInfo,"per_page",t)},"update:page-size":function(t){return e.$set(e.pageInfo,"per_page",t)}}})],1)],1)],1)],1),a("el-dialog",{attrs:{title:e.$t("plugin.default_speed_limit"),visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.dialogVisible?a("el-form",{ref:"livingElForm",attrs:{model:e.livingFormData,rules:e.livingRules,size:"medium","label-width":"200px"}},[a("el-form-item",{attrs:{label:e.$t("config.create.diskLabel"),prop:"disk_config_switch"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.livingFormData.limit_switch,callback:function(t){e.$set(e.livingFormData,"limit_switch",t)},expression:"livingFormData.limit_switch"}}),a("span",{staticClass:"ml-20"},[e._v(e._s(e.$t("config.create.diskDesc")))])],1),a("div",{staticClass:"limit-box"},[a("el-col",{attrs:{sm:24}},[1===e.livingFormData.limit_switch?a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("config.create.readBytesSecLabel"),prop:"read_bytes_sec"}},[a("el-input-number",{style:{width:"100%"},attrs:{precision:0,min:0,controls:!1,placeholder:e.$t("config.create.placeholder"),clearable:""},on:{change:e.changeTest},model:{value:e.livingFormData.read_bytes_sec,callback:function(t){e.$set(e.livingFormData,"read_bytes_sec",t)},expression:"livingFormData.read_bytes_sec"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("config.create.readBytesSecMaxLabel"),prop:"read_bytes_sec_max"}},[a("el-input-number",{style:{width:"100%"},attrs:{precision:0,min:0,controls:!1,placeholder:e.$t("config.create.placeholder"),clearable:""},on:{change:e.changeTest4},model:{value:e.livingFormData.read_bytes_sec_max,callback:function(t){e.$set(e.livingFormData,"read_bytes_sec_max",t)},expression:"livingFormData.read_bytes_sec_max"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("config.create.writeBytesSecLabel"),prop:"write_bytes_sec"}},[a("el-input-number",{style:{width:"100%"},attrs:{precision:0,min:0,controls:!1,placeholder:e.$t("config.create.placeholder"),clearable:""},on:{change:e.changeTest1},model:{value:e.livingFormData.write_bytes_sec,callback:function(t){e.$set(e.livingFormData,"write_bytes_sec",t)},expression:"livingFormData.write_bytes_sec"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("config.create.writeBytesSecMaxLabel"),prop:"write_bytes_sec_max"}},[a("el-input-number",{style:{width:"100%"},attrs:{precision:0,min:0,controls:!1,placeholder:e.$t("config.create.placeholder"),clearable:""},on:{change:e.changeTest5},model:{value:e.livingFormData.write_bytes_sec_max,callback:function(t){e.$set(e.livingFormData,"write_bytes_sec_max",t)},expression:"livingFormData.write_bytes_sec_max"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("config.create.readIopsSecLabel"),prop:"read_iops_sec"}},[a("el-input-number",{style:{width:"100%"},attrs:{precision:0,min:0,controls:!1,placeholder:e.$t("config.create.placeholder"),clearable:""},on:{change:e.changeTest2},model:{value:e.livingFormData.read_iops_sec,callback:function(t){e.$set(e.livingFormData,"read_iops_sec",t)},expression:"livingFormData.read_iops_sec"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("config.create.readIopsSecMaxLabel"),prop:"read_iops_sec_max"}},[a("el-input-number",{style:{width:"100%"},attrs:{precision:0,min:0,controls:!1,placeholder:e.$t("config.create.placeholder"),clearable:""},on:{change:e.changeTest6},model:{value:e.livingFormData.read_iops_sec_max,callback:function(t){e.$set(e.livingFormData,"read_iops_sec_max",t)},expression:"livingFormData.read_iops_sec_max"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("config.create.writeIopsSecLabel"),prop:"write_iops_sec"}},[a("el-input-number",{style:{width:"100%"},attrs:{precision:0,min:0,controls:!1,placeholder:e.$t("config.create.placeholder"),clearable:""},on:{change:e.changeTest3},model:{value:e.livingFormData.write_iops_sec,callback:function(t){e.$set(e.livingFormData,"write_iops_sec",t)},expression:"livingFormData.write_iops_sec"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("config.create.writeIopsSecMaxLabel"),prop:"write_iops_sec_max"}},[a("el-input-number",{style:{width:"100%"},attrs:{precision:0,min:0,controls:!1,placeholder:e.$t("config.create.placeholder"),clearable:""},on:{change:e.changeTest7},model:{value:e.livingFormData.write_iops_sec_max,callback:function(t){e.$set(e.livingFormData,"write_iops_sec_max",t)},expression:"livingFormData.write_iops_sec_max"}})],1)],1)],1):e._e()],1)],1)],1):e._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))]),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submitScript}},[e._v(e._s(e.$t("admin.confirm"))+" ")])],1)],1)],1)},r=[],o=(a("a9e3"),a("ac1f"),a("841c"),a("96cf"),a("1da1")),n=a("a1fc"),s=(a("dc57"),{metaInfo:function(){return{title:this.$t("plugin.disk_io_limit")}},components:{},data:function(){return{loading:!1,isAdvance:!1,charged:0,AdvanceInfo:{},rowInfo:"",checked:!1,isShowDelDialog:!1,isShowIpDialog:!1,isShowBwDialog:!1,ipData:[],ipList:[],activeName:"natList",dialogTableRevise:!1,formLabelWidth:"140px",confirmTitle:"",confirmText:"",custom:"",pageInfo:{page:1,per_page:20,total:0},optType:"",rules:{name:[{required:!0,message:this.$t("common.input")+this.$t("common.name"),trigger:"blur"}],script:[{required:!0,message:this.$t("common.input")+this.$t("plugin.command"),trigger:"blur"}],image_id:[{required:!0,message:this.$t("common.select")+this.$t("plugin.available_systems"),trigger:"change"}]},options:{local:this.$t("common.local"),ceph:"CEPH"},dialogVisible:!1,livingFormData:{limit_switch:0,read_bytes_sec:void 0,write_bytes_sec:void 0,read_iops_sec:void 0,write_iops_sec:void 0,read_bytes_sec_max:void 0,write_bytes_sec_max:void 0,read_iops_sec_max:void 0,write_iops_sec_max:void 0},livingRules:{read_bytes_sec:[{required:!0,message:this.$t("config.create.placeholder"),trigger:"blur"}],write_bytes_sec:[{required:!0,message:this.$t("config.create.placeholder"),trigger:"blur"}],read_iops_sec:[{required:!0,message:this.$t("config.create.placeholder"),trigger:"blur"}],write_iops_sec:[{required:!0,message:this.$t("config.create.placeholder"),trigger:"blur"}],read_bytes_sec_max:[{required:!0,message:this.$t("config.create.placeholder"),trigger:"blur"}],write_bytes_sec_max:[{required:!0,message:this.$t("config.create.placeholder"),trigger:"blur"}],read_iops_sec_max:[{required:!0,message:this.$t("config.create.placeholder"),trigger:"blur"}],write_iops_sec_max:[{required:!0,message:this.$t("config.create.placeholder"),trigger:"blur"}]}}},methods:{handleModify:function(e){this.livingFormData=JSON.parse(JSON.stringify(e)),this.dialogVisible=!this.dialogVisible},submitScript:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.livingElForm.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,i={id:e.livingFormData.id,limit_switch:e.livingFormData.limit_switch},1===Number(i.limit_switch)&&(i.read_bytes_sec=e.livingFormData.read_bytes_sec,i.write_bytes_sec=e.livingFormData.write_bytes_sec,i.read_iops_sec=e.livingFormData.read_iops_sec,i.write_iops_sec=e.livingFormData.write_iops_sec,i.read_bytes_sec_max=e.livingFormData.read_bytes_sec_max,i.write_bytes_sec_max=e.livingFormData.write_bytes_sec_max,i.read_iops_sec_max=e.livingFormData.read_iops_sec_max,i.write_iops_sec_max=e.livingFormData.write_iops_sec_max),e.loading=!0,t.next=8,n["a"].changeLimitList(i);case 8:e.dialogVisible=!e.dialogVisible,e.$message.success(e.$t("common.updateSuccess")),e.getData(),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](2),e.$message.error(t.t0.data.error);case 16:return t.prev=16,e.loading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},changeTest:function(e){0===e&&(this.livingFormData.read_bytes_sec_max=0)},changeTest1:function(e){0===e&&(this.livingFormData.write_bytes_sec_max=0)},changeTest2:function(e){0===e&&(this.livingFormData.read_iops_sec_max=0)},changeTest3:function(e){0===e&&(this.livingFormData.write_iops_sec_max=0)},changeTest4:function(e){var t=this;0===this.livingFormData.read_bytes_sec&&setTimeout((function(){t.livingFormData.read_bytes_sec_max=0}))},changeTest5:function(e){var t=this;0===this.livingFormData.write_bytes_sec&&setTimeout((function(){t.livingFormData.write_bytes_sec_max=0}))},changeTest6:function(e){var t=this;0===this.livingFormData.read_iops_sec&&setTimeout((function(){t.livingFormData.read_iops_sec_max=0}))},changeTest7:function(e){var t=this;0===this.livingFormData.write_iops_sec&&setTimeout((function(){t.livingFormData.write_iops_sec_max=0}))},getData:function(){var e=this;this.$searchAlive.urlUpdate({search:this.pageInfo.search},location.href,this.$route.query),this.loading=!0,n["a"].getLimitList(this.pageInfo).then((function(t){e.loading=!1,e.ipData=t.data,e.pageInfo.total=t.meta.total})).catch((function(){e.loading=!1}))},searchCallback:function(){this.pageInfo.page=1,this.getData()},handleCallbackChangeOrder:function(e){this.pageInfo.orderby=e.orderby,this.pageInfo.sort=!0===e.sort?"asc":"desc",this.getData()}},created:function(){var e=this.$searchAlive.urlGetData();e&&(this.pageInfo.search=e.search),this.getData()}}),l=s,c=(a("301a"),a("44b4"),a("2877")),u=Object(c["a"])(l,i,r,!1,null,"f81b7398",null);t["default"]=u.exports},"114e":function(e,t,a){"use strict";var i=a("fb6d"),r=a.n(i);r.a},"195a":function(e,t,a){},"1a45":function(e,t,a){"use strict";var i=a("780a"),r=a.n(i);r.a},"20ae":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("el-card",{staticStyle:{position:"relative"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticClass:"font-weight font16",staticStyle:{"margin-bottom":"30px"}},[e._v(" "+e._s(e.$t("plugin.autoMount"))+" ")])]),a("br"),a("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,"label-width":"160px","label-position":e.$globalConfig.labelPosition}},[a("el-form-item",{attrs:{label:e.$t("cloud.selectDataCenter"),prop:"area"}},[a("template",{slot:"label"},[e._v(" "+e._s(e.$t("plugin.tip1"))+" "),a("el-popover",{attrs:{placement:"top-start",width:"250",trigger:"hover"}},[e._v(" "+e._s(e.$t("plugin.tip2"))),a("br"),e._v(" "+e._s(e.$t("plugin.tip3"))+" "),a("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.formData.auto_mount_switch,callback:function(t){e.$set(e.formData,"auto_mount_switch",t)},expression:"formData.auto_mount_switch"}})],2),a("el-form-item",[a("template",{slot:"label"},[e._v(" "+e._s(e.$t("plugin.tip8"))+" "),a("el-popover",{attrs:{placement:"top-start",width:"250",trigger:"hover"}},[e._v(" "+e._s(e.$t("plugin.tip9"))),a("br"),a("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.formData.reinstall_auto_mount,callback:function(t){e.$set(e.formData,"reinstall_auto_mount",t)},expression:"formData.reinstall_auto_mount"}})],2),a("el-form-item",{attrs:{label:e.$t("plugin.autoPath")+1,prop:"auto_mount_dir1"}},[a("el-input",{attrs:{placeholder:e.$t("common.input")+e.$t("plugin.autoPath")+1},model:{value:e.formData.auto_mount_dir1,callback:function(t){e.$set(e.formData,"auto_mount_dir1",t)},expression:"formData.auto_mount_dir1"}})],1),a("el-form-item",{attrs:{label:e.$t("plugin.autoPath")+2,prop:"auto_mount_dir2"}},[a("el-input",{attrs:{placeholder:e.$t("common.input")+e.$t("plugin.autoPath")+2},model:{value:e.formData.auto_mount_dir2,callback:function(t){e.$set(e.formData,"auto_mount_dir2",t)},expression:"formData.auto_mount_dir2"}})],1),a("el-form-item",{attrs:{label:e.$t("plugin.autoPath")+3,prop:"auto_mount_dir3"}},[a("el-input",{attrs:{placeholder:e.$t("common.input")+e.$t("plugin.autoPath")+3},model:{value:e.formData.auto_mount_dir3,callback:function(t){e.$set(e.formData,"auto_mount_dir3",t)},expression:"formData.auto_mount_dir3"}})],1),a("el-form-item",{attrs:{label:e.$t("plugin.autoPath")+4,prop:"auto_mount_dir4"}},[a("el-input",{attrs:{placeholder:e.$t("common.input")+e.$t("plugin.autoPath")+4},model:{value:e.formData.auto_mount_dir4,callback:function(t){e.$set(e.formData,"auto_mount_dir4",t)},expression:"formData.auto_mount_dir4"}})],1),a("el-form-item",{attrs:{label:e.$t("plugin.linux")}},[a("el-select",{model:{value:e.formData.linux_format,callback:function(t){e.$set(e.formData,"linux_format",t)},expression:"formData.linux_format"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("p",{staticClass:"com-tip"},[a("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.$t("plugin.tip4")))])],1)],1),a("el-form-item",{attrs:{size:"large"}},[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submitForm}},[e._v(" "+e._s(e.$t("common.save"))+" ")]),a("el-button",{on:{click:e.jump}},[e._v(" "+e._s(e.$t("common.cancel"))+" ")])],1)],1)],1)],1)},r=[],o=a("5530"),n=(a("96cf"),a("1da1")),s=a("a1fc"),l=(a("dc57"),{metaInfo:function(){return{title:this.$t("plugin.autoMount")}},data:function(){return{isWidthBandShow:!0,loading:!1,formData:{auto_mount_switch:"0",reinstall_auto_mount:"0",auto_mount_dir1:"",auto_mount_dir2:"",auto_mount_dir3:"",auto_mount_dir4:"",linux_format:""},options:[{label:"xfs",value:"xfs"},{label:"ext2",value:"ext2"},{label:"ext3",value:"ext3"},{label:"ext4",value:"ext4"}],rules:{auto_mount_dir1:[{pattern:/^\/.*$/,message:this.$t("cloudBackup.dirValidate")}],auto_mount_dir2:[{pattern:/^\/.*$/,message:this.$t("cloudBackup.dirValidate")}],auto_mount_dir3:[{pattern:/^\/.*$/,message:this.$t("cloudBackup.dirValidate")}],auto_mount_dir4:[{pattern:/^\/.*$/,message:this.$t("cloudBackup.dirValidate")}]}}},methods:{submitForm:function(){var e=this;this.$refs.formData.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",!1);case 2:return e.loading=!0,t.prev=3,t.next=6,s["a"].changeAutomount(e.formData);case 6:e.$message.success(e.$t("common.updateSuccess")),e.$router.push("/plugin"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),e.$message.error(t.t0.data.error);case 13:return t.prev=13,e.loading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[3,10,13,16]])})));return function(e){return t.apply(this,arguments)}}())},jump:function(){this.$router.push("/plugin")},getData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].getAutomount();case 3:a=t.sent,e.formData=Object(o["a"])({},a),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},created:function(){var e=this;document.onkeydown=function(t){var a=t;13===a.keyCode&&e.submitForm()},this.getData()}}),c=l,u=(a("f272"),a("2877")),m=Object(u["a"])(c,i,r,!1,null,"3b9328cc",null);t["default"]=m.exports},"301a":function(e,t,a){"use strict";var i=a("defe"),r=a.n(i);r.a},"33e0":function(e,t,a){"use strict";var i=a("b5a4"),r=a.n(i);r.a},"3dab":function(e,t,a){"use strict";var i=a("7c79"),r=a.n(i);r.a},"44b4":function(e,t,a){"use strict";var i=a("f779"),r=a.n(i);r.a},"46ab":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("el-card",{staticStyle:{position:"relative"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticClass:"font-weight font16",staticStyle:{"margin-bottom":"30px"}},[e._v(" "+e._s(e.$t("plugin.db_remote_backup"))+" ")])]),a("br"),a("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,"label-width":"160px","label-position":e.$globalConfig.labelPosition}},[a("el-form-item",{attrs:{label:e.$t("plugin.remote_backup_type")}},[a("el-select",{attrs:{multiple:"",clearable:"",placeholder:e.$t("common.select")},model:{value:e.formData.remote_type,callback:function(t){e.$set(e.formData,"remote_type",t)},expression:"formData.remote_type"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("span",{staticClass:"db-tip"},[e._v(e._s(e.$t("plugin.tip26")))])],1),a("el-form-item",{attrs:{size:"large"}},[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submitForm}},[e._v(" "+e._s(e.$t("common.save"))+" ")]),a("el-button",{on:{click:e.jump}},[e._v(" "+e._s(e.$t("common.cancel"))+" ")])],1)],1)],1)],1)},r=[],o=(a("99af"),a("96cf"),a("1da1")),n=a("a1fc"),s={metaInfo:function(){return{title:this.$t("plugin.db_remote_backup")}},data:function(){return{isWidthBandShow:!0,loading:!1,formData:{remote_type:[]},options:[{value:"aliyun_oss",label:this.$t("plugin.aliyun_oss")},{value:"tx_cos",label:this.$t("plugin.tx_cos")}],rules:{remote_type:[{required:!0,message:"".concat(this.$t("common.select")).concat(this.$t("plugin.remote_backup_type")),trigger:"blur"}]}}},methods:{submitForm:function(){var e=this;this.$refs.formData.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",!1);case 2:return e.loading=!0,t.prev=3,t.next=6,n["a"].saveDbConfig(e.formData);case 6:e.$message.success(e.$t("common.updateSuccess")),e.$router.push("/plugin"),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:return t.prev=12,e.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[3,10,12,15]])})));return function(e){return t.apply(this,arguments)}}())},jump:function(){this.$router.push("/plugin")},getData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n["a"].getDbConfig();case 3:a=t.sent,e.formData=a,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},created:function(){var e=this;document.onkeydown=function(t){var a=t;13===a.keyCode&&e.submitForm()},this.getData()}},l=s,c=(a("4c00"),a("2877")),u=Object(c["a"])(l,i,r,!1,null,"bd1fd366",null);t["default"]=u.exports},"4c00":function(e,t,a){"use strict";var i=a("fe1d"),r=a.n(i);r.a},"4cb8":function(e,t,a){},"4f04":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("el-card",{staticStyle:{position:"relative"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticClass:"font-weight font16",staticStyle:{"margin-bottom":"30px"}},[e._v(" "+e._s(e.$t("plugin.time_limit"))+" ")])]),a("br"),a("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,"label-width":"160px","label-position":e.$globalConfig.labelPosition}},[a("el-form-item",{staticClass:"no-p",attrs:{prop:"area"}},[a("el-form-item",{staticClass:"l-item"},[a("template",{slot:"label"},[e._v(" "+e._s(e.$t("plugin.time_interval"))+" "),a("el-popover",{attrs:{placement:"top-start",width:"250",trigger:"hover"}},[e._v(" "+e._s(e.$t("plugin.tip22"))+" "),a("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.formData.switch_time_interval,callback:function(t){e.$set(e.formData,"switch_time_interval",t)},expression:"formData.switch_time_interval"}})],2),a("div",{directives:[{name:"show",rawName:"v-show",value:1*e.formData.switch_time_interval,expression:"formData.switch_time_interval*1"}],staticStyle:{display:"flex"}},[a("el-form-item",{staticClass:"sel"},[a("el-select",{model:{value:e.formData.time_interval,callback:function(t){e.$set(e.formData,"time_interval",t)},expression:"formData.time_interval"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"sel"},[a("el-select",{model:{value:e.formData.time_interval_unit,callback:function(t){e.$set(e.formData,"time_interval_unit",t)},expression:"formData.time_interval_unit"}},[a("el-option",{key:"hour",attrs:{label:e.$t("common.hour1"),value:"hour"}}),a("el-option",{key:"day",attrs:{label:e.$t("common.Day"),value:"day"}})],1)],1)],1)],1),a("el-form-item",{staticClass:"no-p"},[a("el-form-item",{staticClass:"l-item"},[a("template",{slot:"label"},[e._v(" "+e._s(e.$t("plugin.task_time_period"))+" "),a("el-popover",{attrs:{placement:"top-start",width:"250",trigger:"hover"}},[e._v(" "+e._s(e.$t("plugin.tip23"))),a("br"),a("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.formData.switch_time_period,callback:function(t){e.$set(e.formData,"switch_time_period",t)},expression:"formData.switch_time_period"}})],2),a("div",{directives:[{name:"show",rawName:"v-show",value:1*e.formData.switch_time_period,expression:"formData.switch_time_period*1"}],staticClass:"time-arr"},e._l(e.formData.time_period,(function(t,i){return a("div",{key:i,staticClass:"item"},[a("el-time-picker",{attrs:{"is-range":"","range-separator":"-","start-placeholder":e.$t("task.startTime"),"end-placeholder":e.$t("common.endTime"),placeholder:"选择时间范围","value-format":"HH:mm:ss"},model:{value:e.formData.time_period[i],callback:function(t){e.$set(e.formData.time_period,i,t)},expression:"formData.time_period[index]"}}),0===i?a("i",{staticClass:"el-icon-circle-plus icons-disk",on:{click:e.addTime}}):e._e(),0!==i?a("i",{staticClass:"el-icon-remove icons-disk",on:{click:function(t){return e.subTime(i)}}}):e._e()],1)})),0)],1),a("el-form-item",{attrs:{size:"large"}},[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submitForm}},[e._v(" "+e._s(e.$t("common.save"))+" ")]),a("el-button",{on:{click:e.jump}},[e._v(" "+e._s(e.$t("common.cancel"))+" ")])],1)],1)],1)],1)},r=[],o=(a("4de4"),a("13d5"),a("a434"),a("96cf"),a("1da1")),n=a("a1fc"),s=(a("dc57"),{metaInfo:function(){return{title:this.$t("plugin.time_limit")}},data:function(){return{isWidthBandShow:!0,loading:!1,formData:{switch_time_interval:"0",time_interval:"1",time_interval_unit:"hour",switch_time_period:"0",time_period:[["00:00:00","08:00:00"]]},options:[],rules:{auto_mount_dir1:[{pattern:/^\/.*$/,message:this.$t("cloudBackup.dirValidate")}],auto_mount_dir2:[{pattern:/^\/.*$/,message:this.$t("cloudBackup.dirValidate")}],auto_mount_dir3:[{pattern:/^\/.*$/,message:this.$t("cloudBackup.dirValidate")}],auto_mount_dir4:[{pattern:/^\/.*$/,message:this.$t("cloudBackup.dirValidate")}]}}},watch:{"formData.switch_time_period":function(e){1*e&&0===this.formData.time_period.length&&this.formData.time_period.push(["00:00:00","08:00:00"])}},methods:{addTime:function(){this.formData.time_period.push(["00:00:00","08:00:00"])},subTime:function(e){this.formData.time_period.splice(e,1)},submitForm:function(){var e=this;this.$refs.formData.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",!1);case 2:return e.loading=!0,t.prev=3,i=JSON.parse(JSON.stringify(e.formData)),i.time_period=i.time_period.filter((function(e){return e})).reduce((function(e,t){return e.push({start:t[0],end:t[1]}),e}),[]),t.next=8,n["a"].saveLimitConfig(i);case 8:e.$message.success(e.$t("common.updateSuccess")),e.getData(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](3),e.$message.error(t.t0.data.error);case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})));return function(e){return t.apply(this,arguments)}}())},jump:function(){this.$router.push("/plugin")},getData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n["a"].getLimitConfig();case 3:a=t.sent,a.time_period=a.time_period.reduce((function(e,t){return e.push([t.start,t.end]),e}),[]),e.formData=a,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},created:function(){for(var e=this,t=1;t<=24;t++)this.options.push({label:"".concat(t),value:"".concat(t)});document.onkeydown=function(t){var a=t;13===a.keyCode&&e.submitForm()},this.getData()}}),l=s,c=(a("114e"),a("2877")),u=Object(c["a"])(l,i,r,!1,null,"416e3e6e",null);t["default"]=u.exports},"51ea":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"plugin"},[a("el-card",{staticClass:"box-card"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{staticClass:"areaList",attrs:{name:"natList"}},[a("crumbs"),a("el-button",{staticStyle:{"margin-top":"30px"},attrs:{type:"primary",size:"small"},on:{click:e.getMore}},[e._v(" "+e._s(e.$t("plugin.getMore"))+" ")]),a("div",{staticClass:"node-management-row"},[a("div",{staticClass:"management-left"},[a("searchInput",{attrs:{placeholder:e.$t("common.pleaseChoose5")},on:{callback:e.searchCallback},model:{value:e.pageInfo.search,callback:function(t){e.$set(e.pageInfo,"search",t)},expression:"pageInfo.search"}})],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":e.$t("common.loading"),data:e.ipData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"150"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("sortOrder",{attrs:{label:t.column.label,property:t.column.property},on:{callbackChangeOrder:e.handleCallbackChangeOrder}})]}}])}),a("el-table-column",{attrs:{prop:"name",label:e.$t("plugin.name"),"min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.title)+" ")]}}])}),a("el-table-column",{attrs:{prop:"version",label:e.$t("common.version")},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.version)+" ")]}}])}),a("el-table-column",{attrs:{prop:"author",label:e.$t("plugin.author"),"min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.author)+" ")]}}])}),a("el-table-column",{attrs:{prop:"status",label:e.$t("common.status"),width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[3===i.status?a("el-tag",[e._v(e._s(e.$t("plugin.notInstall")))]):1===i.status?a("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.$t("plugin.open")))]):a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.$t("plugin.disable")))])]}}])}),a("el-table-column",{attrs:{label:e.$t("common.manage"),width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[3===i.status?a("cl-button",{attrs:{type:"primary"},on:{click:function(t){return e.installPlugin(i)}}},[e._v(" "+e._s(e.$t("plugin.install")))]):a("div",{staticClass:"icon-wrapper"},[a("cl-button",{attrs:{type:"primary"},on:{click:function(t){return e.pluginConfig(i)}}},[e._v(e._s(e.$t("plugin.config"))+" ")]),1===i.status||0===i.status?a("cl-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleModify(i)}}},[e._v(" "+e._s(1===i.status?e.$t("plugin.disable"):e.$t("plugin.open"))+" ")]):e._e(),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.deleteRow(i)}}},[e._v(" "+e._s(e.$t("plugin.uninstall")))])],1)]}}])})],1)],1)],1)],1),a("el-dialog",{staticClass:"confirm",attrs:{width:"550px","before-close":e.handleClose,visible:e.isShowDelDialog,center:"","append-to-body":""},on:{"update:visible":function(t){e.isShowDelDialog=t}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"titleDom",staticStyle:{display:"flex","justify-content":"flex-start"}},[e._v(" "+e._s(e.confirmTitle)+" ")])]),a("div",{staticClass:"container"},[a("div",{staticClass:"deleteIcon-wrapper"},[a("span",{staticClass:"el-icon-delete-solid"})]),a("div",{staticClass:"text"},[e._v(e._s(e.confirmText))]),e._t("radio")],2),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e._t("button"),a("el-button",{on:{click:e.handleClose}},[e._v(e._s(e.$t("common.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.sumbitDelete}},[e._v(e._s(e.$t("common.sure")))])],2)])],1)},r=[],o=(a("b0c0"),a("ac1f"),a("841c"),a("96cf"),a("1da1")),n=(a("830e"),a("a1fc")),s=a("f61f"),l=(a("dc57"),{metaInfo:function(){return{title:this.$t("plugin.plugin")}},components:{},data:function(){return{loading:!1,isAdvance:!1,charged:0,AdvanceInfo:{},rowInfo:"",checked:!1,isShowDelDialog:!1,isShowIpDialog:!1,isShowBwDialog:!1,ipData:[],ipList:[],ipForm:{product_type:"host",rel_id:""},activeName:"natList",dialogTableRevise:!1,formLabelWidth:"140px",confirmTitle:"",confirmText:"",custom:"",pageInfo:{page:1,per_page:20,total:0,search:"",orderby:"id",sort:"desc"},optType:"",rules:{product_type:[{required:!0,message:this.$t("common.select")+this.$t("elastic.product_type"),trigger:"change"}],rel_id:[{required:!0,message:this.$t("common.select")+this.$t("elastic.product_name"),trigger:"change"}]},options:[{value:"host",label:this.$t("elastic.cloud")},{value:"load_balance",label:this.$t("elastic.load_balance")}],productOptions:[],enable_node:[]}},methods:{getData:function(){var e=this;this.$searchAlive.urlUpdate({search:this.pageInfo.search},location.href,this.$route.query),this.loading=!0,n["a"].getPluginList(this.pageInfo).then((function(t){e.loading=!1,e.ipData=t.data,e.getCommonConfig()})).catch((function(){e.loading=!1}))},getCommonConfig:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getCommonConfig();case 2:t=e.sent,localStorage.setItem("commonPlugin",t.plugin);case 4:case"end":return e.stop()}}),e)})))()},searchCallback:function(){this.pageInfo.page=1,this.getData()},pluginConfig:function(e){switch(e.name){case"AutoMount":this.$router.push("/auto_mount");break;case"BootScript":this.$router.push("/boot_script");break;case"Whitelist":this.$router.push("/white_list");break;case"DiskIoLimit":this.$router.push("/disk_io_limit");break;case"GoogleAuth":this.$router.push("/google_auth");break;case"BackupTimeLimit":this.$router.push("/backup_time_limit");break;case"FlowStatistics":this.$router.push("/flow_statistics");break;case"DbRemoteBackup":this.$router.push("/db_remote_backup");break;default:return!1}},installPlugin:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n["a"].installPlugin(e.name);case 3:t.$message({message:t.$t("plugin.install")+t.$t("common.success"),type:"success"}),t.getData(),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),t.$message.error(a.t0.data.error);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},handleClose:function(){this.isShowDelDialog=!1},deleteRow:function(e){this.rowInfo=e,this.isShowDelDialog=!this.isShowDelDialog,this.confirmTitle=this.$t("common.uninstall"),this.confirmText=this.$t("plugin.confirmDelete")+e.title+"？",this.optType="delete"},sumbitDelete:function(){"delete"===this.optType&&this.submitDeleteRow(),"change"===this.optType&&this.changePlugin()},changePlugin:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={id:e.rowInfo.id,status:1===e.rowInfo.status?0:1},t.next=4,n["a"].changePluginStatus(a);case 4:e.$message({message:(1===e.rowInfo.status?e.$t("plugin.disable"):e.$t("plugin.open"))+e.$t("common.success"),type:"success"}),e.isShowDelDialog=!e.isShowDelDialog,e.getData(),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},submitDeleteRow:function(){var e=this,t=this.rowInfo;n["a"].uninstallPlugin(t.name).then((function(t){e.$message({message:e.$t("plugin.uninstall")+e.$t("common.success"),type:"success"}),e.isShowDelDialog=!e.isShowDelDialog,e.getData()}),(function(t){e.$message.error(t.data.error)})).catch((function(t){e.$message.error(t.data.error)}))},handleCallbackChangeOrder:function(e){this.pageInfo.orderby=e.orderby,this.pageInfo.sort=!0===e.sort?"asc":"desc",this.getData()},handleModify:function(e){return 0===this.$store.state.config.edition?this.$message(this.$t("common.msg8")):2===this.$store.state.config.edition?this.$message(this.$t("common.msg228")):(this.rowInfo=e,this.isShowDelDialog=!0,this.confirmTitle=1===e.status?this.$t("plugin.disable"):this.$t("plugin.open"),this.confirmText=(1===e.status?this.$t("plugin.confirmDisable"):this.$t("plugin.confirmOpen"))+e.title+"？",void(this.optType="change"))},getMore:function(){window.open("https://market.idcsmart.com/shop/#/app-store?app_type=addons")}},created:function(){var e=this.$searchAlive.urlGetData();e&&(this.pageInfo.search=e.search),this.getData()}}),c=l,u=(a("bfeb"),a("2877")),m=Object(u["a"])(c,i,r,!1,null,"8b3c9fbc",null);t["default"]=m.exports},"5f5d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"plugin"},[a("el-card",{staticClass:"box-card"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{staticClass:"areaList",attrs:{name:"natList"}},[a("p",{staticClass:"boot-tit"},[e._v(e._s(e.$t("plugin.flow_statistics")))]),a("div",{staticClass:"top-select"},[a("div",{staticClass:"left"},[a("el-select",{staticClass:"mr-10 select-type",attrs:{placeholder:e.$t("common.select"),size:"small"},on:{change:e.changeType},model:{value:e.curType,callback:function(t){e.curType=t},expression:"curType"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),"uid"===e.curType||"search"===e.curType?a("el-input",{staticStyle:{width:"260px"},attrs:{placeholder:e.calcPlac,size:"small",clearable:""},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}):a("el-select",{staticStyle:{width:"190px"},attrs:{placeholder:e.$t("common.select"),size:"small",clearable:""},model:{value:e.curId,callback:function(t){e.curId=t},expression:"curId"}},e._l(e.calcOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("el-button",{staticClass:"ml-20",attrs:{type:"primary",size:"small"},on:{click:e.getData}},[e._v(" "+e._s(e.$t("plugin.query")))])],1),a("div",{staticClass:"r-time"},[a("el-select",{staticClass:"mr-10 select-type",attrs:{placeholder:e.$t("common.select"),size:"small"},on:{change:e.getData},model:{value:e.pageInfo.type,callback:function(t){e.$set(e.pageInfo,"type",t)},expression:"pageInfo.type"}},e._l(e.selectOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-select",{staticClass:"mr-10",staticStyle:{width:"190px"},attrs:{placeholder:e.$t("common.select"),size:"small"},on:{change:e.ChooseTimeType},model:{value:e.curTime,callback:function(t){e.curTime=t},expression:"curTime"}},e._l(e.timeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),"4"===e.curTime?a("el-date-picker",{attrs:{size:"small",type:"datetimerange","range-separator":e.$t("common.to"),"start-placeholder":e.$t("plugin.start_time"),"end-placeholder":e.$t("plugin.end_time"),"picker-options":e.pickerOptions,"default-time":e.defaultTime},on:{change:e.changeTime},model:{value:e.timeAraea,callback:function(t){e.timeAraea=t},expression:"timeAraea"}}):e._e()],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":e.$t("common.loading"),data:e.ipData}},[a("el-table-column",{key:"1",attrs:{prop:"id",label:"ID",width:"150"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("sortOrder",{attrs:{label:t.column.label,property:t.column.property},on:{callbackChangeOrder:e.handleCallbackChangeOrder}})]}}])}),a("el-table-column",{key:"2",attrs:{prop:"hostname",label:e.$t("plugin.instance_name"),"min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("div",{staticClass:" Ycenter"},[1===i.lock?a("el-tooltip",{attrs:{content:e.$t("common.theInstanceIsLocked")}},[a("i",{staticClass:"el-icon-lock "})]):e._e(),a("router-link",{staticClass:"text-ellipsis",attrs:{to:{name:"CloudsHome",query:{id:i.id}}}},[a("el-link",{staticClass:"text-ellipsis",attrs:{type:"primary"}},[e._v(e._s(i.hostname))])],1),i.remark?a("div",{staticStyle:{color:"#ccc","font-size":"12px","line-height":"1"}},[e._v(" "+e._s(i.remark))]):e._e()],1)]}}])}),a("el-table-column",{attrs:{prop:"os",label:e.$t("common.operatingSystem"),"min-width":"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("div",{staticStyle:{width:"20px",height:"20px",overflow:"hidden","margin-right":"10px"}},[a("img",{staticStyle:{height:"20px"},attrs:{src:e.$globalUrl+"/common/system/"+i.svg+".svg",alt:""}})]),e._v(" "+e._s(i.os)+" ")])]}}])}),a("el-table-column",{key:"3",attrs:{prop:"username",label:e.$t("common.client"),"min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.username)+" ")]}}])}),"flow"===e.pageInfo.type?[a("el-table-column",{key:"4",attrs:{prop:"in_flow",label:e.$t("common.allIn"),width:"auto"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("sortOrder",{attrs:{label:t.column.label,property:t.column.property},on:{callbackChangeOrder:e.handleCallbackChangeOrder}})]}}],null,!1,501797150)}),a("el-table-column",{key:"5",attrs:{prop:"out_flow",label:e.$t("common.outflow"),width:"auto"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("sortOrder",{attrs:{label:t.column.label,property:t.column.property},on:{callbackChangeOrder:e.handleCallbackChangeOrder}})]}}],null,!1,501797150)}),a("el-table-column",{key:"6",attrs:{prop:"total_flow",label:e.$t("plugin.total_flow"),width:"auto"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("sortOrder",{attrs:{label:t.column.label,property:t.column.property},on:{callbackChangeOrder:e.handleCallbackChangeOrder}})]}}],null,!1,501797150)})]:e._e(),"cpu_percent"===e.pageInfo.type?[a("el-table-column",{key:"7",attrs:{prop:"cpu_percent",label:e.$t("common.cpuUtilization1"),width:"auto"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("sortOrder",{attrs:{label:t.column.label,property:t.column.property},on:{callbackChangeOrder:e.handleCallbackChangeOrder}})]}}],null,!1,501797150)})]:e._e(),"iops"===e.pageInfo.type?[a("el-table-column",{key:"8",attrs:{prop:"read_iops",label:"IOPS（"+e.$t("common.read2")+"）",width:"auto"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("sortOrder",{attrs:{label:t.column.label,property:t.column.property},on:{callbackChangeOrder:e.handleCallbackChangeOrder}})]}}],null,!1,501797150)}),a("el-table-column",{key:"9",attrs:{prop:"write_iops",label:"IOPS（"+e.$t("common.write2")+"）",width:"auto"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("sortOrder",{attrs:{label:t.column.label,property:t.column.property},on:{callbackChangeOrder:e.handleCallbackChangeOrder}})]}}],null,!1,501797150)})]:e._e(),a("el-table-column",{key:"10",attrs:{prop:"node",label:e.$t("common.nodeArea"),width:"120px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("div",[a("div",[e._v(" "+e._s(i.node)+" ")]),a("div",[e._v(" "+e._s(i.area||"")+" ")])])]}}])})],2),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pageInfo.page,"page-sizes":[10,20,50,100],"page-size":e.pageInfo.per_page,layout:"total, sizes, prev, pager, next, jumper",total:e.pageInfo.total},on:{"size-change":e.getData,"current-change":e.getData,"update:currentPage":function(t){return e.$set(e.pageInfo,"page",t)},"update:current-page":function(t){return e.$set(e.pageInfo,"page",t)},"update:pageSize":function(t){return e.$set(e.pageInfo,"per_page",t)},"update:page-size":function(t){return e.$set(e.pageInfo,"per_page",t)}}})],1)],1)],1)],1)],1)},r=[],o=(a("ac1f"),a("841c"),a("96cf"),a("1da1")),n=a("a1fc"),s=(a("dc57"),{metaInfo:function(){return{title:this.$t("plugin.flow_statistics")}},components:{},data:function(){return{loading:!1,isAdvance:!1,charged:0,AdvanceInfo:{},rowInfo:"",checked:!1,isShowDelDialog:!1,isShowIpDialog:!1,isShowBwDialog:!1,ipData:[],ipList:[],activeName:"natList",dialogTableRevise:!1,formLabelWidth:"140px",confirmTitle:"",confirmText:"",custom:"",pageInfo:{page:1,per_page:20,total:0,orderby:"id",sort:"desc",node_id:"",area_id:"",image_group_id:"",search:"",start_time:null,end_time:null,type:"flow"},keywords:"",curId:"",timeAraea:[],optType:"",curTime:"1",timeOptions:[{value:"1",label:this.$t("common.hour")},{value:"2",label:this.$t("common.sevenDay")},{value:"3",label:30+this.$t("common.Day")},{value:"4",label:this.$t("common.custom")}],nodeList:[],areaList:[],rules:{name:[{required:!0,message:this.$t("common.input")+this.$t("common.name"),trigger:"blur"}],script:[{required:!0,message:this.$t("common.input")+this.$t("plugin.command"),trigger:"blur"}],image_id:[{required:!0,message:this.$t("common.select")+this.$t("plugin.available_systems"),trigger:"change"}]},options:[{value:"search",label:this.$t("adminGroup.all")},{value:"node_id",label:this.$t("common.node")},{value:"area_id",label:this.$t("common.area")},{value:"image_group_id",label:this.$t("image.imageGroup")}],curType:"search",productOptions:[],enable_node:[],configData:{pre_boot_script:"0",custom_boot_script:"0"},formTitle:"",dialogFormVisible:!1,dialogForm:{id:"",name:"",script:"",image_id:[]},imageArr:[],imageInfo:{page:1,per_page:1e3,status:1},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},defaultTime:["00:00:00"],selectOptions:[{value:"flow",label:this.$t("common.flow")},{value:"cpu_percent",label:"cpu".concat(this.$t("common.usePercent"))},{value:"iops",label:"IOPS"}]}},computed:{calcPlac:function(){var e="";switch(this.curType){case"node_id":e=this.$t("common.selectNode");break;case"area_id":e=this.$t("common.selectARegion");break;default:e=this.$t("plugin.tip25")}return e},calcOptions:function(){return"node_id"===this.curType?this.nodeList:"area_id"===this.curType?this.areaList:this.imageArr}},methods:{getGroupList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n["a"].getImageGroupList({page:1,per_page:1e3});case 3:a=t.sent,e.imageArr=a.data,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},changeType:function(){this.keywords="",this.curId=""},ChooseTimeType:function(e){var t=parseInt((new Date).getTime()/1e3);switch(e){case"1":this.pageInfo.start_time=t-86400;break;case"2":this.pageInfo.start_time=t-604800;break;case"3":this.pageInfo.start_time=t-2592e3;break;default:this.pageInfo.start_time=null}"4"===e?this.pageInfo.end_time=null:(this.pageInfo.end_time=t,this.getData())},changeTime:function(e){e&&(this.pageInfo.start_time=new Date(e[0]/1e3).getTime(),this.pageInfo.end_time=new Date(e[1]/1e3).getTime(),this.getData())},getData:function(){var e=this;this.$searchAlive.urlUpdate({search:this.pageInfo.search},location.href,this.$route.query),this.loading=!0;var t=JSON.parse(JSON.stringify(this.pageInfo));"search"===this.curType?t[this.curType]=this.keywords:t[this.curType]=this.curId,n["a"].getFlowStatistics(t).then((function(t){e.loading=!1,e.ipData=t.data,e.pageInfo.total=t.meta.total})).catch((function(){e.loading=!1}))},handleCallbackChangeOrder:function(e,t){this.pageInfo.orderby=t||e.orderby,this.pageInfo.sort=!0===e.sort?"asc":"desc",this.getData()},getNode:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n["a"].getNodeList({list_type:"all"});case 3:a=t.sent,e.nodeList=a.data.sort((function(e,t){return e.id-t.id})),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getArea:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n["a"].getAreaList({list_type:"all"});case 3:a=t.sent,e.areaList=a.data.sort((function(e,t){return e.id-t.id})),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},searchCallback:function(){this.pageInfo.page=1,this.getData()}},created:function(){var e=this.$searchAlive.urlGetData();e&&(this.pageInfo.search=e.search);var t=parseInt((new Date).getTime()/1e3);this.pageInfo.start_time=t-86400,this.pageInfo.end_time=t,this.getData(),this.getNode(),this.getArea(),this.getGroupList();var a=new Date;this.defaultTime=["00:00:00",a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()]}}),l=s,c=(a("94b1b"),a("dbea"),a("2877")),u=Object(c["a"])(l,i,r,!1,null,"1f32b13f",null);t["default"]=u.exports},"5fcb":function(e,t,a){},"6858b":function(e,t,a){},"6d1d":function(e,t,a){},"780a":function(e,t,a){},"7c79":function(e,t,a){},"8a8a":function(e,t,a){"use strict";var i=a("6858b"),r=a.n(i);r.a},"94b1b":function(e,t,a){"use strict";var i=a("6d1d"),r=a.n(i);r.a},a434:function(e,t,a){"use strict";var i=a("23e7"),r=a("23cb"),o=a("a691"),n=a("50c4"),s=a("7b0b"),l=a("65f0"),c=a("8418"),u=a("1dde"),m=a("ae40"),p=u("splice"),d=m("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,f=Math.min,h=9007199254740991,_="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!p||!d},{splice:function(e,t){var a,i,u,m,p,d,v=s(this),b=n(v.length),w=r(e,b),$=arguments.length;if(0===$?a=i=0:1===$?(a=0,i=b-w):(a=$-2,i=f(g(o(t),0),b-w)),b+a-i>h)throw TypeError(_);for(u=l(v,i),m=0;m<i;m++)p=w+m,p in v&&c(u,m,v[p]);if(u.length=i,a<i){for(m=w;m<b-i;m++)p=m+i,d=m+a,p in v?v[d]=v[p]:delete v[d];for(m=b;m>b-i+a;m--)delete v[m-1]}else if(a>i)for(m=b-i;m>w;m--)p=m+i-1,d=m+a-1,p in v?v[d]=v[p]:delete v[d];for(m=0;m<a;m++)v[m+w]=arguments[m+2];return v.length=b-i+a,u}})},b5a4:function(e,t,a){},bfeb:function(e,t,a){"use strict";var i=a("5fcb"),r=a.n(i);r.a},d30d:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"plugin"},[a("el-card",{staticClass:"box-card"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{staticClass:"areaList",attrs:{name:"natList"}},[a("p",{staticClass:"boot-tit"},[e._v(e._s(e.$t("plugin.white_list")))]),a("el-form",{ref:"configData",staticClass:"topForm",attrs:{model:e.configData,"label-width":"110px","label-position":"left"}},[a("el-form-item",{attrs:{label:e.$t("plugin.white_list_fun"),prop:"whitelist_switch"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:0===e.ipData.length},on:{change:e.changeConfig},model:{value:e.configData.whitelist_switch,callback:function(t){e.$set(e.configData,"whitelist_switch",t)},expression:"configData.whitelist_switch"}}),a("span",{staticClass:"tip"},[e._v(e._s(e.$t("plugin.tip10")))])],1)],1),a("div",{staticClass:"node-management-row"},[a("div",{staticClass:"management-left"}),a("div",{staticClass:"button-wrapper"},[a("addButton",{attrs:{text:e.$t("common.add")+"IP"},nativeOn:{click:function(t){return e.addScript(t)}}})],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":e.$t("common.loading"),data:e.ipData}},[a("el-table-column",{attrs:{prop:"ip",label:e.$t("common.ipAddress")}}),a("el-table-column",{attrs:{prop:"remark",label:e.$t("common.remark")}}),a("el-table-column",{attrs:{label:e.$t("common.manage"),width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("div",{staticClass:"icon-wrapper"},[a("cl-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleModify(i)}}},[e._v(" "+e._s(e.$t("migration.edit"))+" ")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.deleteRow(i)}}},[e._v(" "+e._s(e.$t("common.delete")))])],1)]}}])})],1)],1)],1)],1),a("el-dialog",{attrs:{title:e.formTitle,visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.reset}},[e.dialogFormVisible?a("el-form",{ref:"scriptForm",attrs:{model:e.dialogForm,"label-width":"110px",rules:e.rules}},[a("el-form-item",{attrs:{label:e.$t("common.ipAddress"),prop:"ip"}},[a("el-input",{staticStyle:{width:"85%"},attrs:{autocomplete:"off"},model:{value:e.dialogForm.ip,callback:function(t){e.$set(e.dialogForm,"ip",t)},expression:"dialogForm.ip"}})],1),a("el-form-item",{attrs:{label:e.$t("common.remark"),prop:"reamrk"}},[a("el-input",{staticStyle:{width:"85%"},attrs:{type:"textarea",autocomplete:"off"},model:{value:e.dialogForm.remark,callback:function(t){e.$set(e.dialogForm,"remark",t)},expression:"dialogForm.remark"}})],1)],1):e._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))]),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submitScript}},[e._v(e._s(e.$t("admin.confirm"))+" ")])],1)],1),a("el-dialog",{staticClass:"confirm",attrs:{width:"550px","before-close":e.handleClose,visible:e.isShowDelDialog,center:"","append-to-body":""},on:{"update:visible":function(t){e.isShowDelDialog=t}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"titleDom",staticStyle:{display:"flex","justify-content":"flex-start"}},[e._v(" "+e._s(e.confirmTitle)+" ")])]),a("div",{staticClass:"container"},[a("div",{staticClass:"deleteIcon-wrapper"},[a("span",{staticClass:"el-icon-delete-solid"})]),a("div",{staticClass:"text"},[e._v(e._s(e.confirmText))]),e._t("radio")],2),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e._t("button"),a("el-button",{on:{click:e.handleClose}},[e._v(e._s(e.$t("common.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitDeleteRow}},[e._v(e._s(e.$t("common.sure")))])],2)])],1)},r=[],o=(a("ac1f"),a("841c"),a("96cf"),a("1da1")),n=a("a1fc"),s=(a("dc57"),{metaInfo:function(){return{title:this.$t("plugin.white_list")}},components:{},data:function(){return{loading:!1,isAdvance:!1,charged:0,AdvanceInfo:{},rowInfo:"",checked:!1,isShowDelDialog:!1,isShowIpDialog:!1,isShowBwDialog:!1,ipData:[],ipList:[],activeName:"natList",dialogTableRevise:!1,formLabelWidth:"140px",confirmTitle:"",confirmText:"",custom:"",pageInfo:{page:1,per_page:20,total:0,search:"",orderby:"id",sort:"desc"},optType:"",rules:{ip:[{required:!0,message:this.$t("common.input")+this.$t("common.ipAddress")},{validator:this.$validate.validateIp,trigger:"blur"}]},options:[{value:"host",label:this.$t("elastic.cloud")},{value:"load_balance",label:this.$t("elastic.load_balance")}],productOptions:[],enable_node:[],configData:{whitelist_switch:0},formTitle:"",dialogFormVisible:!1,dialogForm:{ip:"",remark:""},tempIp:""}},methods:{changeConfig:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n["a"].changeWhiteListConfig(e.configData);case 3:e.$message({message:e.$t("common.updateSuccess"),type:"success"}),e.getData(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.configData.whitelist_switch=e.configData.whitelist_switch?0:1;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},submitScript:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.scriptForm.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,i={ip:e.tempIp,new_ip:e.dialogForm.ip,remark:e.dialogForm.remark},"add"===e.optType&&(i.ip=e.dialogForm.ip,delete i.new_ip),e.loading=!0,t.next=8,n["a"].addWhiteList(e.optType,i);case 8:e.dialogFormVisible=!e.dialogFormVisible,e.$message.success("add"===e.optType?e.$t("common.addSuccess"):e.$t("common.updateSuccess")),e.getData(),t.next=15;break;case 13:t.prev=13,t.t0=t["catch"](2);case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,13,15,18]])})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},addScript:function(){this.formTitle=this.$t("common.add1"),this.dialogFormVisible=!0,this.dialogForm.ip="",this.dialogForm.remark="",this.optType="add"},reset:function(){this.dialogFormVisible=!1},changeCascader:function(e){},getData:function(){var e=this;this.$searchAlive.urlUpdate({search:this.pageInfo.search},location.href,this.$route.query),this.loading=!0,n["a"].getWhiteListConfig().then((function(t){e.loading=!1,e.ipData=t.ip,e.configData.whitelist_switch=t.whitelist_switch})).catch((function(t){e.loading=!1}))},searchCallback:function(){this.pageInfo.page=1,this.getData()},deleteRow:function(e){this.rowInfo=e,this.isShowDelDialog=!this.isShowDelDialog,this.confirmTitle=this.$t("common.delete"),this.confirmText=this.$t("common.confirmDelete1")+e.ip+"？",this.optType="delete"},submitDeleteRow:function(){var e=this,t=this.rowInfo;n["a"].deleteWhiteList({ip:t.ip}).then((function(t){e.$message({message:e.$t("common.deleteSuccess"),type:"success"}),e.isShowDelDialog=!e.isShowDelDialog,e.getData()}),(function(t){e.$message.error(t.data.error)})).catch((function(t){e.$message.error(t.data.error)}))},handleClose:function(){this.isShowDelDialog=!this.isShowDelDialog},handleCallbackChangeOrder:function(e){this.pageInfo.orderby=e.orderby,this.pageInfo.sort=!0===e.sort?"asc":"desc",this.getData()},handleModify:function(e){this.optType="change",this.formTitle=this.$t("migration.edit"),this.rowInfo=e,this.dialogFormVisible=!this.dialogFormVisible,this.dialogForm.ip=e.ip,this.dialogForm.remark=e.remark,this.tempIp=e.ip}},created:function(){var e=this.$searchAlive.urlGetData();e&&(this.pageInfo.search=e.search),this.getData()}}),l=s,c=(a("33e0"),a("1a45"),a("2877")),u=Object(c["a"])(l,i,r,!1,null,"803018a4",null);t["default"]=u.exports},db56:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("el-card",{staticStyle:{position:"relative"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticClass:"font-weight font16",staticStyle:{"margin-bottom":"30px"}},[e._v(" "+e._s(e.$t("plugin.google_verif"))+" "),e.isCustomer?e._e():a("span",[e._v(e._s(e.$t("plugin.plugin")))])])]),a("br"),a("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,"label-width":"220px","label-position":e.$globalConfig.labelPosition}},[e.isCustomer?a("el-form-item",{attrs:{label:e.$t("cloud.selectDataCenter"),prop:"area"}},[a("template",{slot:"label"},[e._v(" "+e._s(e.$t("plugin.tip20"))+" "),a("el-popover",{attrs:{placement:"top-start",width:"250",trigger:"hover"}},[e._v(" "+e._s(e.$t("plugin.tip21"))+" "),a("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.enable,callback:function(t){e.$set(e.formData,"enable",t)},expression:"formData.enable"}})],2):[a("el-form-item",{attrs:{label:e.$t("cloud.selectDataCenter"),prop:"area"}},[a("template",{slot:"label"},[e._v(" "+e._s(e.$t("plugin.tip11"))+" "),a("el-popover",{attrs:{placement:"top-start",width:"250",trigger:"hover"}},[e._v(" "+e._s(e.$t("plugin.tip12"))+" "),a("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.formData.google_force_switch,callback:function(t){e.$set(e.formData,"google_force_switch",t)},expression:"formData.google_force_switch"}}),a("el-select",{staticStyle:{"margin-left":"20px"},attrs:{multiple:"",placeholder:e.$t("plugin.choose_admin")},model:{value:e.formData.admin,callback:function(t){e.$set(e.formData,"admin",t)},expression:"formData.admin"}},e._l(e.userList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],2),a("el-form-item",{attrs:{label:e.$t("cloud.selectDataCenter"),prop:"area"}},[a("template",{slot:"label"},[e._v(" "+e._s(e.$t("plugin.tip16"))+" "),a("el-popover",{attrs:{placement:"top-start",width:"250",trigger:"hover"}},[e._v(" "+e._s(e.$t("plugin.tip17"))+" "),a("i",{staticClass:"el-icon-question ml-10",staticStyle:{color:"#cccccc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.formData.google_client_switch,callback:function(t){e.$set(e.formData,"google_client_switch",t)},expression:"formData.google_client_switch"}})],2)],a("el-form-item",{attrs:{size:"large"}},[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submitForm}},[e._v(" "+e._s(e.$t("common.save"))+" ")]),a("el-button",{on:{click:e.jump}},[e._v(" "+e._s(e.$t("common.cancel"))+" ")])],1)],2)],1),e.isShowDialog?a("GoogleDialogVue"):e._e()],1)},r=[],o=(a("13d5"),a("d3b7"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("96cf"),a("1da1")),n=a("4360"),s=a("a1fc"),l=a("bed4"),c=(a("dc57"),{metaInfo:function(){return{title:this.$t("plugin.google_check")}},data:function(){return{isWidthBandShow:!0,loading:!1,formData:{google_force_switch:"0",google_client_switch:"0",admin:[],enable:0},userInfo:{},userList:[],isShowDialog:!1,codeImg:"",rules:{},isCustomer:!0}},components:{GoogleDialogVue:l["a"]},methods:{getCode:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].getCode();case 3:a=t.sent,i="data:img/png;base64,"+window.btoa(new Uint8Array(a).reduce((function(e,t){return e+String.fromCharCode(t)}),"")),e.codeImg=i,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},submitForm:function(){var e=this;this.$refs.formData.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",!1);case 2:e.loading=!0,e.isCustomer?e.clientSubmit():e.adminSubmit();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},adminSubmit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].updateGoogleConfig(e.formData);case 3:e.$message.success(e.$t("common.updateSuccess")),e.getUser(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$message.error(t.t0.data.error);case 10:return t.prev=10,e.loading=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})))()},clientSubmit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].changeLoginForce(e.formData.enable?"enable":"disable");case 3:e.$message.success(e.$t("common.updateSuccess")),e.getUser(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$message.error(t.t0.data.error);case 10:return t.prev=10,e.loading=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})))()},jump:function(){this.$router.push("/plugin")},getData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].getGoogleConfig();case 3:a=t.sent,e.formData.google_force_switch=a.google_force_switch,e.formData.google_client_switch=a.google_client_switch,e.formData.admin=a.admin.reduce((function(e,t){return e.push(t.id),e}),[]),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUser:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].getUserInfo();case 3:a=t.sent,e.userInfo=a,localStorage.setItem("userInfo",JSON.stringify(a)),n["a"].commit("saveUserInfo"),e.userInfo.google_auth&&0===e.userInfo.google_auth.bind_status&&(e.isCustomer?1===e.$store.state.userInfo.google_auth.enable&&(e.isShowDialog=!0,e.getCode()):(e.isShowDialog=!0,e.getCode())),e.isCustomer&&(e.formData.enable=e.userInfo.google_auth&&e.userInfo.google_auth.enable),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})))()},getAdminList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].getAdminList({page:1,per_page:1e4});case 3:a=t.sent,e.userList=a.data,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},created:function(){var e=this;document.onkeydown=function(t){var a=t;13===a.keyCode&&e.submitForm()},this.isCustomer||(this.getData(),this.getAdminList()),this.getUser()}}),u=c,m=(a("ef1a"),a("2877")),p=Object(m["a"])(u,i,r,!1,null,"4cf90bdb",null);t["default"]=p.exports},dbea:function(e,t,a){"use strict";var i=a("e338"),r=a.n(i);r.a},dc57:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var i=function(e,t){var a,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t||500;return function(){var t=this,o=arguments;a&&clearTimeout(a),a=setTimeout((function(){a=null,e.apply(t,o)}),r),i&&(i=!1,e.apply(this,o))}},r=function(e,t){var a=null,i=t||1e3;return function(){var t=arguments;a||(e.apply(this,t),a=setTimeout((function(){a=null}),i))}}},defe:function(e,t,a){},e338:function(e,t,a){},e59f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"plugin"},[a("el-card",{staticClass:"box-card"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{staticClass:"areaList",attrs:{name:"natList"}},[a("p",{staticClass:"boot-tit"},[e._v(e._s(e.$t("plugin.boot_script_plugin")))]),a("el-form",{ref:"configData",staticClass:"topForm",attrs:{model:e.configData,rules:e.rules,"label-width":"110px","label-position":"left"}},[a("el-form-item",{attrs:{label:e.$t("plugin.pre_boot_script"),prop:"pre_boot_script"}},[a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},on:{change:e.changeConfig},model:{value:e.configData.pre_boot_script,callback:function(t){e.$set(e.configData,"pre_boot_script",t)},expression:"configData.pre_boot_script"}}),a("span",{staticClass:"tip"},[e._v(e._s(e.$t("plugin.tip5")))])],1),a("el-form-item",{attrs:{label:e.$t("plugin.custom_boot_script"),prop:"pre_boot_script"}},[a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},on:{change:e.changeConfig},model:{value:e.configData.custom_boot_script,callback:function(t){e.$set(e.configData,"custom_boot_script",t)},expression:"configData.custom_boot_script"}}),a("span",{staticClass:"tip"},[e._v(e._s(e.$t("plugin.tip6")))])],1)],1),a("p",{staticClass:"com-tip"},[a("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.$t("plugin.tip7")))])],1),a("div",{staticClass:"node-management-row"},[a("div",{staticClass:"management-left"},[a("h3",[e._v(e._s(e.$t("plugin.script_manage")))])]),a("div",{staticClass:"button-wrapper"},[a("addButton",{attrs:{text:e.$t("common.add1")},nativeOn:{click:function(t){return e.addScript(t)}}})],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":e.$t("common.loading"),data:e.ipData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"150"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("sortOrder",{attrs:{label:t.column.label,property:t.column.property},on:{callbackChangeOrder:e.handleCallbackChangeOrder}})]}}])}),a("el-table-column",{attrs:{prop:"name",label:e.$t("common.name"),"min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.name)+" ")]}}])}),a("el-table-column",{attrs:{prop:"available_systems",label:e.$t("plugin.available_systems"),"min-width":"300","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return e._l(i.image,(function(t,r){return a("span",{key:t.id},[e._v(e._s(t.name)+" "),i.image.length>1&&r!==i.image.length-1?a("span",[e._v(";")]):e._e()])}))}}])}),a("el-table-column",{attrs:{label:e.$t("common.manage"),width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("div",{staticClass:"icon-wrapper"},[a("cl-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleModify(i)}}},[e._v(" "+e._s(e.$t("migration.edit"))+" ")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.deleteRow(i)}}},[e._v(" "+e._s(e.$t("common.delete")))])],1)]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pageInfo.page,"page-sizes":[10,20,50,100],"page-size":e.pageInfo.per_page,layout:"total, sizes, prev, pager, next, jumper",total:e.pageInfo.total},on:{"size-change":e.getData,"current-change":e.getData,"update:currentPage":function(t){return e.$set(e.pageInfo,"page",t)},"update:current-page":function(t){return e.$set(e.pageInfo,"page",t)},"update:pageSize":function(t){return e.$set(e.pageInfo,"per_page",t)},"update:page-size":function(t){return e.$set(e.pageInfo,"per_page",t)}}})],1)],1)],1)],1),a("el-dialog",{attrs:{title:e.formTitle,visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.reset}},[a("el-form",{ref:"scriptForm",attrs:{model:e.dialogForm,"label-width":"110px",rules:e.rules}},[a("el-form-item",{attrs:{label:e.$t("common.name"),prop:"name"}},[a("el-input",{staticStyle:{width:"85%"},attrs:{autocomplete:"off"},model:{value:e.dialogForm.name,callback:function(t){e.$set(e.dialogForm,"name",t)},expression:"dialogForm.name"}})],1),a("el-form-item",{attrs:{label:e.$t("plugin.command"),prop:"script"}},[a("el-input",{staticStyle:{width:"85%"},attrs:{type:"textarea",rows:4,placeholder:e.$t("image.scriptPlaceholder"),autocomplete:"off"},model:{value:e.dialogForm.script,callback:function(t){e.$set(e.dialogForm,"script",t)},expression:"dialogForm.script"}})],1),a("el-form-item",{attrs:{label:e.$t("plugin.available_systems"),prop:"image_id"}},[a("el-cascader",{ref:"cascader",attrs:{options:e.imageArr,"show-all-levels":!1,props:{multiple:!0,emitPath:!1,value:"id",label:"name",children:"image"}},on:{change:e.changeCascader},model:{value:e.dialogForm.image_id,callback:function(t){e.$set(e.dialogForm,"image_id",t)},expression:"dialogForm.image_id"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitScript}},[e._v(e._s(e.$t("admin.confirm"))+" ")])],1)],1),a("el-dialog",{staticClass:"confirm",attrs:{width:"550px","before-close":e.handleClose,visible:e.isShowDelDialog,center:"","append-to-body":""},on:{"update:visible":function(t){e.isShowDelDialog=t}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"titleDom",staticStyle:{display:"flex","justify-content":"flex-start"}},[e._v(" "+e._s(e.confirmTitle)+" ")])]),a("div",{staticClass:"container"},[a("div",{staticClass:"deleteIcon-wrapper"},[a("span",{staticClass:"el-icon-delete-solid"})]),a("div",{staticClass:"text"},[e._v(e._s(e.confirmText))]),e._t("radio")],2),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e._t("button"),a("el-button",{on:{click:e.handleClose}},[e._v(e._s(e.$t("common.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitDeleteRow}},[e._v(e._s(e.$t("common.sure")))])],2)])],1)},r=[],o=(a("4160"),a("d81d"),a("b0c0"),a("ac1f"),a("841c"),a("159b"),a("5530")),n=(a("96cf"),a("1da1")),s=a("a1fc"),l=(a("dc57"),{metaInfo:function(){return{title:this.$t("plugin.boot_script_plugin")}},components:{},data:function(){return{loading:!1,isAdvance:!1,charged:0,AdvanceInfo:{},rowInfo:"",checked:!1,isShowDelDialog:!1,isShowIpDialog:!1,isShowBwDialog:!1,ipData:[],ipList:[],activeName:"natList",dialogTableRevise:!1,formLabelWidth:"140px",confirmTitle:"",confirmText:"",custom:"",pageInfo:{page:1,per_page:20,total:0,search:"",orderby:"id",sort:"desc"},optType:"",rules:{name:[{required:!0,message:this.$t("common.input")+this.$t("common.name"),trigger:"blur"}],script:[{required:!0,message:this.$t("common.input")+this.$t("plugin.command"),trigger:"blur"}],image_id:[{required:!0,message:this.$t("common.select")+this.$t("plugin.available_systems"),trigger:"change"}]},options:[{value:"host",label:this.$t("elastic.cloud")},{value:"load_balance",label:this.$t("elastic.load_balance")}],productOptions:[],enable_node:[],configData:{pre_boot_script:"0",custom_boot_script:"0"},formTitle:"",dialogFormVisible:!1,dialogForm:{id:"",name:"",script:"",image_id:[]},imageArr:[],imageInfo:{page:1,per_page:1e3,status:1}}},methods:{changeConfig:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].changeScriptConfig(e.configData);case 3:e.$message({message:e.$t("common.updateSuccess"),type:"success"}),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),e.$message({message:t.t0.data.error,type:"error"});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},submitScript:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.scriptForm.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,i=Object(o["a"])({},e.dialogForm),"add"===e.optType&&delete i.id,t.next=7,s["a"].addBootScript(e.optType,i);case 7:e.dialogFormVisible=!e.dialogFormVisible,e.$message.success("add"===e.optType?e.$t("common.addSuccess"):e.$t("common.updateSuccess")),e.getData(),e.getImageList(),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](2),e.$message.error(t.t0.data.error);case 16:return t.prev=16,e.loading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},addScript:function(){this.formTitle=this.$t("common.add1"),this.$refs.scriptForm&&this.$refs.scriptForm.resetFields(),this.dialogFormVisible=!0,this.dialogForm.name="",this.dialogForm.script="",this.dialogForm.image_id=[],this.optType="add"},reset:function(){var e=this.$refs.cascader;e.$refs.panel.activePath=[],this.dialogForm.image_id=[],this.dialogFormVisible=!1},getImageList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].getImageList(e.imageInfo);case 3:a=t.sent,e.imageArr=a,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},changeCascader:function(e){},getData:function(){var e=this;this.$searchAlive.urlUpdate({search:this.pageInfo.search},location.href,this.$route.query),this.loading=!0,s["a"].getBootScriptList(this.pageInfo).then((function(t){e.loading=!1,e.ipData=t.data,e.pageInfo.total=t.meta.total})).catch((function(){e.loading=!1}))},getScript:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].getScriptConfig();case 3:a=t.sent,e.configData=Object(o["a"])({},a),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},searchCallback:function(){this.pageInfo.page=1,this.getData()},deleteRow:function(e){this.rowInfo=e,this.isShowDelDialog=!this.isShowDelDialog,this.confirmTitle=this.$t("common.delete"),this.confirmText=this.$t("common.confirmDelete1")+e.name+"？",this.optType="delete"},submitDeleteRow:function(){var e=this,t=this.rowInfo;s["a"].deleteBootScript(t.id).then((function(t){e.$message({message:e.$t("common.deleteSuccess"),type:"success"}),e.isShowDelDialog=!e.isShowDelDialog,e.getData(),e.getImageList()}),(function(t){e.$message.error(t.data.error)})).catch((function(t){e.$message.error(t.data.error)}))},handleClose:function(){this.isShowDelDialog=!this.isShowDelDialog},handleCallbackChangeOrder:function(e){this.pageInfo.orderby=e.orderby,this.pageInfo.sort=!0===e.sort?"asc":"desc",this.getData()},handleModify:function(e){var t=this;return 0===this.$store.state.config.edition?this.$message(this.$t("common.msg8")):2===this.$store.state.config.edition?this.$message(this.$t("common.msg228")):(this.dialogForm.image_id=[],this.optType="change",this.formTitle=this.$t("migration.edit"),this.rowInfo=e,this.dialogFormVisible=!this.dialogFormVisible,this.dialogForm.id=e.id,this.dialogForm.name=e.name,this.dialogForm.script=e.script,e.image.forEach((function(e){t.dialogForm.image_id.push(e.id)})),this.$refs.scriptForm&&this.$refs.scriptForm.clearValidate(),void this.$nextTick((function(){var e;t.dialogForm.image_id=null===(e=t.$refs.cascader)||void 0===e?void 0:e.getCheckedNodes(!0).map((function(e){return e.value}))})))},getMore:function(){window.open("https://market.idcsmart.com/shop/#/app-store?app_type=addons")}},created:function(){var e=this.$searchAlive.urlGetData();e&&(this.pageInfo.search=e.search),this.getData(),this.getScript(),this.getImageList()}}),c=l,u=(a("3dab"),a("8a8a"),a("2877")),m=Object(u["a"])(c,i,r,!1,null,"c71ad276",null);t["default"]=m.exports},ef1a:function(e,t,a){"use strict";var i=a("4cb8"),r=a.n(i);r.a},f272:function(e,t,a){"use strict";var i=a("195a"),r=a.n(i);r.a},f779:function(e,t,a){},fb6d:function(e,t,a){},fe1d:function(e,t,a){}}]);